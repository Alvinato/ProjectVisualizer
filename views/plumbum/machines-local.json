{"path": "/home/asumal/git/cs410/plumbum/plumbum/machines/local.py", "lines": [[{"error": "C", "line": "1", "code": "from __future__ import with_statement\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "2", "code": "import os\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "3", "code": "import sys\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "4", "code": "import subprocess\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "5", "code": "import logging\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "6", "code": "import time\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "7", "code": "import platform\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "8", "code": "import re\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "9", "code": "from plumbum.path.local import LocalPath, LocalWorkdir\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "10", "code": "from tempfile import mkdtemp\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "11", "code": "from contextlib import contextmanager\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "12", "code": "from plumbum.path.remote import RemotePath\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "13", "code": "from plumbum.commands import CommandNotFound, ConcreteCommand\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "14", "code": "from plumbum.machines.session import ShellSession\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "15", "code": "from plumbum.lib import ProcInfo, IS_WIN32, six\n", "colour": "black", "author": "tomerfiliba@gmail.com"}, {"error": "none", "line": "16", "code": "from plumbum.commands.daemons import win32_daemonize, posix_daemonize\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "17", "code": "from plumbum.machines.env import BaseEnv\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "18", "code": "\n", "colour": "black", "author": "tomerfiliba@gmail.com"}, {"error": "none", "line": "19", "code": "if sys.version_info >= (3, 2):\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "20", "code": "    # python 3.2 has the new-and-improved subprocess module\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "21", "code": "    from subprocess import Popen, PIPE\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "22", "code": "    has_new_subprocess = True\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "23", "code": "else:\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "24", "code": "    # otherwise, see if we have subprocess32\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "25", "code": "    try:\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "F", "line": "26", "code": "        from subprocess32 import Popen, PIPE\n", "colour": "red", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "27", "code": "        has_new_subprocess = True\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "28", "code": "    except ImportError:\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "29", "code": "        from subprocess import Popen, PIPE\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "30", "code": "        has_new_subprocess = False\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "31", "code": "\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "32", "code": "\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "33", "code": "logger = logging.getLogger(\"plumbum.local\")\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "34", "code": "\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "35", "code": "\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "36", "code": "#===================================================================================================\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "37", "code": "# Environment\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "38", "code": "#===================================================================================================\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "39", "code": "class LocalEnv(BaseEnv):\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "40", "code": "    \"\"\"The local machine's environment; exposes a dict-like interface\"\"\"\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "41", "code": "    __slots__ = []\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "42", "code": "    CASE_SENSITIVE = not IS_WIN32\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "43", "code": "\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "44", "code": "    def __init__(self):\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "45", "code": "        # os.environ already takes care of upper'ing on windows\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "46", "code": "        self._curr = os.environ.copy()\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "47", "code": "        BaseEnv.__init__(self, LocalPath, os.path.pathsep)\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "48", "code": "        if IS_WIN32 and \"HOME\" not in self and self.home is not None:\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "49", "code": "            self[\"HOME\"] = self.home\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "50", "code": "\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "51", "code": "    def expand(self, expr):\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "52", "code": "        \"\"\"Expands any environment variables and home shortcuts found in ``expr``\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "53", "code": "        (like ``os.path.expanduser`` combined with ``os.path.expandvars``)\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "54", "code": "\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "55", "code": "        :param expr: An expression containing environment variables (as ``$FOO``) or\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "56", "code": "                     home shortcuts (as ``~/.bashrc``)\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "57", "code": "\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "58", "code": "        :returns: The expanded string\"\"\"\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "59", "code": "        prev = os.environ\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "60", "code": "        os.environ = self.getdict()\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "61", "code": "        try:\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "62", "code": "            output = os.path.expanduser(os.path.expandvars(expr))\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "63", "code": "        finally:\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "64", "code": "            os.environ = prev\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "65", "code": "        return output\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "66", "code": "\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "67", "code": "    def expanduser(self, expr):\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "68", "code": "        \"\"\"Expand home shortcuts (e.g., ``~/foo/bar`` or ``~john/foo/bar``)\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "69", "code": "\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "70", "code": "        :param expr: An expression containing home shortcuts\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "71", "code": "\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "72", "code": "        :returns: The expanded string\"\"\"\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "73", "code": "        prev = os.environ\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "74", "code": "        os.environ = self.getdict()\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "75", "code": "        try:\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "76", "code": "            output = os.path.expanduser(expr)\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "77", "code": "        finally:\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "78", "code": "            os.environ = prev\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "79", "code": "        return output\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "80", "code": "\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "81", "code": "#===================================================================================================\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "82", "code": "# Local Commands\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "83", "code": "#===================================================================================================\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "84", "code": "class LocalCommand(ConcreteCommand):\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "85", "code": "    __slots__ = []\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "86", "code": "    QUOTE_LEVEL = 2\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "87", "code": "\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "88", "code": "    def __init__(self, executable, encoding = \"auto\"):\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "89", "code": "        ConcreteCommand.__init__(self, executable,\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "90", "code": "            local.encoding if encoding == \"auto\" else encoding)\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "91", "code": "    def __repr__(self):\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "92", "code": "        return \"LocalCommand(%r)\" % (self.executable,)\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "93", "code": "\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "94", "code": "    @property\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "95", "code": "    def machine(self):\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "96", "code": "        return local\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "97", "code": "\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "98", "code": "    def popen(self, args = (), cwd = None, env = None, **kwargs):\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "99", "code": "        if isinstance(args, six.string_types):\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "100", "code": "            args = (args,)\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "W", "line": "101", "code": "        return local._popen(self.executable, self.formulate(0, args),\n", "colour": "purple", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "102", "code": "            cwd = self.cwd if cwd is None else cwd, env = self.env if env is None else env,\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "103", "code": "            **kwargs)\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "104", "code": "\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "105", "code": "#===================================================================================================\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "106", "code": "# Local Machine\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "107", "code": "#===================================================================================================\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "108", "code": "class LocalMachine(object):\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "109", "code": "    \"\"\"The *local machine* (a singleton object). It serves as an entry point to everything\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "110", "code": "    related to the local machine, such as working directory and environment manipulation,\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "111", "code": "    command creation, etc.\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "112", "code": "\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "113", "code": "    Attributes:\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "114", "code": "\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "115", "code": "    * ``cwd`` - the local working directory\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "116", "code": "    * ``env`` - the local environment\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "117", "code": "    * ``encoding`` - the local machine's default encoding (``sys.getfilesystemencoding()``)\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "118", "code": "    \"\"\"\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "119", "code": "    cwd = LocalWorkdir()\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "120", "code": "    env = LocalEnv()\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "121", "code": "    encoding = sys.getfilesystemencoding()\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "122", "code": "    uname = platform.uname()[0]\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "123", "code": "\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "124", "code": "    def __init__(self):\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "125", "code": "        self._as_user_stack = []\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "126", "code": "\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "127", "code": "    if IS_WIN32:\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "128", "code": "        _EXTENSIONS = [\"\"] + env.get(\"PATHEXT\", \":.exe:.bat\").lower().split(os.path.pathsep)\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "129", "code": "\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "130", "code": "        @classmethod\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "131", "code": "        def _which(cls, progname):\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "132", "code": "            progname = progname.lower()\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "133", "code": "            for p in cls.env.path:\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "134", "code": "                for ext in cls._EXTENSIONS:\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "135", "code": "                    fn = p / (progname + ext)\n", "colour": "blue", "author": "tomer.filiba@emc.com"}, {"error": "none", "line": "136", "code": "                    if fn.access(\"x\"):\n", "colour": "black", "author": "tomer.filiba@emc.com"}, {"error": "none", "line": "137", "code": "                        return fn\n", "colour": "black", "author": "tomer.filiba@emc.com"}, {"error": "none", "line": "138", "code": "            return None\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "139", "code": "    else:\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "140", "code": "        @classmethod\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "141", "code": "        def _which(cls, progname):\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "142", "code": "            for p in cls.env.path:\n", "colour": "blue", "author": "jlisee@gmail.com"}, {"error": "C", "line": "143", "code": "                fn = p / progname\n", "colour": "blue", "author": "tomer.filiba@emc.com"}, {"error": "none", "line": "144", "code": "                if fn.access(\"x\"):\n", "colour": "black", "author": "tomer.filiba@emc.com"}, {"error": "none", "line": "145", "code": "                    return fn\n", "colour": "black", "author": "tomer.filiba@emc.com"}, {"error": "none", "line": "146", "code": "            return None\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "147", "code": "\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "148", "code": "    @classmethod\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "149", "code": "    def which(cls, progname):\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "150", "code": "        \"\"\"Looks up a program in the ``PATH``. If the program is not found, raises\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "151", "code": "        :class:`CommandNotFound <plumbum.commands.CommandNotFound>`\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "152", "code": "\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "153", "code": "        :param progname: The program's name. Note that if underscores (``_``) are present\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "154", "code": "                         in the name, and the exact name is not found, they will be replaced\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "155", "code": "                         in turn by hyphens (``-``) then periods (``.``), and the name will\n", "colour": "blue", "author": "tomerfiliba@gmail.com"}, {"error": "none", "line": "156", "code": "                         be looked up again for each alternative\n", "colour": "black", "author": "andy@9mmedia.com"}, {"error": "none", "line": "157", "code": "\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "158", "code": "        :returns: A :class:`LocalPath <plumbum.machines.local.LocalPath>`\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "159", "code": "        \"\"\"\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "160", "code": "        alternatives = [progname]\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "161", "code": "        if \"_\" in progname:\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "162", "code": "            alternatives.append(progname.replace(\"_\", \"-\"))\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "163", "code": "            alternatives.append(progname.replace(\"_\", \".\"))\n", "colour": "black", "author": "andy@9mmedia.com"}, {"error": "C", "line": "164", "code": "        for pn in alternatives:\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "165", "code": "            path = cls._which(pn)\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "166", "code": "            if path:\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "167", "code": "                return path\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "168", "code": "        raise CommandNotFound(progname, list(cls.env.path))\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "169", "code": "\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "170", "code": "    def path(self, *parts):\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "171", "code": "        \"\"\"A factory for :class:`LocalPaths <plumbum.path.local.LocalPath>`.\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "172", "code": "        Usage: ``p = local.path(\"/usr\", \"lib\", \"python2.7\")``\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "173", "code": "        \"\"\"\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "174", "code": "        parts2 = [str(self.cwd)]\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "175", "code": "        for p in parts:\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "176", "code": "            if isinstance(p, RemotePath):\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "177", "code": "                raise TypeError(\"Cannot construct LocalPath from %r\" % (p,))\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "178", "code": "            parts2.append(self.env.expanduser(str(p)))\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "W", "line": "179", "code": "        return LocalPath(os.path.join(*parts2))\n", "colour": "purple", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "180", "code": "\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "181", "code": "    def __getitem__(self, cmd):\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "182", "code": "        \"\"\"Returns a `Command` object representing the given program. ``cmd`` can be a string or\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "183", "code": "        a :class:`LocalPath <plumbum.path.local.LocalPath>`; if it is a path, a command\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "184", "code": "        representing this path will be returned; otherwise, the program name will be looked up\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "185", "code": "        in the system's ``PATH`` (using ``which``). Usage::\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "186", "code": "\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "187", "code": "            ls = local[\"ls\"]\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "188", "code": "        \"\"\"\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "189", "code": "        if isinstance(cmd, LocalPath):\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "190", "code": "            return LocalCommand(cmd)\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "191", "code": "        elif not isinstance(cmd, RemotePath):\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "192", "code": "            if \"/\" in cmd or \"\\\\\" in cmd:\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "193", "code": "                # assume path\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "194", "code": "                return LocalCommand(local.path(cmd))\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "195", "code": "            else:\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "196", "code": "                # search for command\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "197", "code": "                return LocalCommand(self.which(cmd))\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "198", "code": "        else:\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "199", "code": "            raise TypeError(\"cmd must not be a RemotePath: %r\" % (cmd,))\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "200", "code": "\n", "colour": "black", "author": "tomerfiliba@gmail.com"}, {"error": "none", "line": "201", "code": "    def __contains__(self, cmd):\n", "colour": "black", "author": "tomerfiliba@gmail.com"}, {"error": "C", "line": "202", "code": "        \"\"\"Tests for the existance of the command, e.g., ``\"ls\" in plumbum.local``.\n", "colour": "blue", "author": "tomerfiliba@gmail.com"}, {"error": "none", "line": "203", "code": "        ``cmd`` can be anything acceptable by ``__getitem__``.\n", "colour": "black", "author": "tomerfiliba@gmail.com"}, {"error": "none", "line": "204", "code": "        \"\"\"\n", "colour": "black", "author": "tomerfiliba@gmail.com"}, {"error": "none", "line": "205", "code": "        try:\n", "colour": "black", "author": "tomerfiliba@gmail.com"}, {"error": "none", "line": "206", "code": "            self[cmd]\n", "colour": "black", "author": "tomerfiliba@gmail.com"}, {"error": "none", "line": "207", "code": "        except CommandNotFound:\n", "colour": "black", "author": "tomerfiliba@gmail.com"}, {"error": "none", "line": "208", "code": "            return False\n", "colour": "black", "author": "tomerfiliba@gmail.com"}, {"error": "none", "line": "209", "code": "        else:\n", "colour": "black", "author": "tomerfiliba@gmail.com"}, {"error": "none", "line": "210", "code": "            return True\n", "colour": "black", "author": "tomerfiliba@gmail.com"}, {"error": "none", "line": "211", "code": "\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "R", "line": "212", "code": "    def _popen(self, executable, argv, stdin = PIPE, stdout = PIPE, stderr = PIPE,\n", "colour": "green", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "213", "code": "            cwd = None, env = None, new_session = False, **kwargs):\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "214", "code": "        if new_session:\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "215", "code": "            if has_new_subprocess:\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "216", "code": "                kwargs[\"start_new_session\"] = True\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "217", "code": "            elif subprocess.mswindows:\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "218", "code": "                kwargs[\"creationflags\"] = kwargs.get(\"creationflags\", 0) | subprocess.CREATE_NEW_PROCESS_GROUP\n", "colour": "blue", "author": "tomerfiliba@gmail.com"}, {"error": "none", "line": "219", "code": "            else:\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "220", "code": "                def preexec_fn(prev_fn = kwargs.get(\"preexec_fn\", lambda: None)):\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "221", "code": "                    os.setsid()\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "222", "code": "                    prev_fn()\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "223", "code": "                kwargs[\"preexec_fn\"] = preexec_fn\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "224", "code": "\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "225", "code": "        if subprocess.mswindows and \"startupinfo\" not in kwargs and stdin not in (sys.stdin, None):\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "226", "code": "            kwargs[\"startupinfo\"] = sui = subprocess.STARTUPINFO()\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "227", "code": "            if hasattr(subprocess, \"_subprocess\"):\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "W", "line": "228", "code": "                sui.dwFlags |= subprocess._subprocess.STARTF_USESHOWWINDOW  # @UndefinedVariable\n", "colour": "purple", "author": "Tomer.Filiba@emc.com"}, {"error": "W", "line": "229", "code": "                sui.wShowWindow = subprocess._subprocess.SW_HIDE  # @UndefinedVariable\n", "colour": "purple", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "230", "code": "            else:\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "231", "code": "                sui.dwFlags |= subprocess.STARTF_USESHOWWINDOW  # @UndefinedVariable\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "232", "code": "                sui.wShowWindow = subprocess.SW_HIDE  # @UndefinedVariable\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "233", "code": "\n", "colour": "black", "author": "tomerfiliba@gmail.com"}, {"error": "none", "line": "234", "code": "        if not has_new_subprocess and \"close_fds\" not in kwargs:\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "235", "code": "            if subprocess.mswindows and (stdin is not None or stdout is not None or stderr is not None):\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "236", "code": "                # we can't close fds if we're on windows and we want to redirect any std handle\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "237", "code": "                kwargs[\"close_fds\"] = False\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "238", "code": "            else:\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "239", "code": "                kwargs[\"close_fds\"] = True\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "240", "code": "\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "241", "code": "        if cwd is None:\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "242", "code": "            cwd = self.cwd\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "243", "code": "        if env is None:\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "244", "code": "            env = self.env\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "245", "code": "        if isinstance(env, BaseEnv):\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "246", "code": "            env = env.getdict()\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "247", "code": "\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "248", "code": "        if self._as_user_stack:\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "249", "code": "            argv, executable = self._as_user_stack[-1](argv)\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "250", "code": "\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "251", "code": "        logger.debug(\"Running %r\", argv)\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "252", "code": "        proc = Popen(argv, executable = str(executable), stdin = stdin, stdout = stdout,\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "253", "code": "            stderr = stderr, cwd = str(cwd), env = env, **kwargs)  # bufsize = 4096\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "W", "line": "254", "code": "        proc._start_time = time.time()\n", "colour": "purple", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "255", "code": "        proc.encoding = self.encoding\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "256", "code": "        proc.argv = argv\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "257", "code": "        return proc\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "258", "code": "\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "R", "line": "259", "code": "    def daemonic_popen(self, command, cwd = \"/\"):\n", "colour": "green", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "260", "code": "        \"\"\"\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "261", "code": "        On POSIX systems:\n", "colour": "black", "author": "tomer.filiba@emc.com"}, {"error": "none", "line": "262", "code": "\n", "colour": "black", "author": "tomerfiliba@gmail.com"}, {"error": "C", "line": "263", "code": "        Run ``command`` as a UNIX daemon: fork a child process to setpid, redirect std handles to /dev/null,\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "264", "code": "        umask, close all fds, chdir to ``cwd``, then fork and exec ``command``. Returns a ``Popen`` process that\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "265", "code": "        can be used to poll/wait for the executed command (but keep in mind that you cannot access std handles)\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "266", "code": "\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "267", "code": "        On Windows:\n", "colour": "black", "author": "tomer.filiba@emc.com"}, {"error": "none", "line": "268", "code": "\n", "colour": "black", "author": "tomerfiliba@gmail.com"}, {"error": "C", "line": "269", "code": "        Run ``command`` as a \"Windows daemon\": detach from controlling console and create a new process group.\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "270", "code": "        This means that the command will not receive console events and would survive its parent's termination.\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "271", "code": "        Returns a ``Popen`` object.\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "272", "code": "\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "273", "code": "        .. note:: this does not run ``command`` as a system service, only detaches it from its parent.\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "274", "code": "\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "275", "code": "        .. versionadded:: 1.3\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "276", "code": "        \"\"\"\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "277", "code": "        if IS_WIN32:\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "278", "code": "            return win32_daemonize(command, cwd)\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "279", "code": "        else:\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "280", "code": "            return posix_daemonize(command, cwd)\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "281", "code": "\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "282", "code": "    if IS_WIN32:\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "R", "line": "283", "code": "        def list_processes(self):\n", "colour": "green", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "284", "code": "            \"\"\"\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "285", "code": "            Returns information about all running processes (on Windows: using ``tasklist``)\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "286", "code": "\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "287", "code": "            .. versionadded:: 1.3\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "288", "code": "            \"\"\"\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "289", "code": "            import csv\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "290", "code": "            tasklist = local[\"tasklist\"]\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "291", "code": "            lines = tasklist(\"/V\", \"/FO\", \"CSV\").encode(\"utf8\").splitlines()\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "292", "code": "            rows = csv.reader(lines)\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "293", "code": "            header = rows.next()\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "294", "code": "            imgidx = header.index('Image Name')\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "295", "code": "            pididx = header.index('PID')\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "296", "code": "            statidx = header.index('Status')\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "297", "code": "            useridx = header.index('User Name')\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "298", "code": "            for row in rows:\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "299", "code": "                yield ProcInfo(int(row[pididx]), row[useridx].decode(\"utf8\"),\n", "colour": "black", "author": "tomerfiliba@gmail.com"}, {"error": "C", "line": "300", "code": "                    row[statidx].decode(\"utf8\"), row[imgidx].decode(\"utf8\"))\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "301", "code": "    else:\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "302", "code": "        def list_processes(self):\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "303", "code": "            \"\"\"\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "304", "code": "            Returns information about all running processes (on POSIX systems: using ``ps``)\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "305", "code": "\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "306", "code": "            .. versionadded:: 1.3\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "307", "code": "            \"\"\"\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "308", "code": "            ps = self[\"ps\"]\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "309", "code": "            lines = ps(\"-e\", \"-o\", \"pid,uid,stat,args\").splitlines()\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "310", "code": "            lines.pop(0) # header\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "311", "code": "            for line in lines:\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "312", "code": "                parts = line.strip().split()\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "313", "code": "                yield ProcInfo(int(parts[0]), int(parts[1]), parts[2], \" \".join(parts[3:]))\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "314", "code": "\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "315", "code": "    def pgrep(self, pattern):\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "316", "code": "        \"\"\"\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "317", "code": "        Process grep: return information about all processes whose command-line args match the given regex pattern\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "318", "code": "        \"\"\"\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "319", "code": "        pat = re.compile(pattern)\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "320", "code": "        for procinfo in self.list_processes():\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "321", "code": "            if pat.search(procinfo.args):\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "322", "code": "                yield procinfo\n", "colour": "black", "author": "tomerfiliba@gmail.com"}, {"error": "none", "line": "323", "code": "\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "324", "code": "    def session(self, new_session = False):\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "325", "code": "        \"\"\"Creates a new :class:`ShellSession <plumbum.session.ShellSession>` object; this\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "326", "code": "        invokes ``/bin/sh`` and executes commands on it over stdin/stdout/stderr\"\"\"\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "327", "code": "        return ShellSession(self[\"sh\"].popen(new_session = new_session))\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "328", "code": "\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "329", "code": "    @contextmanager\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "330", "code": "    def tempdir(self):\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "331", "code": "        \"\"\"A context manager that creates a temporary directory, which is removed when the context\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "332", "code": "        exits\"\"\"\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "W", "line": "333", "code": "        dir = self.path(mkdtemp())  # @ReservedAssignment\n", "colour": "purple", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "334", "code": "        try:\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "335", "code": "            yield dir\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "336", "code": "        finally:\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "337", "code": "            dir.delete()\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "338", "code": "\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "339", "code": "    @contextmanager\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "340", "code": "    def as_user(self, username = None):\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "341", "code": "        \"\"\"Run nested commands as the given user. For example::\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "342", "code": "\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "343", "code": "            head = local[\"head\"]\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "344", "code": "            head(\"-n1\", \"/dev/sda1\")    # this will fail...\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "345", "code": "            with local.as_user():\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "346", "code": "                head(\"-n1\", \"/dev/sda1\")\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "347", "code": "\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "348", "code": "        :param username: The user to run commands as. If not given, root (or Administrator) is assumed\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "349", "code": "        \"\"\"\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "350", "code": "        if IS_WIN32:\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "351", "code": "            if username is None:\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "352", "code": "                username = \"Administrator\"\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "353", "code": "            self._as_user_stack.append(lambda argv: ([\"runas\", \"/savecred\", \"/user:%s\" % (username,),\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "354", "code": "                '\"' + \" \".join(str(a) for a in argv) + '\"'], self.which(\"runas\")))\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "355", "code": "        else:\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "356", "code": "            if username is None:\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "357", "code": "                self._as_user_stack.append(lambda argv: ([\"sudo\"] + list(argv), self.which(\"sudo\")))\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "358", "code": "            else:\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "359", "code": "                self._as_user_stack.append(lambda argv: ([\"sudo\", \"-u\", username] + list(argv), self.which(\"sudo\")))\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "360", "code": "        try:\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "361", "code": "            yield\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "362", "code": "        finally:\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "363", "code": "            self._as_user_stack.pop(-1)\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "364", "code": "\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "365", "code": "    def as_root(self):\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "366", "code": "        \"\"\"A shorthand for :func:`as_user(\"root\") <plumbum.machines.local.LocalMachine.as_user>`\"\"\"\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "367", "code": "        return self.as_user()\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "368", "code": "\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "369", "code": "    python = LocalCommand(sys.executable, encoding)\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "370", "code": "    \"\"\"A command that represents the current python interpreter (``sys.executable``)\"\"\"\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "371", "code": "\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "372", "code": "local = LocalMachine()\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "373", "code": "\"\"\"The *local machine* (a singleton object). It serves as an entry point to everything\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "374", "code": "related to the local machine, such as working directory and environment manipulation,\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "375", "code": "command creation, etc.\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "376", "code": "\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "377", "code": "Attributes:\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "378", "code": "\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "379", "code": "* ``cwd`` - the local working directory\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "380", "code": "* ``env`` - the local environment\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}, {"error": "C", "line": "381", "code": "* ``encoding`` - the local machine's default encoding (``sys.getfilesystemencoding()``)\n", "colour": "blue", "author": "Tomer.Filiba@emc.com"}, {"error": "none", "line": "382", "code": "\"\"\"\n", "colour": "black", "author": "Tomer.Filiba@emc.com"}]]}