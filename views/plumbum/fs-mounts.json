{"path": "/home/asumal/git/cs410/plumbum/plumbum/fs/mounts.py", "lines": [[{"index": "1", "colour": "orange", "code": "import re\n", "error": "none", "author": "roey.ghost@gmail.com"}, {"index": "2", "colour": "orange", "code": "\n", "error": "none", "author": "roey.ghost@gmail.com"}, {"index": "3", "colour": "blue", "code": "class MountEntry(object):\n", "error": "R", "author": "tomerfiliba@gmail.com"}, {"index": "4", "colour": "orange", "code": "    \"\"\"\n", "error": "none", "author": "roey.ghost@gmail.com"}, {"index": "5", "colour": "orange", "code": "    Represents a mount entry (device file, mount point and file system type)\n", "error": "none", "author": "tomer.filiba@emc.com"}, {"index": "6", "colour": "orange", "code": "    \"\"\"\n", "error": "none", "author": "roey.ghost@gmail.com"}, {"index": "7", "colour": "orange", "code": "    def __init__(self, dev, point, fstype, options):\n", "error": "none", "author": "tomerfiliba@gmail.com"}, {"index": "8", "colour": "orange", "code": "        self.dev = dev\n", "error": "none", "author": "tomerfiliba@gmail.com"}, {"index": "9", "colour": "orange", "code": "        self.point = point\n", "error": "none", "author": "tomerfiliba@gmail.com"}, {"index": "10", "colour": "orange", "code": "        self.fstype = fstype\n", "error": "none", "author": "tomerfiliba@gmail.com"}, {"index": "11", "colour": "orange", "code": "        self.options = options.split(\",\")\n", "error": "none", "author": "tomerfiliba@gmail.com"}, {"index": "12", "colour": "orange", "code": "    def __str__(self):\n", "error": "none", "author": "tomerfiliba@gmail.com"}, {"index": "13", "colour": "orange", "code": "        return \"%s on %s type %s (%s)\" % (self.dev, self.point, self.fstype, \",\".join(self.options))\n", "error": "none", "author": "tomerfiliba@gmail.com"}, {"index": "14", "colour": "orange", "code": "\n", "error": "none", "author": "tomerfiliba@gmail.com"}, {"index": "15", "colour": "orange", "code": "MOUNT_PATTERN = re.compile(r\"(.+?)\\s+on\\s+(.+?)\\s+type\\s+(\\S+)(?:\\s+\\((.+?)\\))?\")\n", "error": "none", "author": "tomerfiliba@gmail.com"}, {"index": "16", "colour": "orange", "code": "\n", "error": "none", "author": "tomerfiliba@gmail.com"}, {"index": "17", "colour": "orange", "code": "def mount_table():\n", "error": "none", "author": "tomerfiliba@gmail.com"}, {"index": "18", "colour": "orange", "code": "    \"\"\"returns the system's current mount table (a list of\n", "error": "none", "author": "tomer.filiba@emc.com"}, {"index": "19", "colour": "orange", "code": "    :class:`MountEntry <plumbum.unixutils.MountEntry>` objects)\"\"\"\n", "error": "none", "author": "tomerfiliba@gmail.com"}, {"index": "20", "colour": "orange", "code": "    from plumbum.cmd import mount\n", "error": "none", "author": "tomer.filiba@emc.com"}, {"index": "21", "colour": "orange", "code": "    \n", "error": "none", "author": "tomer.filiba@emc.com"}, {"index": "22", "colour": "orange", "code": "    table = []\n", "error": "none", "author": "tomerfiliba@gmail.com"}, {"index": "23", "colour": "orange", "code": "    for line in mount().splitlines():\n", "error": "none", "author": "roey.ghost@gmail.com"}, {"index": "24", "colour": "orange", "code": "        m = MOUNT_PATTERN.match(line)\n", "error": "none", "author": "tomerfiliba@gmail.com"}, {"index": "25", "colour": "orange", "code": "        if not m:\n", "error": "none", "author": "tomerfiliba@gmail.com"}, {"index": "26", "colour": "orange", "code": "            continue\n", "error": "none", "author": "tomerfiliba@gmail.com"}, {"index": "27", "colour": "orange", "code": "        table.append(MountEntry(*m.groups()))\n", "error": "none", "author": "tomerfiliba@gmail.com"}, {"index": "28", "colour": "orange", "code": "    return table\n", "error": "none", "author": "tomerfiliba@gmail.com"}, {"index": "29", "colour": "orange", "code": "\n", "error": "none", "author": "roey.ghost@gmail.com"}, {"index": "30", "colour": "orange", "code": "def mounted(fs):\n", "error": "none", "author": "tomerfiliba@gmail.com"}, {"index": "31", "colour": "orange", "code": "    \"\"\"\n", "error": "none", "author": "tomerfiliba@gmail.com"}, {"index": "32", "colour": "orange", "code": "    Indicates if a the given filesystem (device file or mount point) is currently mounted\n", "error": "none", "author": "tomerfiliba@gmail.com"}, {"index": "33", "colour": "orange", "code": "    \"\"\"\n", "error": "none", "author": "tomerfiliba@gmail.com"}, {"index": "34", "colour": "orange", "code": "    return any(fs == entry.dev or fs == entry.point for entry in mount_table())\n", "error": "none", "author": "tomerfiliba@gmail.com"}, {"index": "35", "colour": "orange", "code": "\n", "error": "none", "author": "tomerfiliba@gmail.com"}, {"index": "36", "colour": "orange", "code": "\n", "error": "none", "author": "tomerfiliba@gmail.com"}, {"index": "37", "colour": "orange", "code": "\n", "error": "none", "author": "tomerfiliba@gmail.com"}]]}