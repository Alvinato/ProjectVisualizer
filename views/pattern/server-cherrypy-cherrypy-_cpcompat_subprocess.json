{"path": "/home/asumal/git/cs410/pattern/pattern/server/cherrypy/cherrypy/_cpcompat_subprocess.py", "lines": [[{"index": "1", "colour": "orange", "code": "# subprocess - Subprocesses with accessible I/O streams\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "2", "colour": "orange", "code": "#\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "3", "colour": "orange", "code": "# For more information about this module, see PEP 324.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "4", "colour": "orange", "code": "#\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "5", "colour": "orange", "code": "# This module should remain compatible with Python 2.2, see PEP 291.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "6", "colour": "orange", "code": "#\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "7", "colour": "orange", "code": "# Copyright (c) 2003-2005 by Peter Astrand <astrand@lysator.liu.se>\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "8", "colour": "orange", "code": "#\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "9", "colour": "orange", "code": "# Licensed to PSF under a Contributor Agreement.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "10", "colour": "orange", "code": "# See http://www.python.org/2.4/license for licensing details.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "11", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "12", "colour": "orange", "code": "r\"\"\"subprocess - Subprocesses with accessible I/O streams\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "13", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "14", "colour": "orange", "code": "This module allows you to spawn processes, connect to their\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "15", "colour": "orange", "code": "input/output/error pipes, and obtain their return codes.  This module\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "16", "colour": "orange", "code": "intends to replace several other, older modules and functions, like:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "17", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "18", "colour": "orange", "code": "os.system\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "19", "colour": "orange", "code": "os.spawn*\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "20", "colour": "orange", "code": "os.popen*\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "21", "colour": "orange", "code": "popen2.*\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "22", "colour": "orange", "code": "commands.*\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "23", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "24", "colour": "orange", "code": "Information about how the subprocess module can be used to replace these\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "25", "colour": "orange", "code": "modules and functions can be found below.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "26", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "27", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "28", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "29", "colour": "orange", "code": "Using the subprocess module\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "30", "colour": "orange", "code": "===========================\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "31", "colour": "orange", "code": "This module defines one class called Popen:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "32", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "33", "colour": "orange", "code": "class Popen(args, bufsize=0, executable=None,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "34", "colour": "orange", "code": "            stdin=None, stdout=None, stderr=None,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "35", "colour": "orange", "code": "            preexec_fn=None, close_fds=False, shell=False,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "36", "colour": "orange", "code": "            cwd=None, env=None, universal_newlines=False,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "37", "colour": "orange", "code": "            startupinfo=None, creationflags=0):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "38", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "39", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "40", "colour": "orange", "code": "Arguments are:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "41", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "42", "colour": "orange", "code": "args should be a string, or a sequence of program arguments.  The\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "43", "colour": "orange", "code": "program to execute is normally the first item in the args sequence or\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "44", "colour": "orange", "code": "string, but can be explicitly set by using the executable argument.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "45", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "46", "colour": "orange", "code": "On UNIX, with shell=False (default): In this case, the Popen class\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "47", "colour": "orange", "code": "uses os.execvp() to execute the child program.  args should normally\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "48", "colour": "orange", "code": "be a sequence.  A string will be treated as a sequence with the string\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "49", "colour": "orange", "code": "as the only item (the program to execute).\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "50", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "51", "colour": "orange", "code": "On UNIX, with shell=True: If args is a string, it specifies the\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "52", "colour": "orange", "code": "command string to execute through the shell.  If args is a sequence,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "53", "colour": "orange", "code": "the first item specifies the command string, and any additional items\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "54", "colour": "orange", "code": "will be treated as additional shell arguments.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "55", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "56", "colour": "orange", "code": "On Windows: the Popen class uses CreateProcess() to execute the child\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "57", "colour": "orange", "code": "program, which operates on strings.  If args is a sequence, it will be\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "58", "colour": "orange", "code": "converted to a string using the list2cmdline method.  Please note that\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "59", "colour": "orange", "code": "not all MS Windows applications interpret the command line the same\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "60", "colour": "orange", "code": "way: The list2cmdline is designed for applications using the same\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "61", "colour": "orange", "code": "rules as the MS C runtime.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "62", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "63", "colour": "orange", "code": "bufsize, if given, has the same meaning as the corresponding argument\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "64", "colour": "orange", "code": "to the built-in open() function: 0 means unbuffered, 1 means line\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "65", "colour": "orange", "code": "buffered, any other positive value means use a buffer of\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "66", "colour": "orange", "code": "(approximately) that size.  A negative bufsize means to use the system\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "67", "colour": "orange", "code": "default, which usually means fully buffered.  The default value for\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "68", "colour": "orange", "code": "bufsize is 0 (unbuffered).\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "69", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "70", "colour": "orange", "code": "stdin, stdout and stderr specify the executed programs' standard\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "71", "colour": "orange", "code": "input, standard output and standard error file handles, respectively.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "72", "colour": "orange", "code": "Valid values are PIPE, an existing file descriptor (a positive\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "73", "colour": "orange", "code": "integer), an existing file object, and None.  PIPE indicates that a\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "74", "colour": "orange", "code": "new pipe to the child should be created.  With None, no redirection\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "75", "colour": "orange", "code": "will occur; the child's file handles will be inherited from the\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "76", "colour": "orange", "code": "parent.  Additionally, stderr can be STDOUT, which indicates that the\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "77", "colour": "orange", "code": "stderr data from the applications should be captured into the same\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "78", "colour": "orange", "code": "file handle as for stdout.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "79", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "80", "colour": "orange", "code": "If preexec_fn is set to a callable object, this object will be called\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "81", "colour": "orange", "code": "in the child process just before the child is executed.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "82", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "83", "colour": "orange", "code": "If close_fds is true, all file descriptors except 0, 1 and 2 will be\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "84", "colour": "orange", "code": "closed before the child process is executed.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "85", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "86", "colour": "orange", "code": "if shell is true, the specified command will be executed through the\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "87", "colour": "orange", "code": "shell.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "88", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "89", "colour": "orange", "code": "If cwd is not None, the current directory will be changed to cwd\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "90", "colour": "orange", "code": "before the child is executed.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "91", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "92", "colour": "orange", "code": "If env is not None, it defines the environment variables for the new\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "93", "colour": "orange", "code": "process.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "94", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "95", "colour": "orange", "code": "If universal_newlines is true, the file objects stdout and stderr are\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "96", "colour": "orange", "code": "opened as a text files, but lines may be terminated by any of '\\n',\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "97", "colour": "orange", "code": "the Unix end-of-line convention, '\\r', the Macintosh convention or\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "98", "colour": "orange", "code": "'\\r\\n', the Windows convention.  All of these external representations\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "99", "colour": "orange", "code": "are seen as '\\n' by the Python program.  Note: This feature is only\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "100", "colour": "orange", "code": "available if Python is built with universal newline support (the\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "101", "colour": "orange", "code": "default).  Also, the newlines attribute of the file objects stdout,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "102", "colour": "orange", "code": "stdin and stderr are not updated by the communicate() method.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "103", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "104", "colour": "orange", "code": "The startupinfo and creationflags, if given, will be passed to the\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "105", "colour": "orange", "code": "underlying CreateProcess() function.  They can specify things such as\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "106", "colour": "orange", "code": "appearance of the main window and priority for the new process.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "107", "colour": "orange", "code": "(Windows only)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "108", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "109", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "110", "colour": "orange", "code": "This module also defines some shortcut functions:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "111", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "112", "colour": "orange", "code": "call(*popenargs, **kwargs):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "113", "colour": "orange", "code": "    Run command with arguments.  Wait for command to complete, then\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "114", "colour": "orange", "code": "    return the returncode attribute.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "115", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "116", "colour": "orange", "code": "    The arguments are the same as for the Popen constructor.  Example:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "117", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "118", "colour": "orange", "code": "    retcode = call([\"ls\", \"-l\"])\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "119", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "120", "colour": "orange", "code": "check_call(*popenargs, **kwargs):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "121", "colour": "orange", "code": "    Run command with arguments.  Wait for command to complete.  If the\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "122", "colour": "orange", "code": "    exit code was zero then return, otherwise raise\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "123", "colour": "orange", "code": "    CalledProcessError.  The CalledProcessError object will have the\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "124", "colour": "orange", "code": "    return code in the returncode attribute.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "125", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "126", "colour": "orange", "code": "    The arguments are the same as for the Popen constructor.  Example:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "127", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "128", "colour": "orange", "code": "    check_call([\"ls\", \"-l\"])\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "129", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "130", "colour": "orange", "code": "check_output(*popenargs, **kwargs):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "131", "colour": "orange", "code": "    Run command with arguments and return its output as a byte string.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "132", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "133", "colour": "orange", "code": "    If the exit code was non-zero it raises a CalledProcessError.  The\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "134", "colour": "orange", "code": "    CalledProcessError object will have the return code in the returncode\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "135", "colour": "orange", "code": "    attribute and output in the output attribute.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "136", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "137", "colour": "orange", "code": "    The arguments are the same as for the Popen constructor.  Example:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "138", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "139", "colour": "orange", "code": "    output = check_output([\"ls\", \"-l\", \"/dev/null\"])\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "140", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "141", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "142", "colour": "orange", "code": "Exceptions\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "143", "colour": "orange", "code": "----------\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "144", "colour": "orange", "code": "Exceptions raised in the child process, before the new program has\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "145", "colour": "orange", "code": "started to execute, will be re-raised in the parent.  Additionally,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "146", "colour": "orange", "code": "the exception object will have one extra attribute called\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "147", "colour": "orange", "code": "'child_traceback', which is a string containing traceback information\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "148", "colour": "orange", "code": "from the childs point of view.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "149", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "150", "colour": "orange", "code": "The most common exception raised is OSError.  This occurs, for\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "151", "colour": "orange", "code": "example, when trying to execute a non-existent file.  Applications\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "152", "colour": "orange", "code": "should prepare for OSErrors.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "153", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "154", "colour": "orange", "code": "A ValueError will be raised if Popen is called with invalid arguments.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "155", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "156", "colour": "orange", "code": "check_call() and check_output() will raise CalledProcessError, if the\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "157", "colour": "orange", "code": "called process returns a non-zero return code.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "158", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "159", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "160", "colour": "orange", "code": "Security\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "161", "colour": "orange", "code": "--------\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "162", "colour": "orange", "code": "Unlike some other popen functions, this implementation will never call\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "163", "colour": "orange", "code": "/bin/sh implicitly.  This means that all characters, including shell\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "164", "colour": "orange", "code": "metacharacters, can safely be passed to child processes.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "165", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "166", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "167", "colour": "orange", "code": "Popen objects\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "168", "colour": "orange", "code": "=============\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "169", "colour": "orange", "code": "Instances of the Popen class have the following methods:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "170", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "171", "colour": "orange", "code": "poll()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "172", "colour": "orange", "code": "    Check if child process has terminated.  Returns returncode\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "173", "colour": "orange", "code": "    attribute.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "174", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "175", "colour": "orange", "code": "wait()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "176", "colour": "orange", "code": "    Wait for child process to terminate.  Returns returncode attribute.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "177", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "178", "colour": "orange", "code": "communicate(input=None)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "179", "colour": "orange", "code": "    Interact with process: Send data to stdin.  Read data from stdout\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "180", "colour": "orange", "code": "    and stderr, until end-of-file is reached.  Wait for process to\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "181", "colour": "orange", "code": "    terminate.  The optional input argument should be a string to be\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "182", "colour": "orange", "code": "    sent to the child process, or None, if no data should be sent to\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "183", "colour": "orange", "code": "    the child.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "184", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "185", "colour": "orange", "code": "    communicate() returns a tuple (stdout, stderr).\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "186", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "187", "colour": "orange", "code": "    Note: The data read is buffered in memory, so do not use this\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "188", "colour": "orange", "code": "    method if the data size is large or unlimited.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "189", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "190", "colour": "orange", "code": "The following attributes are also available:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "191", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "192", "colour": "orange", "code": "stdin\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "193", "colour": "orange", "code": "    If the stdin argument is PIPE, this attribute is a file object\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "194", "colour": "orange", "code": "    that provides input to the child process.  Otherwise, it is None.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "195", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "196", "colour": "orange", "code": "stdout\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "197", "colour": "orange", "code": "    If the stdout argument is PIPE, this attribute is a file object\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "198", "colour": "orange", "code": "    that provides output from the child process.  Otherwise, it is\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "199", "colour": "orange", "code": "    None.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "200", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "201", "colour": "orange", "code": "stderr\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "202", "colour": "orange", "code": "    If the stderr argument is PIPE, this attribute is file object that\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "203", "colour": "orange", "code": "    provides error output from the child process.  Otherwise, it is\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "204", "colour": "orange", "code": "    None.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "205", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "206", "colour": "orange", "code": "pid\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "207", "colour": "orange", "code": "    The process ID of the child process.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "208", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "209", "colour": "orange", "code": "returncode\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "210", "colour": "orange", "code": "    The child return code.  A None value indicates that the process\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "211", "colour": "orange", "code": "    hasn't terminated yet.  A negative value -N indicates that the\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "212", "colour": "orange", "code": "    child was terminated by signal N (UNIX only).\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "213", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "214", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "215", "colour": "orange", "code": "Replacing older functions with the subprocess module\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "216", "colour": "orange", "code": "====================================================\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "217", "colour": "orange", "code": "In this section, \"a ==> b\" means that b can be used as a replacement\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "218", "colour": "orange", "code": "for a.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "219", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "220", "colour": "orange", "code": "Note: All functions in this section fail (more or less) silently if\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "221", "colour": "orange", "code": "the executed program cannot be found; this module raises an OSError\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "222", "colour": "orange", "code": "exception.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "223", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "224", "colour": "orange", "code": "In the following examples, we assume that the subprocess module is\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "225", "colour": "orange", "code": "imported with \"from subprocess import *\".\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "226", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "227", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "228", "colour": "orange", "code": "Replacing /bin/sh shell backquote\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "229", "colour": "orange", "code": "---------------------------------\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "230", "colour": "orange", "code": "output=`mycmd myarg`\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "231", "colour": "orange", "code": "==>\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "232", "colour": "orange", "code": "output = Popen([\"mycmd\", \"myarg\"], stdout=PIPE).communicate()[0]\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "233", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "234", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "235", "colour": "orange", "code": "Replacing shell pipe line\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "236", "colour": "orange", "code": "-------------------------\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "237", "colour": "orange", "code": "output=`dmesg | grep hda`\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "238", "colour": "orange", "code": "==>\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "239", "colour": "orange", "code": "p1 = Popen([\"dmesg\"], stdout=PIPE)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "240", "colour": "orange", "code": "p2 = Popen([\"grep\", \"hda\"], stdin=p1.stdout, stdout=PIPE)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "241", "colour": "orange", "code": "output = p2.communicate()[0]\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "242", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "243", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "244", "colour": "orange", "code": "Replacing os.system()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "245", "colour": "orange", "code": "---------------------\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "246", "colour": "orange", "code": "sts = os.system(\"mycmd\" + \" myarg\")\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "247", "colour": "orange", "code": "==>\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "248", "colour": "orange", "code": "p = Popen(\"mycmd\" + \" myarg\", shell=True)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "249", "colour": "orange", "code": "pid, sts = os.waitpid(p.pid, 0)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "250", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "251", "colour": "orange", "code": "Note:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "252", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "253", "colour": "orange", "code": "* Calling the program through the shell is usually not required.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "254", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "255", "colour": "orange", "code": "* It's easier to look at the returncode attribute than the\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "256", "colour": "orange", "code": "  exitstatus.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "257", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "258", "colour": "orange", "code": "A more real-world example would look like this:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "259", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "260", "colour": "orange", "code": "try:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "261", "colour": "orange", "code": "    retcode = call(\"mycmd\" + \" myarg\", shell=True)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "262", "colour": "orange", "code": "    if retcode < 0:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "263", "colour": "orange", "code": "        print >>sys.stderr, \"Child was terminated by signal\", -retcode\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "264", "colour": "orange", "code": "    else:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "265", "colour": "orange", "code": "        print >>sys.stderr, \"Child returned\", retcode\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "266", "colour": "orange", "code": "except OSError, e:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "267", "colour": "orange", "code": "    print >>sys.stderr, \"Execution failed:\", e\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "268", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "269", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "270", "colour": "orange", "code": "Replacing os.spawn*\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "271", "colour": "orange", "code": "-------------------\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "272", "colour": "orange", "code": "P_NOWAIT example:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "273", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "274", "colour": "orange", "code": "pid = os.spawnlp(os.P_NOWAIT, \"/bin/mycmd\", \"mycmd\", \"myarg\")\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "275", "colour": "orange", "code": "==>\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "276", "colour": "orange", "code": "pid = Popen([\"/bin/mycmd\", \"myarg\"]).pid\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "277", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "278", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "279", "colour": "orange", "code": "P_WAIT example:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "280", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "281", "colour": "orange", "code": "retcode = os.spawnlp(os.P_WAIT, \"/bin/mycmd\", \"mycmd\", \"myarg\")\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "282", "colour": "orange", "code": "==>\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "283", "colour": "orange", "code": "retcode = call([\"/bin/mycmd\", \"myarg\"])\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "284", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "285", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "286", "colour": "orange", "code": "Vector example:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "287", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "288", "colour": "orange", "code": "os.spawnvp(os.P_NOWAIT, path, args)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "289", "colour": "orange", "code": "==>\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "290", "colour": "orange", "code": "Popen([path] + args[1:])\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "291", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "292", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "293", "colour": "orange", "code": "Environment example:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "294", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "295", "colour": "orange", "code": "os.spawnlpe(os.P_NOWAIT, \"/bin/mycmd\", \"mycmd\", \"myarg\", env)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "296", "colour": "orange", "code": "==>\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "297", "colour": "orange", "code": "Popen([\"/bin/mycmd\", \"myarg\"], env={\"PATH\": \"/usr/bin\"})\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "298", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "299", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "300", "colour": "orange", "code": "Replacing os.popen*\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "301", "colour": "orange", "code": "-------------------\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "302", "colour": "orange", "code": "pipe = os.popen(\"cmd\", mode='r', bufsize)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "303", "colour": "orange", "code": "==>\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "304", "colour": "orange", "code": "pipe = Popen(\"cmd\", shell=True, bufsize=bufsize, stdout=PIPE).stdout\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "305", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "306", "colour": "orange", "code": "pipe = os.popen(\"cmd\", mode='w', bufsize)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "307", "colour": "orange", "code": "==>\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "308", "colour": "orange", "code": "pipe = Popen(\"cmd\", shell=True, bufsize=bufsize, stdin=PIPE).stdin\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "309", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "310", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "311", "colour": "orange", "code": "(child_stdin, child_stdout) = os.popen2(\"cmd\", mode, bufsize)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "312", "colour": "orange", "code": "==>\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "313", "colour": "orange", "code": "p = Popen(\"cmd\", shell=True, bufsize=bufsize,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "314", "colour": "orange", "code": "          stdin=PIPE, stdout=PIPE, close_fds=True)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "315", "colour": "orange", "code": "(child_stdin, child_stdout) = (p.stdin, p.stdout)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "316", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "317", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "318", "colour": "orange", "code": "(child_stdin,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "319", "colour": "orange", "code": " child_stdout,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "320", "colour": "orange", "code": " child_stderr) = os.popen3(\"cmd\", mode, bufsize)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "321", "colour": "orange", "code": "==>\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "322", "colour": "orange", "code": "p = Popen(\"cmd\", shell=True, bufsize=bufsize,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "323", "colour": "orange", "code": "          stdin=PIPE, stdout=PIPE, stderr=PIPE, close_fds=True)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "324", "colour": "orange", "code": "(child_stdin,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "325", "colour": "orange", "code": " child_stdout,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "326", "colour": "orange", "code": " child_stderr) = (p.stdin, p.stdout, p.stderr)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "327", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "328", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "329", "colour": "orange", "code": "(child_stdin, child_stdout_and_stderr) = os.popen4(\"cmd\", mode,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "330", "colour": "orange", "code": "                                                   bufsize)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "331", "colour": "orange", "code": "==>\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "332", "colour": "orange", "code": "p = Popen(\"cmd\", shell=True, bufsize=bufsize,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "333", "colour": "orange", "code": "          stdin=PIPE, stdout=PIPE, stderr=STDOUT, close_fds=True)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "334", "colour": "orange", "code": "(child_stdin, child_stdout_and_stderr) = (p.stdin, p.stdout)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "335", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "336", "colour": "orange", "code": "On Unix, os.popen2, os.popen3 and os.popen4 also accept a sequence as\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "337", "colour": "orange", "code": "the command to execute, in which case arguments will be passed\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "338", "colour": "orange", "code": "directly to the program without shell intervention.  This usage can be\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "339", "colour": "orange", "code": "replaced as follows:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "340", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "341", "colour": "orange", "code": "(child_stdin, child_stdout) = os.popen2([\"/bin/ls\", \"-l\"], mode,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "342", "colour": "orange", "code": "                                        bufsize)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "343", "colour": "orange", "code": "==>\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "344", "colour": "orange", "code": "p = Popen([\"/bin/ls\", \"-l\"], bufsize=bufsize, stdin=PIPE, stdout=PIPE)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "345", "colour": "orange", "code": "(child_stdin, child_stdout) = (p.stdin, p.stdout)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "346", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "347", "colour": "orange", "code": "Return code handling translates as follows:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "348", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "349", "colour": "orange", "code": "pipe = os.popen(\"cmd\", 'w')\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "350", "colour": "orange", "code": "...\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "351", "colour": "orange", "code": "rc = pipe.close()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "352", "colour": "orange", "code": "if rc is not None and rc % 256:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "353", "colour": "orange", "code": "    print \"There were some errors\"\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "354", "colour": "orange", "code": "==>\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "355", "colour": "orange", "code": "process = Popen(\"cmd\", 'w', shell=True, stdin=PIPE)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "356", "colour": "orange", "code": "...\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "357", "colour": "orange", "code": "process.stdin.close()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "358", "colour": "orange", "code": "if process.wait() != 0:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "359", "colour": "orange", "code": "    print \"There were some errors\"\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "360", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "361", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "362", "colour": "orange", "code": "Replacing popen2.*\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "363", "colour": "orange", "code": "------------------\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "364", "colour": "orange", "code": "(child_stdout, child_stdin) = popen2.popen2(\"somestring\", bufsize, mode)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "365", "colour": "orange", "code": "==>\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "366", "colour": "orange", "code": "p = Popen([\"somestring\"], shell=True, bufsize=bufsize\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "367", "colour": "orange", "code": "          stdin=PIPE, stdout=PIPE, close_fds=True)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "368", "colour": "orange", "code": "(child_stdout, child_stdin) = (p.stdout, p.stdin)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "369", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "370", "colour": "orange", "code": "On Unix, popen2 also accepts a sequence as the command to execute, in\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "371", "colour": "orange", "code": "which case arguments will be passed directly to the program without\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "372", "colour": "orange", "code": "shell intervention.  This usage can be replaced as follows:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "373", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "374", "colour": "orange", "code": "(child_stdout, child_stdin) = popen2.popen2([\"mycmd\", \"myarg\"], bufsize,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "375", "colour": "orange", "code": "                                            mode)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "376", "colour": "orange", "code": "==>\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "377", "colour": "orange", "code": "p = Popen([\"mycmd\", \"myarg\"], bufsize=bufsize,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "378", "colour": "orange", "code": "          stdin=PIPE, stdout=PIPE, close_fds=True)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "379", "colour": "orange", "code": "(child_stdout, child_stdin) = (p.stdout, p.stdin)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "380", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "381", "colour": "orange", "code": "The popen2.Popen3 and popen2.Popen4 basically works as subprocess.Popen,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "382", "colour": "orange", "code": "except that:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "383", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "384", "colour": "orange", "code": "* subprocess.Popen raises an exception if the execution fails\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "385", "colour": "orange", "code": "* the capturestderr argument is replaced with the stderr argument.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "386", "colour": "orange", "code": "* stdin=PIPE and stdout=PIPE must be specified.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "387", "colour": "orange", "code": "* popen2 closes all filedescriptors by default, but you have to specify\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "388", "colour": "orange", "code": "  close_fds=True with subprocess.Popen.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "389", "colour": "orange", "code": "\"\"\"\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "390", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "391", "colour": "orange", "code": "import sys\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "392", "colour": "orange", "code": "mswindows = (sys.platform == \"win32\")\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "393", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "394", "colour": "orange", "code": "import os\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "395", "colour": "orange", "code": "import types\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "396", "colour": "orange", "code": "import traceback\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "397", "colour": "orange", "code": "import gc\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "398", "colour": "orange", "code": "import signal\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "399", "colour": "orange", "code": "import errno\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "400", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "401", "colour": "orange", "code": "try:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "402", "colour": "orange", "code": "    set\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "403", "colour": "orange", "code": "except NameError:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "404", "colour": "green", "code": "    from sets import Set as set\r\n", "error": "W", "author": "tom@organisms.be"}, {"index": "405", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "406", "colour": "orange", "code": "# Exception classes used by this module.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "407", "colour": "orange", "code": "class CalledProcessError(Exception):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "408", "colour": "orange", "code": "    \"\"\"This exception is raised when a process run by check_call() or\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "409", "colour": "orange", "code": "    check_output() returns a non-zero exit status.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "410", "colour": "orange", "code": "    The exit status will be stored in the returncode attribute;\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "411", "colour": "orange", "code": "    check_output() will also store the output in the output attribute.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "412", "colour": "orange", "code": "    \"\"\"\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "413", "colour": "green", "code": "    def __init__(self, returncode, cmd, output=None):\r\n", "error": "W", "author": "tom@organisms.be"}, {"index": "414", "colour": "orange", "code": "        self.returncode = returncode\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "415", "colour": "orange", "code": "        self.cmd = cmd\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "416", "colour": "orange", "code": "        self.output = output\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "417", "colour": "orange", "code": "    def __str__(self):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "418", "colour": "orange", "code": "        return \"Command '%s' returned non-zero exit status %d\" % (self.cmd, self.returncode)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "419", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "420", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "421", "colour": "orange", "code": "if mswindows:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "422", "colour": "orange", "code": "    import threading\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "423", "colour": "orange", "code": "    import msvcrt\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "424", "colour": "orange", "code": "    import _subprocess\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "425", "colour": "blue", "code": "    class STARTUPINFO:\r\n", "error": "R", "author": "tom@organisms.be"}, {"index": "426", "colour": "orange", "code": "        dwFlags = 0\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "427", "colour": "orange", "code": "        hStdInput = None\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "428", "colour": "orange", "code": "        hStdOutput = None\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "429", "colour": "orange", "code": "        hStdError = None\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "430", "colour": "orange", "code": "        wShowWindow = 0\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "431", "colour": "blue", "code": "    class pywintypes:\r\n", "error": "R", "author": "tom@organisms.be"}, {"index": "432", "colour": "orange", "code": "        error = IOError\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "433", "colour": "orange", "code": "else:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "434", "colour": "orange", "code": "    import select\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "435", "colour": "orange", "code": "    _has_poll = hasattr(select, 'poll')\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "436", "colour": "orange", "code": "    import fcntl\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "437", "colour": "orange", "code": "    import pickle\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "438", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "439", "colour": "orange", "code": "    # When select or poll has indicated that the file is writable,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "440", "colour": "orange", "code": "    # we can write up to _PIPE_BUF bytes without risk of blocking.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "441", "colour": "orange", "code": "    # POSIX defines PIPE_BUF as >= 512.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "442", "colour": "orange", "code": "    _PIPE_BUF = getattr(select, 'PIPE_BUF', 512)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "443", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "444", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "445", "colour": "orange", "code": "__all__ = [\"Popen\", \"PIPE\", \"STDOUT\", \"call\", \"check_call\",\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "446", "colour": "orange", "code": "           \"check_output\", \"CalledProcessError\"]\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "447", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "448", "colour": "orange", "code": "if mswindows:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "449", "colour": "green", "code": "    from _subprocess import CREATE_NEW_CONSOLE, CREATE_NEW_PROCESS_GROUP, \\\r\n", "error": "W", "author": "tom@organisms.be"}, {"index": "450", "colour": "orange", "code": "                             STD_INPUT_HANDLE, STD_OUTPUT_HANDLE, \\\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "451", "colour": "orange", "code": "                             STD_ERROR_HANDLE, SW_HIDE, \\\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "452", "colour": "orange", "code": "                             STARTF_USESTDHANDLES, STARTF_USESHOWWINDOW\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "453", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "454", "colour": "orange", "code": "    __all__.extend([\"CREATE_NEW_CONSOLE\", \"CREATE_NEW_PROCESS_GROUP\",\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "455", "colour": "orange", "code": "                    \"STD_INPUT_HANDLE\", \"STD_OUTPUT_HANDLE\",\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "456", "colour": "orange", "code": "                    \"STD_ERROR_HANDLE\", \"SW_HIDE\",\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "457", "colour": "orange", "code": "                    \"STARTF_USESTDHANDLES\", \"STARTF_USESHOWWINDOW\"])\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "458", "colour": "orange", "code": "try:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "459", "colour": "orange", "code": "    MAXFD = os.sysconf(\"SC_OPEN_MAX\")\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "460", "colour": "green", "code": "except:\r\n", "error": "W", "author": "tom@organisms.be"}, {"index": "461", "colour": "orange", "code": "    MAXFD = 256\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "462", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "463", "colour": "orange", "code": "_active = []\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "464", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "465", "colour": "orange", "code": "def _cleanup():\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "466", "colour": "orange", "code": "    for inst in _active[:]:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "467", "colour": "green", "code": "        res = inst._internal_poll(_deadstate=sys.maxint)\r\n", "error": "W", "author": "tom@organisms.be"}, {"index": "468", "colour": "orange", "code": "        if res is not None:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "469", "colour": "orange", "code": "            try:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "470", "colour": "orange", "code": "                _active.remove(inst)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "471", "colour": "orange", "code": "            except ValueError:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "472", "colour": "orange", "code": "                # This can happen if two threads create a new Popen instance.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "473", "colour": "orange", "code": "                # It's harmless that it was already removed, so ignore.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "474", "colour": "orange", "code": "                pass\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "475", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "476", "colour": "orange", "code": "PIPE = -1\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "477", "colour": "orange", "code": "STDOUT = -2\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "478", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "479", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "480", "colour": "orange", "code": "def _eintr_retry_call(func, *args):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "481", "colour": "orange", "code": "    while True:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "482", "colour": "orange", "code": "        try:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "483", "colour": "orange", "code": "            return func(*args)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "484", "colour": "orange", "code": "        except (OSError, IOError) as e:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "485", "colour": "orange", "code": "            if e.errno == errno.EINTR:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "486", "colour": "orange", "code": "                continue\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "487", "colour": "orange", "code": "            raise\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "488", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "489", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "490", "colour": "orange", "code": "def call(*popenargs, **kwargs):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "491", "colour": "orange", "code": "    \"\"\"Run command with arguments.  Wait for command to complete, then\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "492", "colour": "orange", "code": "    return the returncode attribute.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "493", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "494", "colour": "orange", "code": "    The arguments are the same as for the Popen constructor.  Example:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "495", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "496", "colour": "orange", "code": "    retcode = call([\"ls\", \"-l\"])\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "497", "colour": "orange", "code": "    \"\"\"\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "498", "colour": "orange", "code": "    return Popen(*popenargs, **kwargs).wait()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "499", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "500", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "501", "colour": "orange", "code": "def check_call(*popenargs, **kwargs):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "502", "colour": "orange", "code": "    \"\"\"Run command with arguments.  Wait for command to complete.  If\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "503", "colour": "orange", "code": "    the exit code was zero then return, otherwise raise\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "504", "colour": "orange", "code": "    CalledProcessError.  The CalledProcessError object will have the\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "505", "colour": "orange", "code": "    return code in the returncode attribute.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "506", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "507", "colour": "orange", "code": "    The arguments are the same as for the Popen constructor.  Example:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "508", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "509", "colour": "orange", "code": "    check_call([\"ls\", \"-l\"])\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "510", "colour": "orange", "code": "    \"\"\"\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "511", "colour": "orange", "code": "    retcode = call(*popenargs, **kwargs)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "512", "colour": "orange", "code": "    if retcode:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "513", "colour": "orange", "code": "        cmd = kwargs.get(\"args\")\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "514", "colour": "orange", "code": "        if cmd is None:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "515", "colour": "orange", "code": "            cmd = popenargs[0]\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "516", "colour": "orange", "code": "        raise CalledProcessError(retcode, cmd)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "517", "colour": "orange", "code": "    return 0\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "518", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "519", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "520", "colour": "orange", "code": "def check_output(*popenargs, **kwargs):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "521", "colour": "orange", "code": "    r\"\"\"Run command with arguments and return its output as a byte string.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "522", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "523", "colour": "orange", "code": "    If the exit code was non-zero it raises a CalledProcessError.  The\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "524", "colour": "orange", "code": "    CalledProcessError object will have the return code in the returncode\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "525", "colour": "orange", "code": "    attribute and output in the output attribute.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "526", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "527", "colour": "orange", "code": "    The arguments are the same as for the Popen constructor.  Example:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "528", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "529", "colour": "orange", "code": "    >>> check_output([\"ls\", \"-l\", \"/dev/null\"])\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "530", "colour": "orange", "code": "    'crw-rw-rw- 1 root root 1, 3 Oct 18  2007 /dev/null\\n'\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "531", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "532", "colour": "orange", "code": "    The stdout argument is not allowed as it is used internally.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "533", "colour": "orange", "code": "    To capture standard error in the result, use stderr=STDOUT.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "534", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "535", "colour": "orange", "code": "    >>> check_output([\"/bin/sh\", \"-c\",\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "536", "colour": "orange", "code": "    ...               \"ls -l non_existent_file ; exit 0\"],\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "537", "colour": "orange", "code": "    ...              stderr=STDOUT)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "538", "colour": "orange", "code": "    'ls: non_existent_file: No such file or directory\\n'\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "539", "colour": "orange", "code": "    \"\"\"\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "540", "colour": "orange", "code": "    if 'stdout' in kwargs:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "541", "colour": "orange", "code": "        raise ValueError('stdout argument not allowed, it will be overridden.')\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "542", "colour": "orange", "code": "    process = Popen(stdout=PIPE, *popenargs, **kwargs)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "543", "colour": "green", "code": "    output, unused_err = process.communicate()\r\n", "error": "W", "author": "tom@organisms.be"}, {"index": "544", "colour": "orange", "code": "    retcode = process.poll()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "545", "colour": "orange", "code": "    if retcode:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "546", "colour": "orange", "code": "        cmd = kwargs.get(\"args\")\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "547", "colour": "orange", "code": "        if cmd is None:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "548", "colour": "orange", "code": "            cmd = popenargs[0]\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "549", "colour": "orange", "code": "        raise CalledProcessError(retcode, cmd, output=output)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "550", "colour": "orange", "code": "    return output\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "551", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "552", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "553", "colour": "orange", "code": "def list2cmdline(seq):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "554", "colour": "orange", "code": "    \"\"\"\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "555", "colour": "orange", "code": "    Translate a sequence of arguments into a command line\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "556", "colour": "orange", "code": "    string, using the same rules as the MS C runtime:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "557", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "558", "colour": "orange", "code": "    1) Arguments are delimited by white space, which is either a\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "559", "colour": "orange", "code": "       space or a tab.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "560", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "561", "colour": "orange", "code": "    2) A string surrounded by double quotation marks is\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "562", "colour": "orange", "code": "       interpreted as a single argument, regardless of white space\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "563", "colour": "orange", "code": "       contained within.  A quoted string can be embedded in an\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "564", "colour": "orange", "code": "       argument.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "565", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "566", "colour": "orange", "code": "    3) A double quotation mark preceded by a backslash is\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "567", "colour": "orange", "code": "       interpreted as a literal double quotation mark.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "568", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "569", "colour": "orange", "code": "    4) Backslashes are interpreted literally, unless they\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "570", "colour": "orange", "code": "       immediately precede a double quotation mark.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "571", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "572", "colour": "orange", "code": "    5) If backslashes immediately precede a double quotation mark,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "573", "colour": "orange", "code": "       every pair of backslashes is interpreted as a literal\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "574", "colour": "orange", "code": "       backslash.  If the number of backslashes is odd, the last\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "575", "colour": "orange", "code": "       backslash escapes the next double quotation mark as\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "576", "colour": "orange", "code": "       described in rule 3.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "577", "colour": "orange", "code": "    \"\"\"\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "578", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "579", "colour": "orange", "code": "    # See\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "580", "colour": "orange", "code": "    # http://msdn.microsoft.com/en-us/library/17w5ykft.aspx\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "581", "colour": "orange", "code": "    # or search http://msdn.microsoft.com for\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "582", "colour": "orange", "code": "    # \"Parsing C++ Command-Line Arguments\"\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "583", "colour": "orange", "code": "    result = []\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "584", "colour": "orange", "code": "    needquote = False\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "585", "colour": "orange", "code": "    for arg in seq:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "586", "colour": "orange", "code": "        bs_buf = []\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "587", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "588", "colour": "orange", "code": "        # Add a space to separate this argument from the others\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "589", "colour": "orange", "code": "        if result:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "590", "colour": "orange", "code": "            result.append(' ')\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "591", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "592", "colour": "orange", "code": "        needquote = (\" \" in arg) or (\"\\t\" in arg) or not arg\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "593", "colour": "orange", "code": "        if needquote:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "594", "colour": "orange", "code": "            result.append('\"')\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "595", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "596", "colour": "orange", "code": "        for c in arg:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "597", "colour": "orange", "code": "            if c == '\\\\':\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "598", "colour": "orange", "code": "                # Don't know if we need to double yet.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "599", "colour": "orange", "code": "                bs_buf.append(c)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "600", "colour": "orange", "code": "            elif c == '\"':\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "601", "colour": "orange", "code": "                # Double backslashes.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "602", "colour": "orange", "code": "                result.append('\\\\' * len(bs_buf)*2)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "603", "colour": "orange", "code": "                bs_buf = []\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "604", "colour": "orange", "code": "                result.append('\\\\\"')\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "605", "colour": "orange", "code": "            else:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "606", "colour": "orange", "code": "                # Normal char\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "607", "colour": "orange", "code": "                if bs_buf:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "608", "colour": "orange", "code": "                    result.extend(bs_buf)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "609", "colour": "orange", "code": "                    bs_buf = []\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "610", "colour": "orange", "code": "                result.append(c)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "611", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "612", "colour": "orange", "code": "        # Add remaining backslashes, if any.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "613", "colour": "orange", "code": "        if bs_buf:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "614", "colour": "orange", "code": "            result.extend(bs_buf)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "615", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "616", "colour": "orange", "code": "        if needquote:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "617", "colour": "orange", "code": "            result.extend(bs_buf)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "618", "colour": "orange", "code": "            result.append('\"')\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "619", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "620", "colour": "orange", "code": "    return ''.join(result)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "621", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "622", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "623", "colour": "blue", "code": "class Popen(object):\r\n", "error": "R", "author": "tom@organisms.be"}, {"index": "624", "colour": "blue", "code": "    def __init__(self, args, bufsize=0, executable=None,\r\n", "error": "R", "author": "tom@organisms.be"}, {"index": "625", "colour": "orange", "code": "                 stdin=None, stdout=None, stderr=None,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "626", "colour": "orange", "code": "                 preexec_fn=None, close_fds=False, shell=False,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "627", "colour": "orange", "code": "                 cwd=None, env=None, universal_newlines=False,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "628", "colour": "orange", "code": "                 startupinfo=None, creationflags=0):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "629", "colour": "orange", "code": "        \"\"\"Create new Popen instance.\"\"\"\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "630", "colour": "orange", "code": "        _cleanup()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "631", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "632", "colour": "orange", "code": "        self._child_created = False\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "633", "colour": "orange", "code": "        if not isinstance(bufsize, (int, long)):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "634", "colour": "orange", "code": "            raise TypeError(\"bufsize must be an integer\")\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "635", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "636", "colour": "orange", "code": "        if mswindows:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "637", "colour": "orange", "code": "            if preexec_fn is not None:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "638", "colour": "orange", "code": "                raise ValueError(\"preexec_fn is not supported on Windows \"\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "639", "colour": "orange", "code": "                                 \"platforms\")\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "640", "colour": "orange", "code": "            if close_fds and (stdin is not None or stdout is not None or\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "641", "colour": "orange", "code": "                              stderr is not None):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "642", "colour": "orange", "code": "                raise ValueError(\"close_fds is not supported on Windows \"\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "643", "colour": "orange", "code": "                                 \"platforms if you redirect stdin/stdout/stderr\")\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "644", "colour": "orange", "code": "        else:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "645", "colour": "orange", "code": "            # POSIX\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "646", "colour": "orange", "code": "            if startupinfo is not None:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "647", "colour": "orange", "code": "                raise ValueError(\"startupinfo is only supported on Windows \"\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "648", "colour": "orange", "code": "                                 \"platforms\")\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "649", "colour": "orange", "code": "            if creationflags != 0:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "650", "colour": "orange", "code": "                raise ValueError(\"creationflags is only supported on Windows \"\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "651", "colour": "orange", "code": "                                 \"platforms\")\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "652", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "653", "colour": "orange", "code": "        self.stdin = None\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "654", "colour": "orange", "code": "        self.stdout = None\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "655", "colour": "orange", "code": "        self.stderr = None\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "656", "colour": "orange", "code": "        self.pid = None\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "657", "colour": "orange", "code": "        self.returncode = None\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "658", "colour": "orange", "code": "        self.universal_newlines = universal_newlines\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "659", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "660", "colour": "orange", "code": "        # Input and output objects. The general principle is like\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "661", "colour": "orange", "code": "        # this:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "662", "colour": "orange", "code": "        #\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "663", "colour": "orange", "code": "        # Parent                   Child\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "664", "colour": "orange", "code": "        # ------                   -----\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "665", "colour": "orange", "code": "        # p2cwrite   ---stdin--->  p2cread\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "666", "colour": "orange", "code": "        # c2pread    <--stdout---  c2pwrite\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "667", "colour": "orange", "code": "        # errread    <--stderr---  errwrite\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "668", "colour": "orange", "code": "        #\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "669", "colour": "orange", "code": "        # On POSIX, the child objects are file descriptors.  On\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "670", "colour": "orange", "code": "        # Windows, these are Windows file handles.  The parent objects\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "671", "colour": "orange", "code": "        # are file descriptors on both platforms.  The parent objects\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "672", "colour": "orange", "code": "        # are None when not using PIPEs. The child objects are None\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "673", "colour": "orange", "code": "        # when not redirecting.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "674", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "675", "colour": "orange", "code": "        (p2cread, p2cwrite,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "676", "colour": "orange", "code": "         c2pread, c2pwrite,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "677", "colour": "orange", "code": "         errread, errwrite) = self._get_handles(stdin, stdout, stderr)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "678", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "679", "colour": "orange", "code": "        self._execute_child(args, executable, preexec_fn, close_fds,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "680", "colour": "orange", "code": "                            cwd, env, universal_newlines,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "681", "colour": "orange", "code": "                            startupinfo, creationflags, shell,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "682", "colour": "orange", "code": "                            p2cread, p2cwrite,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "683", "colour": "orange", "code": "                            c2pread, c2pwrite,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "684", "colour": "orange", "code": "                            errread, errwrite)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "685", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "686", "colour": "orange", "code": "        if mswindows:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "687", "colour": "orange", "code": "            if p2cwrite is not None:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "688", "colour": "orange", "code": "                p2cwrite = msvcrt.open_osfhandle(p2cwrite.Detach(), 0)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "689", "colour": "orange", "code": "            if c2pread is not None:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "690", "colour": "orange", "code": "                c2pread = msvcrt.open_osfhandle(c2pread.Detach(), 0)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "691", "colour": "orange", "code": "            if errread is not None:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "692", "colour": "orange", "code": "                errread = msvcrt.open_osfhandle(errread.Detach(), 0)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "693", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "694", "colour": "orange", "code": "        if p2cwrite is not None:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "695", "colour": "orange", "code": "            self.stdin = os.fdopen(p2cwrite, 'wb', bufsize)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "696", "colour": "orange", "code": "        if c2pread is not None:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "697", "colour": "orange", "code": "            if universal_newlines:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "698", "colour": "orange", "code": "                self.stdout = os.fdopen(c2pread, 'rU', bufsize)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "699", "colour": "orange", "code": "            else:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "700", "colour": "orange", "code": "                self.stdout = os.fdopen(c2pread, 'rb', bufsize)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "701", "colour": "orange", "code": "        if errread is not None:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "702", "colour": "orange", "code": "            if universal_newlines:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "703", "colour": "orange", "code": "                self.stderr = os.fdopen(errread, 'rU', bufsize)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "704", "colour": "orange", "code": "            else:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "705", "colour": "orange", "code": "                self.stderr = os.fdopen(errread, 'rb', bufsize)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "706", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "707", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "708", "colour": "blue", "code": "    def _translate_newlines(self, data):\r\n", "error": "R", "author": "tom@organisms.be"}, {"index": "709", "colour": "orange", "code": "        data = data.replace(\"\\r\\n\", \"\\n\")\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "710", "colour": "orange", "code": "        data = data.replace(\"\\r\", \"\\n\")\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "711", "colour": "orange", "code": "        return data\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "712", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "713", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "714", "colour": "green", "code": "    def __del__(self, _maxint=sys.maxint, _active=_active):\r\n", "error": "W", "author": "tom@organisms.be"}, {"index": "715", "colour": "orange", "code": "        # If __init__ hasn't had a chance to execute (e.g. if it\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "716", "colour": "orange", "code": "        # was passed an undeclared keyword argument), we don't\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "717", "colour": "orange", "code": "        # have a _child_created attribute at all.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "718", "colour": "orange", "code": "        if not getattr(self, '_child_created', False):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "719", "colour": "orange", "code": "            # We didn't get to successfully create a child process.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "720", "colour": "orange", "code": "            return\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "721", "colour": "orange", "code": "        # In case the child hasn't been waited on, check if it's done.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "722", "colour": "orange", "code": "        self._internal_poll(_deadstate=_maxint)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "723", "colour": "orange", "code": "        if self.returncode is None and _active is not None:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "724", "colour": "orange", "code": "            # Child is still running, keep us alive until we can wait on it.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "725", "colour": "orange", "code": "            _active.append(self)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "726", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "727", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "728", "colour": "green", "code": "    def communicate(self, input=None):\r\n", "error": "W", "author": "tom@organisms.be"}, {"index": "729", "colour": "orange", "code": "        \"\"\"Interact with process: Send data to stdin.  Read data from\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "730", "colour": "orange", "code": "        stdout and stderr, until end-of-file is reached.  Wait for\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "731", "colour": "orange", "code": "        process to terminate.  The optional input argument should be a\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "732", "colour": "orange", "code": "        string to be sent to the child process, or None, if no data\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "733", "colour": "orange", "code": "        should be sent to the child.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "734", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "735", "colour": "orange", "code": "        communicate() returns a tuple (stdout, stderr).\"\"\"\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "736", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "737", "colour": "orange", "code": "        # Optimization: If we are only using one pipe, or no pipe at\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "738", "colour": "orange", "code": "        # all, using select() or threads is unnecessary.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "739", "colour": "orange", "code": "        if [self.stdin, self.stdout, self.stderr].count(None) >= 2:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "740", "colour": "orange", "code": "            stdout = None\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "741", "colour": "orange", "code": "            stderr = None\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "742", "colour": "orange", "code": "            if self.stdin:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "743", "colour": "orange", "code": "                if input:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "744", "colour": "orange", "code": "                    try:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "745", "colour": "orange", "code": "                        self.stdin.write(input)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "746", "colour": "orange", "code": "                    except IOError, e:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "747", "colour": "orange", "code": "                        if e.errno != errno.EPIPE and e.errno != errno.EINVAL:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "748", "colour": "orange", "code": "                            raise\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "749", "colour": "orange", "code": "                self.stdin.close()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "750", "colour": "orange", "code": "            elif self.stdout:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "751", "colour": "orange", "code": "                stdout = _eintr_retry_call(self.stdout.read)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "752", "colour": "orange", "code": "                self.stdout.close()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "753", "colour": "orange", "code": "            elif self.stderr:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "754", "colour": "orange", "code": "                stderr = _eintr_retry_call(self.stderr.read)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "755", "colour": "orange", "code": "                self.stderr.close()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "756", "colour": "orange", "code": "            self.wait()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "757", "colour": "orange", "code": "            return (stdout, stderr)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "758", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "759", "colour": "orange", "code": "        return self._communicate(input)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "760", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "761", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "762", "colour": "orange", "code": "    def poll(self):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "763", "colour": "orange", "code": "        return self._internal_poll()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "764", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "765", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "766", "colour": "orange", "code": "    if mswindows:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "767", "colour": "orange", "code": "        #\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "768", "colour": "orange", "code": "        # Windows methods\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "769", "colour": "orange", "code": "        #\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "770", "colour": "blue", "code": "        def _get_handles(self, stdin, stdout, stderr):\r\n", "error": "R", "author": "tom@organisms.be"}, {"index": "771", "colour": "orange", "code": "            \"\"\"Construct and return tuple with IO objects:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "772", "colour": "orange", "code": "            p2cread, p2cwrite, c2pread, c2pwrite, errread, errwrite\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "773", "colour": "orange", "code": "            \"\"\"\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "774", "colour": "orange", "code": "            if stdin is None and stdout is None and stderr is None:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "775", "colour": "orange", "code": "                return (None, None, None, None, None, None)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "776", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "777", "colour": "orange", "code": "            p2cread, p2cwrite = None, None\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "778", "colour": "orange", "code": "            c2pread, c2pwrite = None, None\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "779", "colour": "orange", "code": "            errread, errwrite = None, None\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "780", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "781", "colour": "orange", "code": "            if stdin is None:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "782", "colour": "orange", "code": "                p2cread = _subprocess.GetStdHandle(_subprocess.STD_INPUT_HANDLE)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "783", "colour": "orange", "code": "                if p2cread is None:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "784", "colour": "orange", "code": "                    p2cread, _ = _subprocess.CreatePipe(None, 0)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "785", "colour": "orange", "code": "            elif stdin == PIPE:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "786", "colour": "orange", "code": "                p2cread, p2cwrite = _subprocess.CreatePipe(None, 0)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "787", "colour": "orange", "code": "            elif isinstance(stdin, int):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "788", "colour": "orange", "code": "                p2cread = msvcrt.get_osfhandle(stdin)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "789", "colour": "orange", "code": "            else:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "790", "colour": "orange", "code": "                # Assuming file-like object\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "791", "colour": "orange", "code": "                p2cread = msvcrt.get_osfhandle(stdin.fileno())\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "792", "colour": "orange", "code": "            p2cread = self._make_inheritable(p2cread)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "793", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "794", "colour": "orange", "code": "            if stdout is None:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "795", "colour": "orange", "code": "                c2pwrite = _subprocess.GetStdHandle(_subprocess.STD_OUTPUT_HANDLE)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "796", "colour": "orange", "code": "                if c2pwrite is None:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "797", "colour": "orange", "code": "                    _, c2pwrite = _subprocess.CreatePipe(None, 0)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "798", "colour": "orange", "code": "            elif stdout == PIPE:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "799", "colour": "orange", "code": "                c2pread, c2pwrite = _subprocess.CreatePipe(None, 0)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "800", "colour": "orange", "code": "            elif isinstance(stdout, int):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "801", "colour": "orange", "code": "                c2pwrite = msvcrt.get_osfhandle(stdout)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "802", "colour": "orange", "code": "            else:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "803", "colour": "orange", "code": "                # Assuming file-like object\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "804", "colour": "orange", "code": "                c2pwrite = msvcrt.get_osfhandle(stdout.fileno())\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "805", "colour": "orange", "code": "            c2pwrite = self._make_inheritable(c2pwrite)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "806", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "807", "colour": "orange", "code": "            if stderr is None:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "808", "colour": "orange", "code": "                errwrite = _subprocess.GetStdHandle(_subprocess.STD_ERROR_HANDLE)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "809", "colour": "orange", "code": "                if errwrite is None:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "810", "colour": "orange", "code": "                    _, errwrite = _subprocess.CreatePipe(None, 0)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "811", "colour": "orange", "code": "            elif stderr == PIPE:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "812", "colour": "orange", "code": "                errread, errwrite = _subprocess.CreatePipe(None, 0)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "813", "colour": "orange", "code": "            elif stderr == STDOUT:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "814", "colour": "orange", "code": "                errwrite = c2pwrite\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "815", "colour": "orange", "code": "            elif isinstance(stderr, int):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "816", "colour": "orange", "code": "                errwrite = msvcrt.get_osfhandle(stderr)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "817", "colour": "orange", "code": "            else:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "818", "colour": "orange", "code": "                # Assuming file-like object\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "819", "colour": "orange", "code": "                errwrite = msvcrt.get_osfhandle(stderr.fileno())\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "820", "colour": "orange", "code": "            errwrite = self._make_inheritable(errwrite)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "821", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "822", "colour": "orange", "code": "            return (p2cread, p2cwrite,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "823", "colour": "orange", "code": "                    c2pread, c2pwrite,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "824", "colour": "orange", "code": "                    errread, errwrite)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "825", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "826", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "827", "colour": "blue", "code": "        def _make_inheritable(self, handle):\r\n", "error": "R", "author": "tom@organisms.be"}, {"index": "828", "colour": "orange", "code": "            \"\"\"Return a duplicate of handle, which is inheritable\"\"\"\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "829", "colour": "orange", "code": "            return _subprocess.DuplicateHandle(_subprocess.GetCurrentProcess(),\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "830", "colour": "orange", "code": "                                handle, _subprocess.GetCurrentProcess(), 0, 1,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "831", "colour": "orange", "code": "                                _subprocess.DUPLICATE_SAME_ACCESS)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "832", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "833", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "834", "colour": "blue", "code": "        def _find_w9xpopen(self):\r\n", "error": "R", "author": "tom@organisms.be"}, {"index": "835", "colour": "orange", "code": "            \"\"\"Find and return absolut path to w9xpopen.exe\"\"\"\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "836", "colour": "orange", "code": "            w9xpopen = os.path.join(\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "837", "colour": "orange", "code": "                            os.path.dirname(_subprocess.GetModuleFileName(0)),\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "838", "colour": "orange", "code": "                                    \"w9xpopen.exe\")\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "839", "colour": "orange", "code": "            if not os.path.exists(w9xpopen):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "840", "colour": "orange", "code": "                # Eeek - file-not-found - possibly an embedding\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "841", "colour": "orange", "code": "                # situation - see if we can locate it in sys.exec_prefix\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "842", "colour": "orange", "code": "                w9xpopen = os.path.join(os.path.dirname(sys.exec_prefix),\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "843", "colour": "orange", "code": "                                        \"w9xpopen.exe\")\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "844", "colour": "orange", "code": "                if not os.path.exists(w9xpopen):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "845", "colour": "orange", "code": "                    raise RuntimeError(\"Cannot locate w9xpopen.exe, which is \"\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "846", "colour": "orange", "code": "                                       \"needed for Popen to work with your \"\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "847", "colour": "orange", "code": "                                       \"shell or platform.\")\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "848", "colour": "orange", "code": "            return w9xpopen\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "849", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "850", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "851", "colour": "green", "code": "        def _execute_child(self, args, executable, preexec_fn, close_fds,\r\n", "error": "W", "author": "tom@organisms.be"}, {"index": "852", "colour": "green", "code": "                           cwd, env, universal_newlines,\r\n", "error": "W", "author": "tom@organisms.be"}, {"index": "853", "colour": "orange", "code": "                           startupinfo, creationflags, shell,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "854", "colour": "green", "code": "                           p2cread, p2cwrite,\r\n", "error": "W", "author": "tom@organisms.be"}, {"index": "855", "colour": "green", "code": "                           c2pread, c2pwrite,\r\n", "error": "W", "author": "tom@organisms.be"}, {"index": "856", "colour": "green", "code": "                           errread, errwrite):\r\n", "error": "W", "author": "tom@organisms.be"}, {"index": "857", "colour": "orange", "code": "            \"\"\"Execute program (MS Windows version)\"\"\"\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "858", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "859", "colour": "orange", "code": "            if not isinstance(args, types.StringTypes):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "860", "colour": "orange", "code": "                args = list2cmdline(args)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "861", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "862", "colour": "orange", "code": "            # Process startup details\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "863", "colour": "orange", "code": "            if startupinfo is None:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "864", "colour": "orange", "code": "                startupinfo = STARTUPINFO()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "865", "colour": "orange", "code": "            if None not in (p2cread, c2pwrite, errwrite):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "866", "colour": "orange", "code": "                startupinfo.dwFlags |= _subprocess.STARTF_USESTDHANDLES\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "867", "colour": "orange", "code": "                startupinfo.hStdInput = p2cread\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "868", "colour": "orange", "code": "                startupinfo.hStdOutput = c2pwrite\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "869", "colour": "orange", "code": "                startupinfo.hStdError = errwrite\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "870", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "871", "colour": "orange", "code": "            if shell:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "872", "colour": "orange", "code": "                startupinfo.dwFlags |= _subprocess.STARTF_USESHOWWINDOW\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "873", "colour": "orange", "code": "                startupinfo.wShowWindow = _subprocess.SW_HIDE\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "874", "colour": "orange", "code": "                comspec = os.environ.get(\"COMSPEC\", \"cmd.exe\")\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "875", "colour": "orange", "code": "                args = '{} /c \"{}\"'.format (comspec, args)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "876", "colour": "orange", "code": "                if (_subprocess.GetVersion() >= 0x80000000 or\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "877", "colour": "orange", "code": "                        os.path.basename(comspec).lower() == \"command.com\"):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "878", "colour": "orange", "code": "                    # Win9x, or using command.com on NT. We need to\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "879", "colour": "orange", "code": "                    # use the w9xpopen intermediate program. For more\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "880", "colour": "orange", "code": "                    # information, see KB Q150956\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "881", "colour": "orange", "code": "                    # (http://web.archive.org/web/20011105084002/http://support.microsoft.com/support/kb/articles/Q150/9/56.asp)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "882", "colour": "orange", "code": "                    w9xpopen = self._find_w9xpopen()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "883", "colour": "orange", "code": "                    args = '\"%s\" %s' % (w9xpopen, args)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "884", "colour": "orange", "code": "                    # Not passing CREATE_NEW_CONSOLE has been known to\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "885", "colour": "orange", "code": "                    # cause random failures on win9x.  Specifically a\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "886", "colour": "orange", "code": "                    # dialog: \"Your program accessed mem currently in\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "887", "colour": "orange", "code": "                    # use at xxx\" and a hopeful warning about the\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "888", "colour": "orange", "code": "                    # stability of your system.  Cost is Ctrl+C wont\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "889", "colour": "orange", "code": "                    # kill children.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "890", "colour": "orange", "code": "                    creationflags |= _subprocess.CREATE_NEW_CONSOLE\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "891", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "892", "colour": "orange", "code": "            # Start the process\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "893", "colour": "orange", "code": "            try:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "894", "colour": "orange", "code": "                try:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "895", "colour": "green", "code": "                    hp, ht, pid, tid = _subprocess.CreateProcess(executable, args,\r\n", "error": "W", "author": "tom@organisms.be"}, {"index": "896", "colour": "orange", "code": "                                         # no special security\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "897", "colour": "orange", "code": "                                         None, None,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "898", "colour": "orange", "code": "                                         int(not close_fds),\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "899", "colour": "orange", "code": "                                         creationflags,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "900", "colour": "orange", "code": "                                         env,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "901", "colour": "orange", "code": "                                         cwd,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "902", "colour": "orange", "code": "                                         startupinfo)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "903", "colour": "orange", "code": "                except pywintypes.error as e:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "904", "colour": "orange", "code": "                    # Translate pywintypes.error to WindowsError, which is\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "905", "colour": "orange", "code": "                    # a subclass of OSError.  FIXME: We should really\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "906", "colour": "orange", "code": "                    # translate errno using _sys_errlist (or similar), but\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "907", "colour": "orange", "code": "                    # how can this be done from Python?\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "908", "colour": "red", "code": "                    raise WindowsError(*e.args)\r\n", "error": "E", "author": "tom@organisms.be"}, {"index": "909", "colour": "orange", "code": "            finally:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "910", "colour": "orange", "code": "                # Child is launched. Close the parent's copy of those pipe\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "911", "colour": "orange", "code": "                # handles that only the child should have open.  You need\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "912", "colour": "orange", "code": "                # to make sure that no handles to the write end of the\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "913", "colour": "orange", "code": "                # output pipe are maintained in this process or else the\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "914", "colour": "orange", "code": "                # pipe will not close when the child process exits and the\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "915", "colour": "orange", "code": "                # ReadFile will hang.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "916", "colour": "orange", "code": "                if p2cread is not None:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "917", "colour": "orange", "code": "                    p2cread.Close()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "918", "colour": "orange", "code": "                if c2pwrite is not None:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "919", "colour": "orange", "code": "                    c2pwrite.Close()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "920", "colour": "orange", "code": "                if errwrite is not None:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "921", "colour": "orange", "code": "                    errwrite.Close()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "922", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "923", "colour": "orange", "code": "            # Retain the process handle, but close the thread handle\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "924", "colour": "orange", "code": "            self._child_created = True\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "925", "colour": "green", "code": "            self._handle = hp\r\n", "error": "W", "author": "tom@organisms.be"}, {"index": "926", "colour": "orange", "code": "            self.pid = pid\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "927", "colour": "orange", "code": "            ht.Close()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "928", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "929", "colour": "green", "code": "        def _internal_poll(self, _deadstate=None,\r\n", "error": "W", "author": "tom@organisms.be"}, {"index": "930", "colour": "orange", "code": "                _WaitForSingleObject=_subprocess.WaitForSingleObject,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "931", "colour": "orange", "code": "                _WAIT_OBJECT_0=_subprocess.WAIT_OBJECT_0,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "932", "colour": "orange", "code": "                _GetExitCodeProcess=_subprocess.GetExitCodeProcess):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "933", "colour": "orange", "code": "            \"\"\"Check if child process has terminated.  Returns returncode\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "934", "colour": "orange", "code": "            attribute.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "935", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "936", "colour": "orange", "code": "            This method is called by __del__, so it can only refer to objects\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "937", "colour": "orange", "code": "            in its local scope.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "938", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "939", "colour": "orange", "code": "            \"\"\"\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "940", "colour": "orange", "code": "            if self.returncode is None:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "941", "colour": "orange", "code": "                if _WaitForSingleObject(self._handle, 0) == _WAIT_OBJECT_0:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "942", "colour": "orange", "code": "                    self.returncode = _GetExitCodeProcess(self._handle)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "943", "colour": "orange", "code": "            return self.returncode\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "944", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "945", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "946", "colour": "orange", "code": "        def wait(self):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "947", "colour": "orange", "code": "            \"\"\"Wait for child process to terminate.  Returns returncode\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "948", "colour": "orange", "code": "            attribute.\"\"\"\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "949", "colour": "orange", "code": "            if self.returncode is None:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "950", "colour": "orange", "code": "                _subprocess.WaitForSingleObject(self._handle,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "951", "colour": "orange", "code": "                                                _subprocess.INFINITE)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "952", "colour": "orange", "code": "                self.returncode = _subprocess.GetExitCodeProcess(self._handle)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "953", "colour": "orange", "code": "            return self.returncode\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "954", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "955", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "956", "colour": "blue", "code": "        def _readerthread(self, fh, buffer):\r\n", "error": "R", "author": "tom@organisms.be"}, {"index": "957", "colour": "orange", "code": "            buffer.append(fh.read())\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "958", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "959", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "960", "colour": "blue", "code": "        def _communicate(self, input):\r\n", "error": "R", "author": "tom@organisms.be"}, {"index": "961", "colour": "orange", "code": "            stdout = None # Return\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "962", "colour": "orange", "code": "            stderr = None # Return\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "963", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "964", "colour": "orange", "code": "            if self.stdout:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "965", "colour": "orange", "code": "                stdout = []\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "966", "colour": "orange", "code": "                stdout_thread = threading.Thread(target=self._readerthread,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "967", "colour": "orange", "code": "                                                 args=(self.stdout, stdout))\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "968", "colour": "orange", "code": "                stdout_thread.setDaemon(True)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "969", "colour": "orange", "code": "                stdout_thread.start()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "970", "colour": "orange", "code": "            if self.stderr:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "971", "colour": "orange", "code": "                stderr = []\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "972", "colour": "orange", "code": "                stderr_thread = threading.Thread(target=self._readerthread,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "973", "colour": "orange", "code": "                                                 args=(self.stderr, stderr))\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "974", "colour": "orange", "code": "                stderr_thread.setDaemon(True)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "975", "colour": "orange", "code": "                stderr_thread.start()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "976", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "977", "colour": "orange", "code": "            if self.stdin:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "978", "colour": "orange", "code": "                if input is not None:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "979", "colour": "orange", "code": "                    try:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "980", "colour": "orange", "code": "                        self.stdin.write(input)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "981", "colour": "orange", "code": "                    except IOError as e:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "982", "colour": "orange", "code": "                        if e.errno != errno.EPIPE:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "983", "colour": "orange", "code": "                            raise\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "984", "colour": "orange", "code": "                self.stdin.close()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "985", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "986", "colour": "orange", "code": "            if self.stdout:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "987", "colour": "orange", "code": "                stdout_thread.join()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "988", "colour": "orange", "code": "            if self.stderr:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "989", "colour": "orange", "code": "                stderr_thread.join()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "990", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "991", "colour": "orange", "code": "            # All data exchanged.  Translate lists into strings.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "992", "colour": "orange", "code": "            if stdout is not None:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "993", "colour": "orange", "code": "                stdout = stdout[0]\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "994", "colour": "orange", "code": "            if stderr is not None:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "995", "colour": "orange", "code": "                stderr = stderr[0]\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "996", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "997", "colour": "orange", "code": "            # Translate newlines, if requested.  We cannot let the file\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "998", "colour": "orange", "code": "            # object do the translation: It is based on stdio, which is\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "999", "colour": "orange", "code": "            # impossible to combine with select (unless forcing no\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1000", "colour": "orange", "code": "            # buffering).\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1001", "colour": "orange", "code": "            if self.universal_newlines and hasattr(file, 'newlines'):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1002", "colour": "orange", "code": "                if stdout:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1003", "colour": "orange", "code": "                    stdout = self._translate_newlines(stdout)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1004", "colour": "orange", "code": "                if stderr:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1005", "colour": "orange", "code": "                    stderr = self._translate_newlines(stderr)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1006", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1007", "colour": "orange", "code": "            self.wait()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1008", "colour": "orange", "code": "            return (stdout, stderr)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1009", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1010", "colour": "orange", "code": "        def send_signal(self, sig):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1011", "colour": "orange", "code": "            \"\"\"Send a signal to the process\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1012", "colour": "orange", "code": "            \"\"\"\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1013", "colour": "orange", "code": "            if sig == signal.SIGTERM:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1014", "colour": "orange", "code": "                self.terminate()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1015", "colour": "red", "code": "            elif sig == signal.CTRL_C_EVENT:\r\n", "error": "E", "author": "tom@organisms.be"}, {"index": "1016", "colour": "red", "code": "                os.kill(self.pid, signal.CTRL_C_EVENT)\r\n", "error": "E", "author": "tom@organisms.be"}, {"index": "1017", "colour": "red", "code": "            elif sig == signal.CTRL_BREAK_EVENT:\r\n", "error": "E", "author": "tom@organisms.be"}, {"index": "1018", "colour": "red", "code": "                os.kill(self.pid, signal.CTRL_BREAK_EVENT)\r\n", "error": "E", "author": "tom@organisms.be"}, {"index": "1019", "colour": "orange", "code": "            else:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1020", "colour": "orange", "code": "                raise ValueError(\"Unsupported signal: {}\".format(sig))\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1021", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1022", "colour": "orange", "code": "        def terminate(self):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1023", "colour": "orange", "code": "            \"\"\"Terminates the process\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1024", "colour": "orange", "code": "            \"\"\"\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1025", "colour": "orange", "code": "            _subprocess.TerminateProcess(self._handle, 1)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1026", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1027", "colour": "orange", "code": "        kill = terminate\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1028", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1029", "colour": "orange", "code": "    else:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1030", "colour": "orange", "code": "        #\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1031", "colour": "orange", "code": "        # POSIX methods\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1032", "colour": "orange", "code": "        #\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1033", "colour": "blue", "code": "        def _get_handles(self, stdin, stdout, stderr):\r\n", "error": "R", "author": "tom@organisms.be"}, {"index": "1034", "colour": "orange", "code": "            \"\"\"Construct and return tuple with IO objects:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1035", "colour": "orange", "code": "            p2cread, p2cwrite, c2pread, c2pwrite, errread, errwrite\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1036", "colour": "orange", "code": "            \"\"\"\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1037", "colour": "orange", "code": "            p2cread, p2cwrite = None, None\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1038", "colour": "orange", "code": "            c2pread, c2pwrite = None, None\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1039", "colour": "orange", "code": "            errread, errwrite = None, None\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1040", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1041", "colour": "orange", "code": "            if stdin is None:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1042", "colour": "orange", "code": "                pass\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1043", "colour": "orange", "code": "            elif stdin == PIPE:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1044", "colour": "orange", "code": "                p2cread, p2cwrite = self.pipe_cloexec()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1045", "colour": "orange", "code": "            elif isinstance(stdin, int):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1046", "colour": "orange", "code": "                p2cread = stdin\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1047", "colour": "orange", "code": "            else:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1048", "colour": "orange", "code": "                # Assuming file-like object\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1049", "colour": "orange", "code": "                p2cread = stdin.fileno()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1050", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1051", "colour": "orange", "code": "            if stdout is None:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1052", "colour": "orange", "code": "                pass\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1053", "colour": "orange", "code": "            elif stdout == PIPE:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1054", "colour": "orange", "code": "                c2pread, c2pwrite = self.pipe_cloexec()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1055", "colour": "orange", "code": "            elif isinstance(stdout, int):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1056", "colour": "orange", "code": "                c2pwrite = stdout\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1057", "colour": "orange", "code": "            else:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1058", "colour": "orange", "code": "                # Assuming file-like object\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1059", "colour": "orange", "code": "                c2pwrite = stdout.fileno()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1060", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1061", "colour": "orange", "code": "            if stderr is None:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1062", "colour": "orange", "code": "                pass\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1063", "colour": "orange", "code": "            elif stderr == PIPE:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1064", "colour": "orange", "code": "                errread, errwrite = self.pipe_cloexec()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1065", "colour": "orange", "code": "            elif stderr == STDOUT:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1066", "colour": "orange", "code": "                errwrite = c2pwrite\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1067", "colour": "orange", "code": "            elif isinstance(stderr, int):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1068", "colour": "orange", "code": "                errwrite = stderr\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1069", "colour": "orange", "code": "            else:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1070", "colour": "orange", "code": "                # Assuming file-like object\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1071", "colour": "orange", "code": "                errwrite = stderr.fileno()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1072", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1073", "colour": "orange", "code": "            return (p2cread, p2cwrite,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1074", "colour": "orange", "code": "                    c2pread, c2pwrite,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1075", "colour": "orange", "code": "                    errread, errwrite)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1076", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1077", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1078", "colour": "blue", "code": "        def _set_cloexec_flag(self, fd, cloexec=True):\r\n", "error": "R", "author": "tom@organisms.be"}, {"index": "1079", "colour": "orange", "code": "            try:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1080", "colour": "orange", "code": "                cloexec_flag = fcntl.FD_CLOEXEC\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1081", "colour": "orange", "code": "            except AttributeError:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1082", "colour": "orange", "code": "                cloexec_flag = 1\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1083", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1084", "colour": "orange", "code": "            old = fcntl.fcntl(fd, fcntl.F_GETFD)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1085", "colour": "orange", "code": "            if cloexec:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1086", "colour": "orange", "code": "                fcntl.fcntl(fd, fcntl.F_SETFD, old | cloexec_flag)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1087", "colour": "orange", "code": "            else:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1088", "colour": "orange", "code": "                fcntl.fcntl(fd, fcntl.F_SETFD, old & ~cloexec_flag)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1089", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1090", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1091", "colour": "orange", "code": "        def pipe_cloexec(self):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1092", "colour": "orange", "code": "            \"\"\"Create a pipe with FDs set CLOEXEC.\"\"\"\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1093", "colour": "orange", "code": "            # Pipes' FDs are set CLOEXEC by default because we don't want them\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1094", "colour": "orange", "code": "            # to be inherited by other subprocesses: the CLOEXEC flag is removed\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1095", "colour": "orange", "code": "            # from the child's FDs by _dup2(), between fork() and exec().\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1096", "colour": "orange", "code": "            # This is not atomic: we would need the pipe2() syscall for that.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1097", "colour": "orange", "code": "            r, w = os.pipe()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1098", "colour": "orange", "code": "            self._set_cloexec_flag(r)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1099", "colour": "orange", "code": "            self._set_cloexec_flag(w)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1100", "colour": "orange", "code": "            return r, w\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1101", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1102", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1103", "colour": "blue", "code": "        def _close_fds(self, but):\r\n", "error": "R", "author": "tom@organisms.be"}, {"index": "1104", "colour": "orange", "code": "            if hasattr(os, 'closerange'):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1105", "colour": "orange", "code": "                os.closerange(3, but)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1106", "colour": "orange", "code": "                os.closerange(but + 1, MAXFD)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1107", "colour": "orange", "code": "            else:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1108", "colour": "orange", "code": "                for i in xrange(3, MAXFD):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1109", "colour": "orange", "code": "                    if i == but:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1110", "colour": "orange", "code": "                        continue\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1111", "colour": "orange", "code": "                    try:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1112", "colour": "orange", "code": "                        os.close(i)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1113", "colour": "green", "code": "                    except:\r\n", "error": "W", "author": "tom@organisms.be"}, {"index": "1114", "colour": "orange", "code": "                        pass\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1115", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1116", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1117", "colour": "blue", "code": "        def _execute_child(self, args, executable, preexec_fn, close_fds,\r\n", "error": "R", "author": "tom@organisms.be"}, {"index": "1118", "colour": "green", "code": "                           cwd, env, universal_newlines,\r\n", "error": "W", "author": "tom@organisms.be"}, {"index": "1119", "colour": "green", "code": "                           startupinfo, creationflags, shell,\r\n", "error": "W", "author": "tom@organisms.be"}, {"index": "1120", "colour": "orange", "code": "                           p2cread, p2cwrite,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1121", "colour": "orange", "code": "                           c2pread, c2pwrite,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1122", "colour": "orange", "code": "                           errread, errwrite):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1123", "colour": "orange", "code": "            \"\"\"Execute program (POSIX version)\"\"\"\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1124", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1125", "colour": "orange", "code": "            if isinstance(args, types.StringTypes):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1126", "colour": "orange", "code": "                args = [args]\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1127", "colour": "orange", "code": "            else:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1128", "colour": "orange", "code": "                args = list(args)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1129", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1130", "colour": "orange", "code": "            if shell:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1131", "colour": "orange", "code": "                args = [\"/bin/sh\", \"-c\"] + args\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1132", "colour": "orange", "code": "                if executable:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1133", "colour": "orange", "code": "                    args[0] = executable\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1134", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1135", "colour": "orange", "code": "            if executable is None:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1136", "colour": "orange", "code": "                executable = args[0]\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1137", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1138", "colour": "orange", "code": "            # For transferring possible exec failure from child to parent\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1139", "colour": "orange", "code": "            # The first char specifies the exception type: 0 means\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1140", "colour": "orange", "code": "            # OSError, 1 means some other error.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1141", "colour": "orange", "code": "            errpipe_read, errpipe_write = self.pipe_cloexec()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1142", "colour": "orange", "code": "            try:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1143", "colour": "orange", "code": "                try:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1144", "colour": "orange", "code": "                    gc_was_enabled = gc.isenabled()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1145", "colour": "orange", "code": "                    # Disable gc to avoid bug where gc -> file_dealloc ->\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1146", "colour": "orange", "code": "                    # write to stderr -> hang.  http://bugs.python.org/issue1336\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1147", "colour": "orange", "code": "                    gc.disable()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1148", "colour": "orange", "code": "                    try:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1149", "colour": "orange", "code": "                        self.pid = os.fork()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1150", "colour": "orange", "code": "                    except:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1151", "colour": "orange", "code": "                        if gc_was_enabled:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1152", "colour": "orange", "code": "                            gc.enable()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1153", "colour": "orange", "code": "                        raise\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1154", "colour": "orange", "code": "                    self._child_created = True\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1155", "colour": "orange", "code": "                    if self.pid == 0:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1156", "colour": "orange", "code": "                        # Child\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1157", "colour": "orange", "code": "                        try:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1158", "colour": "orange", "code": "                            # Close parent's pipe ends\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1159", "colour": "orange", "code": "                            if p2cwrite is not None:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1160", "colour": "orange", "code": "                                os.close(p2cwrite)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1161", "colour": "orange", "code": "                            if c2pread is not None:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1162", "colour": "orange", "code": "                                os.close(c2pread)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1163", "colour": "orange", "code": "                            if errread is not None:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1164", "colour": "orange", "code": "                                os.close(errread)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1165", "colour": "orange", "code": "                            os.close(errpipe_read)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1166", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1167", "colour": "orange", "code": "                            # When duping fds, if there arises a situation\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1168", "colour": "orange", "code": "                            # where one of the fds is either 0, 1 or 2, it\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1169", "colour": "orange", "code": "                            # is possible that it is overwritten (#12607).\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1170", "colour": "orange", "code": "                            if c2pwrite == 0:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1171", "colour": "orange", "code": "                                c2pwrite = os.dup(c2pwrite)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1172", "colour": "orange", "code": "                            if errwrite == 0 or errwrite == 1:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1173", "colour": "orange", "code": "                                errwrite = os.dup(errwrite)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1174", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1175", "colour": "orange", "code": "                            # Dup fds for child\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1176", "colour": "orange", "code": "                            def _dup2(a, b):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1177", "colour": "orange", "code": "                                # dup2() removes the CLOEXEC flag but\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1178", "colour": "orange", "code": "                                # we must do it ourselves if dup2()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1179", "colour": "orange", "code": "                                # would be a no-op (issue #10806).\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1180", "colour": "orange", "code": "                                if a == b:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1181", "colour": "orange", "code": "                                    self._set_cloexec_flag(a, False)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1182", "colour": "orange", "code": "                                elif a is not None:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1183", "colour": "orange", "code": "                                    os.dup2(a, b)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1184", "colour": "orange", "code": "                            _dup2(p2cread, 0)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1185", "colour": "orange", "code": "                            _dup2(c2pwrite, 1)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1186", "colour": "orange", "code": "                            _dup2(errwrite, 2)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1187", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1188", "colour": "orange", "code": "                            # Close pipe fds.  Make sure we don't close the\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1189", "colour": "orange", "code": "                            # same fd more than once, or standard fds.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1190", "colour": "orange", "code": "                            closed = set([None])\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1191", "colour": "orange", "code": "                            for fd in [p2cread, c2pwrite, errwrite]:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1192", "colour": "orange", "code": "                                if fd not in closed and fd > 2:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1193", "colour": "orange", "code": "                                    os.close(fd)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1194", "colour": "orange", "code": "                                    closed.add(fd)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1195", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1196", "colour": "orange", "code": "                            # Close all other fds, if asked for\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1197", "colour": "orange", "code": "                            if close_fds:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1198", "colour": "orange", "code": "                                self._close_fds(but=errpipe_write)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1199", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1200", "colour": "orange", "code": "                            if cwd is not None:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1201", "colour": "orange", "code": "                                os.chdir(cwd)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1202", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1203", "colour": "orange", "code": "                            if preexec_fn:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1204", "colour": "orange", "code": "                                preexec_fn()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1205", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1206", "colour": "orange", "code": "                            if env is None:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1207", "colour": "orange", "code": "                                os.execvp(executable, args)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1208", "colour": "orange", "code": "                            else:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1209", "colour": "orange", "code": "                                os.execvpe(executable, args, env)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1210", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1211", "colour": "green", "code": "                        except:\r\n", "error": "W", "author": "tom@organisms.be"}, {"index": "1212", "colour": "orange", "code": "                            exc_type, exc_value, tb = sys.exc_info()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1213", "colour": "orange", "code": "                            # Save the traceback and attach it to the exception object\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1214", "colour": "orange", "code": "                            exc_lines = traceback.format_exception(exc_type,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1215", "colour": "orange", "code": "                                                                   exc_value,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1216", "colour": "orange", "code": "                                                                   tb)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1217", "colour": "orange", "code": "                            exc_value.child_traceback = ''.join(exc_lines)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1218", "colour": "orange", "code": "                            os.write(errpipe_write, pickle.dumps(exc_value))\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1219", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1220", "colour": "orange", "code": "                        # This exitcode won't be reported to applications, so it\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1221", "colour": "orange", "code": "                        # really doesn't matter what we return.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1222", "colour": "green", "code": "                        os._exit(255)\r\n", "error": "W", "author": "tom@organisms.be"}, {"index": "1223", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1224", "colour": "orange", "code": "                    # Parent\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1225", "colour": "orange", "code": "                    if gc_was_enabled:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1226", "colour": "orange", "code": "                        gc.enable()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1227", "colour": "orange", "code": "                finally:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1228", "colour": "orange", "code": "                    # be sure the FD is closed no matter what\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1229", "colour": "orange", "code": "                    os.close(errpipe_write)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1230", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1231", "colour": "orange", "code": "                if p2cread is not None and p2cwrite is not None:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1232", "colour": "orange", "code": "                    os.close(p2cread)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1233", "colour": "orange", "code": "                if c2pwrite is not None and c2pread is not None:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1234", "colour": "orange", "code": "                    os.close(c2pwrite)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1235", "colour": "orange", "code": "                if errwrite is not None and errread is not None:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1236", "colour": "orange", "code": "                    os.close(errwrite)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1237", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1238", "colour": "orange", "code": "                # Wait for exec to fail or succeed; possibly raising exception\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1239", "colour": "orange", "code": "                # Exception limited to 1M\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1240", "colour": "orange", "code": "                data = _eintr_retry_call(os.read, errpipe_read, 1048576)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1241", "colour": "orange", "code": "            finally:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1242", "colour": "orange", "code": "                # be sure the FD is closed no matter what\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1243", "colour": "orange", "code": "                os.close(errpipe_read)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1244", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1245", "colour": "orange", "code": "            if data != \"\":\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1246", "colour": "orange", "code": "                try:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1247", "colour": "orange", "code": "                    _eintr_retry_call(os.waitpid, self.pid, 0)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1248", "colour": "orange", "code": "                except OSError as e:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1249", "colour": "orange", "code": "                    if e.errno != errno.ECHILD:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1250", "colour": "orange", "code": "                        raise\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1251", "colour": "orange", "code": "                child_exception = pickle.loads(data)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1252", "colour": "orange", "code": "                for fd in (p2cwrite, c2pread, errread):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1253", "colour": "orange", "code": "                    if fd is not None:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1254", "colour": "orange", "code": "                        os.close(fd)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1255", "colour": "orange", "code": "                raise child_exception\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1256", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1257", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1258", "colour": "orange", "code": "        def _handle_exitstatus(self, sts, _WIFSIGNALED=os.WIFSIGNALED,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1259", "colour": "orange", "code": "                _WTERMSIG=os.WTERMSIG, _WIFEXITED=os.WIFEXITED,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1260", "colour": "orange", "code": "                _WEXITSTATUS=os.WEXITSTATUS):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1261", "colour": "orange", "code": "            # This method is called (indirectly) by __del__, so it cannot\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1262", "colour": "orange", "code": "            # refer to anything outside of its local scope.\"\"\"\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1263", "colour": "orange", "code": "            if _WIFSIGNALED(sts):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1264", "colour": "orange", "code": "                self.returncode = -_WTERMSIG(sts)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1265", "colour": "orange", "code": "            elif _WIFEXITED(sts):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1266", "colour": "orange", "code": "                self.returncode = _WEXITSTATUS(sts)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1267", "colour": "orange", "code": "            else:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1268", "colour": "orange", "code": "                # Should never happen\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1269", "colour": "orange", "code": "                raise RuntimeError(\"Unknown child exit status!\")\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1270", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1271", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1272", "colour": "orange", "code": "        def _internal_poll(self, _deadstate=None, _waitpid=os.waitpid,\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1273", "colour": "orange", "code": "                _WNOHANG=os.WNOHANG, _os_error=os.error):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1274", "colour": "orange", "code": "            \"\"\"Check if child process has terminated.  Returns returncode\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1275", "colour": "orange", "code": "            attribute.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1276", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1277", "colour": "orange", "code": "            This method is called by __del__, so it cannot reference anything\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1278", "colour": "orange", "code": "            outside of the local scope (nor can any methods it calls).\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1279", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1280", "colour": "orange", "code": "            \"\"\"\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1281", "colour": "orange", "code": "            if self.returncode is None:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1282", "colour": "orange", "code": "                try:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1283", "colour": "orange", "code": "                    pid, sts = _waitpid(self.pid, _WNOHANG)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1284", "colour": "orange", "code": "                    if pid == self.pid:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1285", "colour": "orange", "code": "                        self._handle_exitstatus(sts)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1286", "colour": "orange", "code": "                except _os_error:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1287", "colour": "orange", "code": "                    if _deadstate is not None:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1288", "colour": "orange", "code": "                        self.returncode = _deadstate\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1289", "colour": "orange", "code": "            return self.returncode\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1290", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1291", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1292", "colour": "orange", "code": "        def wait(self):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1293", "colour": "orange", "code": "            \"\"\"Wait for child process to terminate.  Returns returncode\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1294", "colour": "orange", "code": "            attribute.\"\"\"\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1295", "colour": "orange", "code": "            if self.returncode is None:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1296", "colour": "orange", "code": "                try:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1297", "colour": "green", "code": "                    pid, sts = _eintr_retry_call(os.waitpid, self.pid, 0)\r\n", "error": "W", "author": "tom@organisms.be"}, {"index": "1298", "colour": "orange", "code": "                except OSError as e:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1299", "colour": "orange", "code": "                    if e.errno != errno.ECHILD:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1300", "colour": "orange", "code": "                        raise\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1301", "colour": "orange", "code": "                    # This happens if SIGCLD is set to be ignored or waiting\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1302", "colour": "orange", "code": "                    # for child processes has otherwise been disabled for our\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1303", "colour": "orange", "code": "                    # process.  This child is dead, we can't get the status.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1304", "colour": "orange", "code": "                    sts = 0\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1305", "colour": "orange", "code": "                self._handle_exitstatus(sts)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1306", "colour": "orange", "code": "            return self.returncode\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1307", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1308", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1309", "colour": "green", "code": "        def _communicate(self, input):\r\n", "error": "W", "author": "tom@organisms.be"}, {"index": "1310", "colour": "orange", "code": "            if self.stdin:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1311", "colour": "orange", "code": "                # Flush stdio buffer.  This might block, if the user has\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1312", "colour": "orange", "code": "                # been writing to .stdin in an uncontrolled fashion.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1313", "colour": "orange", "code": "                self.stdin.flush()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1314", "colour": "orange", "code": "                if not input:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1315", "colour": "orange", "code": "                    self.stdin.close()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1316", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1317", "colour": "orange", "code": "            if _has_poll:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1318", "colour": "orange", "code": "                stdout, stderr = self._communicate_with_poll(input)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1319", "colour": "orange", "code": "            else:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1320", "colour": "orange", "code": "                stdout, stderr = self._communicate_with_select(input)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1321", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1322", "colour": "orange", "code": "            # All data exchanged.  Translate lists into strings.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1323", "colour": "orange", "code": "            if stdout is not None:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1324", "colour": "orange", "code": "                stdout = ''.join(stdout)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1325", "colour": "orange", "code": "            if stderr is not None:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1326", "colour": "orange", "code": "                stderr = ''.join(stderr)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1327", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1328", "colour": "orange", "code": "            # Translate newlines, if requested.  We cannot let the file\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1329", "colour": "orange", "code": "            # object do the translation: It is based on stdio, which is\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1330", "colour": "orange", "code": "            # impossible to combine with select (unless forcing no\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1331", "colour": "orange", "code": "            # buffering).\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1332", "colour": "orange", "code": "            if self.universal_newlines and hasattr(file, 'newlines'):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1333", "colour": "orange", "code": "                if stdout:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1334", "colour": "orange", "code": "                    stdout = self._translate_newlines(stdout)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1335", "colour": "orange", "code": "                if stderr:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1336", "colour": "orange", "code": "                    stderr = self._translate_newlines(stderr)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1337", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1338", "colour": "orange", "code": "            self.wait()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1339", "colour": "orange", "code": "            return (stdout, stderr)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1340", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1341", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1342", "colour": "blue", "code": "        def _communicate_with_poll(self, input):\r\n", "error": "R", "author": "tom@organisms.be"}, {"index": "1343", "colour": "orange", "code": "            stdout = None # Return\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1344", "colour": "orange", "code": "            stderr = None # Return\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1345", "colour": "orange", "code": "            fd2file = {}\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1346", "colour": "orange", "code": "            fd2output = {}\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1347", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1348", "colour": "orange", "code": "            poller = select.poll()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1349", "colour": "orange", "code": "            def register_and_append(file_obj, eventmask):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1350", "colour": "orange", "code": "                poller.register(file_obj.fileno(), eventmask)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1351", "colour": "orange", "code": "                fd2file[file_obj.fileno()] = file_obj\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1352", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1353", "colour": "orange", "code": "            def close_unregister_and_remove(fd):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1354", "colour": "orange", "code": "                poller.unregister(fd)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1355", "colour": "orange", "code": "                fd2file[fd].close()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1356", "colour": "orange", "code": "                fd2file.pop(fd)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1357", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1358", "colour": "orange", "code": "            if self.stdin and input:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1359", "colour": "orange", "code": "                register_and_append(self.stdin, select.POLLOUT)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1360", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1361", "colour": "orange", "code": "            select_POLLIN_POLLPRI = select.POLLIN | select.POLLPRI\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1362", "colour": "orange", "code": "            if self.stdout:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1363", "colour": "orange", "code": "                register_and_append(self.stdout, select_POLLIN_POLLPRI)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1364", "colour": "orange", "code": "                fd2output[self.stdout.fileno()] = stdout = []\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1365", "colour": "orange", "code": "            if self.stderr:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1366", "colour": "orange", "code": "                register_and_append(self.stderr, select_POLLIN_POLLPRI)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1367", "colour": "orange", "code": "                fd2output[self.stderr.fileno()] = stderr = []\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1368", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1369", "colour": "orange", "code": "            input_offset = 0\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1370", "colour": "orange", "code": "            while fd2file:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1371", "colour": "orange", "code": "                try:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1372", "colour": "orange", "code": "                    ready = poller.poll()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1373", "colour": "orange", "code": "                except select.error as e:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1374", "colour": "orange", "code": "                    if e.args[0] == errno.EINTR:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1375", "colour": "orange", "code": "                        continue\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1376", "colour": "orange", "code": "                    raise\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1377", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1378", "colour": "orange", "code": "                for fd, mode in ready:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1379", "colour": "orange", "code": "                    if mode & select.POLLOUT:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1380", "colour": "orange", "code": "                        chunk = input[input_offset : input_offset + _PIPE_BUF]\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1381", "colour": "orange", "code": "                        try:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1382", "colour": "orange", "code": "                            input_offset += os.write(fd, chunk)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1383", "colour": "orange", "code": "                        except OSError as e:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1384", "colour": "orange", "code": "                            if e.errno == errno.EPIPE:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1385", "colour": "orange", "code": "                                close_unregister_and_remove(fd)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1386", "colour": "orange", "code": "                            else:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1387", "colour": "orange", "code": "                                raise\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1388", "colour": "orange", "code": "                        else:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1389", "colour": "orange", "code": "                            if input_offset >= len(input):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1390", "colour": "orange", "code": "                                close_unregister_and_remove(fd)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1391", "colour": "orange", "code": "                    elif mode & select_POLLIN_POLLPRI:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1392", "colour": "orange", "code": "                        data = os.read(fd, 4096)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1393", "colour": "orange", "code": "                        if not data:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1394", "colour": "orange", "code": "                            close_unregister_and_remove(fd)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1395", "colour": "orange", "code": "                        fd2output[fd].append(data)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1396", "colour": "orange", "code": "                    else:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1397", "colour": "orange", "code": "                        # Ignore hang up or errors.\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1398", "colour": "orange", "code": "                        close_unregister_and_remove(fd)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1399", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1400", "colour": "orange", "code": "            return (stdout, stderr)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1401", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1402", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1403", "colour": "blue", "code": "        def _communicate_with_select(self, input):\r\n", "error": "R", "author": "tom@organisms.be"}, {"index": "1404", "colour": "orange", "code": "            read_set = []\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1405", "colour": "orange", "code": "            write_set = []\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1406", "colour": "orange", "code": "            stdout = None # Return\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1407", "colour": "orange", "code": "            stderr = None # Return\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1408", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1409", "colour": "orange", "code": "            if self.stdin and input:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1410", "colour": "orange", "code": "                write_set.append(self.stdin)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1411", "colour": "orange", "code": "            if self.stdout:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1412", "colour": "orange", "code": "                read_set.append(self.stdout)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1413", "colour": "orange", "code": "                stdout = []\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1414", "colour": "orange", "code": "            if self.stderr:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1415", "colour": "orange", "code": "                read_set.append(self.stderr)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1416", "colour": "orange", "code": "                stderr = []\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1417", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1418", "colour": "orange", "code": "            input_offset = 0\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1419", "colour": "orange", "code": "            while read_set or write_set:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1420", "colour": "orange", "code": "                try:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1421", "colour": "green", "code": "                    rlist, wlist, xlist = select.select(read_set, write_set, [])\r\n", "error": "W", "author": "tom@organisms.be"}, {"index": "1422", "colour": "orange", "code": "                except select.error as e:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1423", "colour": "orange", "code": "                    if e.args[0] == errno.EINTR:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1424", "colour": "orange", "code": "                        continue\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1425", "colour": "orange", "code": "                    raise\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1426", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1427", "colour": "orange", "code": "                if self.stdin in wlist:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1428", "colour": "orange", "code": "                    chunk = input[input_offset : input_offset + _PIPE_BUF]\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1429", "colour": "orange", "code": "                    try:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1430", "colour": "orange", "code": "                        bytes_written = os.write(self.stdin.fileno(), chunk)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1431", "colour": "orange", "code": "                    except OSError as e:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1432", "colour": "orange", "code": "                        if e.errno == errno.EPIPE:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1433", "colour": "orange", "code": "                            self.stdin.close()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1434", "colour": "orange", "code": "                            write_set.remove(self.stdin)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1435", "colour": "orange", "code": "                        else:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1436", "colour": "orange", "code": "                            raise\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1437", "colour": "orange", "code": "                    else:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1438", "colour": "orange", "code": "                        input_offset += bytes_written\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1439", "colour": "orange", "code": "                        if input_offset >= len(input):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1440", "colour": "orange", "code": "                            self.stdin.close()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1441", "colour": "orange", "code": "                            write_set.remove(self.stdin)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1442", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1443", "colour": "orange", "code": "                if self.stdout in rlist:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1444", "colour": "orange", "code": "                    data = os.read(self.stdout.fileno(), 1024)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1445", "colour": "orange", "code": "                    if data == \"\":\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1446", "colour": "orange", "code": "                        self.stdout.close()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1447", "colour": "orange", "code": "                        read_set.remove(self.stdout)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1448", "colour": "orange", "code": "                    stdout.append(data)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1449", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1450", "colour": "orange", "code": "                if self.stderr in rlist:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1451", "colour": "orange", "code": "                    data = os.read(self.stderr.fileno(), 1024)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1452", "colour": "orange", "code": "                    if data == \"\":\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1453", "colour": "orange", "code": "                        self.stderr.close()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1454", "colour": "orange", "code": "                        read_set.remove(self.stderr)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1455", "colour": "orange", "code": "                    stderr.append(data)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1456", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1457", "colour": "orange", "code": "            return (stdout, stderr)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1458", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1459", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1460", "colour": "orange", "code": "        def send_signal(self, sig):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1461", "colour": "orange", "code": "            \"\"\"Send a signal to the process\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1462", "colour": "orange", "code": "            \"\"\"\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1463", "colour": "orange", "code": "            os.kill(self.pid, sig)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1464", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1465", "colour": "orange", "code": "        def terminate(self):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1466", "colour": "orange", "code": "            \"\"\"Terminate the process with SIGTERM\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1467", "colour": "orange", "code": "            \"\"\"\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1468", "colour": "orange", "code": "            self.send_signal(signal.SIGTERM)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1469", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1470", "colour": "orange", "code": "        def kill(self):\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1471", "colour": "orange", "code": "            \"\"\"Kill the process with SIGKILL\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1472", "colour": "orange", "code": "            \"\"\"\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1473", "colour": "orange", "code": "            self.send_signal(signal.SIGKILL)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1474", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1475", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1476", "colour": "orange", "code": "def _demo_posix():\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1477", "colour": "orange", "code": "    #\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1478", "colour": "orange", "code": "    # Example 1: Simple redirection: Get process list\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1479", "colour": "orange", "code": "    #\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1480", "colour": "orange", "code": "    plist = Popen([\"ps\"], stdout=PIPE).communicate()[0]\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1481", "colour": "orange", "code": "    print \"Process list:\"\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1482", "colour": "orange", "code": "    print plist\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1483", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1484", "colour": "orange", "code": "    #\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1485", "colour": "orange", "code": "    # Example 2: Change uid before executing child\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1486", "colour": "orange", "code": "    #\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1487", "colour": "orange", "code": "    if os.getuid() == 0:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1488", "colour": "orange", "code": "        p = Popen([\"id\"], preexec_fn=lambda: os.setuid(100))\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1489", "colour": "orange", "code": "        p.wait()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1490", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1491", "colour": "orange", "code": "    #\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1492", "colour": "orange", "code": "    # Example 3: Connecting several subprocesses\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1493", "colour": "orange", "code": "    #\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1494", "colour": "orange", "code": "    print \"Looking for 'hda'...\"\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1495", "colour": "orange", "code": "    p1 = Popen([\"dmesg\"], stdout=PIPE)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1496", "colour": "orange", "code": "    p2 = Popen([\"grep\", \"hda\"], stdin=p1.stdout, stdout=PIPE)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1497", "colour": "orange", "code": "    print repr(p2.communicate()[0])\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1498", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1499", "colour": "orange", "code": "    #\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1500", "colour": "orange", "code": "    # Example 4: Catch execution error\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1501", "colour": "orange", "code": "    #\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1502", "colour": "orange", "code": "    print\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1503", "colour": "orange", "code": "    print \"Trying a weird file...\"\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1504", "colour": "orange", "code": "    try:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1505", "colour": "orange", "code": "        print Popen([\"/this/path/does/not/exist\"]).communicate()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1506", "colour": "orange", "code": "    except OSError, e:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1507", "colour": "orange", "code": "        if e.errno == errno.ENOENT:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1508", "colour": "orange", "code": "            print \"The file didn't exist.  I thought so...\"\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1509", "colour": "orange", "code": "            print \"Child traceback:\"\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1510", "colour": "orange", "code": "            print e.child_traceback\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1511", "colour": "orange", "code": "        else:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1512", "colour": "orange", "code": "            print \"Error\", e.errno\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1513", "colour": "orange", "code": "    else:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1514", "colour": "orange", "code": "        print >>sys.stderr, \"Gosh.  No error.\"\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1515", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1516", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1517", "colour": "orange", "code": "def _demo_windows():\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1518", "colour": "orange", "code": "    #\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1519", "colour": "orange", "code": "    # Example 1: Connecting several subprocesses\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1520", "colour": "orange", "code": "    #\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1521", "colour": "orange", "code": "    print \"Looking for 'PROMPT' in set output...\"\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1522", "colour": "orange", "code": "    p1 = Popen(\"set\", stdout=PIPE, shell=True)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1523", "colour": "orange", "code": "    p2 = Popen('find \"PROMPT\"', stdin=p1.stdout, stdout=PIPE)\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1524", "colour": "orange", "code": "    print repr(p2.communicate()[0])\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1525", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1526", "colour": "orange", "code": "    #\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1527", "colour": "orange", "code": "    # Example 2: Simple execution of program\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1528", "colour": "orange", "code": "    #\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1529", "colour": "orange", "code": "    print \"Executing calc...\"\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1530", "colour": "orange", "code": "    p = Popen(\"calc\")\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1531", "colour": "orange", "code": "    p.wait()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1532", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1533", "colour": "orange", "code": "\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1534", "colour": "orange", "code": "if __name__ == \"__main__\":\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1535", "colour": "orange", "code": "    if mswindows:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1536", "colour": "orange", "code": "        _demo_windows()\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1537", "colour": "orange", "code": "    else:\r\n", "error": "none", "author": "tom@organisms.be"}, {"index": "1538", "colour": "orange", "code": "        _demo_posix()\r\n", "error": "none", "author": "tom@organisms.be"}]]}