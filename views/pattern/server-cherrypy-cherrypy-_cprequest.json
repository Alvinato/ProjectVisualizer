{"path": "/home/asumal/git/cs410/pattern/pattern/server/cherrypy/cherrypy/_cprequest.py", "lines": [[{"error": "C", "line": "1", "code": "\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "W", "line": "2", "code": "import os\n", "colour": "purple", "author": "tom@organisms.be"}, {"error": "none", "line": "3", "code": "import sys\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "4", "code": "import time\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "5", "code": "import warnings\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "6", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "7", "code": "import cherrypy\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "W", "line": "8", "code": "from cherrypy._cpcompat import basestring, copykeys, ntob, unicodestr\n", "colour": "purple", "author": "tom@organisms.be"}, {"error": "none", "line": "9", "code": "from cherrypy._cpcompat import SimpleCookie, CookieError, py3k\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "10", "code": "from cherrypy import _cpreqbody, _cpconfig\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "11", "code": "from cherrypy._cperror import format_exc, bare_error\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "12", "code": "from cherrypy.lib import httputil, file_generator\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "13", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "14", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "R", "line": "15", "code": "class Hook(object):\n", "colour": "green", "author": "tom@organisms.be"}, {"error": "none", "line": "16", "code": "    \"\"\"A callback and its metadata: failsafe, priority, and kwargs.\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "17", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "18", "code": "    callback = None\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "19", "code": "    \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "20", "code": "    The bare callable that this Hook object is wrapping, which will\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "21", "code": "    be called when the Hook is called.\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "22", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "23", "code": "    failsafe = False\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "24", "code": "    \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "25", "code": "    If True, the callback is guaranteed to run even if other callbacks\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "26", "code": "    from the same call point raise exceptions.\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "27", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "28", "code": "    priority = 50\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "29", "code": "    \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "30", "code": "    Defines the order of execution for a list of Hooks. Priority numbers\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "31", "code": "    should be limited to the closed interval [0, 100], but values outside\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "32", "code": "    this range are acceptable, as are fractional values.\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "33", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "34", "code": "    kwargs = {}\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "35", "code": "    \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "36", "code": "    A set of keyword arguments that will be passed to the\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "37", "code": "    callable on each call.\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "38", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "39", "code": "    def __init__(self, callback, failsafe=None, priority=None, **kwargs):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "40", "code": "        self.callback = callback\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "41", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "42", "code": "        if failsafe is None:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "43", "code": "            failsafe = getattr(callback, \"failsafe\", False)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "44", "code": "        self.failsafe = failsafe\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "45", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "46", "code": "        if priority is None:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "47", "code": "            priority = getattr(callback, \"priority\", 50)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "48", "code": "        self.priority = priority\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "49", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "50", "code": "        self.kwargs = kwargs\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "51", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "52", "code": "    def __lt__(self, other):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "53", "code": "        # Python 3\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "54", "code": "        return self.priority < other.priority\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "55", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "56", "code": "    def __cmp__(self, other):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "57", "code": "        # Python 2\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "58", "code": "        return cmp(self.priority, other.priority)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "59", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "60", "code": "    def __call__(self):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "61", "code": "        \"\"\"Run self.callback(**self.kwargs).\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "62", "code": "        return self.callback(**self.kwargs)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "63", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "64", "code": "    def __repr__(self):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "65", "code": "        cls = self.__class__\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "66", "code": "        return (\"%s.%s(callback=%r, failsafe=%r, priority=%r, %s)\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "67", "code": "                % (cls.__module__, cls.__name__, self.callback,\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "68", "code": "                   self.failsafe, self.priority,\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "69", "code": "                   \", \".join(['%s=%r' % (k, v)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "70", "code": "                              for k, v in self.kwargs.items()])))\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "71", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "72", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "73", "code": "class HookMap(dict):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "74", "code": "    \"\"\"A map of call points to lists of callbacks (Hook objects).\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "75", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "76", "code": "    def __new__(cls, points=None):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "77", "code": "        d = dict.__new__(cls)\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "78", "code": "        for p in points or []:\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "79", "code": "            d[p] = []\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "80", "code": "        return d\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "81", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "W", "line": "82", "code": "    def __init__(self, *a, **kw):\n", "colour": "purple", "author": "tom@organisms.be"}, {"error": "none", "line": "83", "code": "        pass\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "84", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "85", "code": "    def attach(self, point, callback, failsafe=None, priority=None, **kwargs):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "86", "code": "        \"\"\"Append a new Hook made from the supplied arguments.\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "87", "code": "        self[point].append(Hook(callback, failsafe, priority, **kwargs))\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "88", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "89", "code": "    def run(self, point):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "90", "code": "        \"\"\"Execute all registered Hooks (callbacks) for the given point.\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "91", "code": "        exc = None\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "92", "code": "        hooks = self[point]\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "93", "code": "        hooks.sort()\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "94", "code": "        for hook in hooks:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "95", "code": "            # Some hooks are guaranteed to run even if others at\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "96", "code": "            # the same hookpoint fail. We will still log the failure,\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "97", "code": "            # but proceed on to the next hook. The only way\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "98", "code": "            # to stop all processing from one of these hooks is\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "99", "code": "            # to raise SystemExit and stop the whole server.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "100", "code": "            if exc is None or hook.failsafe:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "101", "code": "                try:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "102", "code": "                    hook()\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "103", "code": "                except (KeyboardInterrupt, SystemExit):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "104", "code": "                    raise\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "105", "code": "                except (cherrypy.HTTPError, cherrypy.HTTPRedirect,\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "106", "code": "                        cherrypy.InternalRedirect):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "107", "code": "                    exc = sys.exc_info()[1]\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "W", "line": "108", "code": "                except:\n", "colour": "purple", "author": "tom@organisms.be"}, {"error": "none", "line": "109", "code": "                    exc = sys.exc_info()[1]\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "110", "code": "                    cherrypy.log(traceback=True, severity=40)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "111", "code": "        if exc:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "E", "line": "112", "code": "            raise exc\n", "colour": "yellow", "author": "tom@organisms.be"}, {"error": "none", "line": "113", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "114", "code": "    def __copy__(self):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "115", "code": "        newmap = self.__class__()\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "116", "code": "        # We can't just use 'update' because we want copies of the\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "117", "code": "        # mutable values (each is a list) as well.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "118", "code": "        for k, v in self.items():\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "119", "code": "            newmap[k] = v[:]\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "120", "code": "        return newmap\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "121", "code": "    copy = __copy__\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "122", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "123", "code": "    def __repr__(self):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "124", "code": "        cls = self.__class__\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "125", "code": "        return \"%s.%s(points=%r)\" % (cls.__module__, cls.__name__, copykeys(self))\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "126", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "127", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "128", "code": "# Config namespace handlers\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "129", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "130", "code": "def hooks_namespace(k, v):\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "131", "code": "    \"\"\"Attach bare hooks declared in config.\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "132", "code": "    # Use split again to allow multiple hooks for a single\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "133", "code": "    # hookpoint per path (e.g. \"hooks.before_handler.1\").\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "134", "code": "    # Little-known fact you only get from reading source ;)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "135", "code": "    hookpoint = k.split(\".\", 1)[0]\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "136", "code": "    if isinstance(v, basestring):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "137", "code": "        v = cherrypy.lib.attributes(v)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "138", "code": "    if not isinstance(v, Hook):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "139", "code": "        v = Hook(v)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "140", "code": "    cherrypy.serving.request.hooks[hookpoint].append(v)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "141", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "142", "code": "def request_namespace(k, v):\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "143", "code": "    \"\"\"Attach request attributes declared in config.\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "144", "code": "    # Provides config entries to set request.body attrs (like attempt_charsets).\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "145", "code": "    if k[:5] == 'body.':\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "146", "code": "        setattr(cherrypy.serving.request.body, k[5:], v)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "147", "code": "    else:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "148", "code": "        setattr(cherrypy.serving.request, k, v)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "149", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "150", "code": "def response_namespace(k, v):\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "151", "code": "    \"\"\"Attach response attributes declared in config.\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "152", "code": "    # Provides config entries to set default response headers\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "153", "code": "    # http://cherrypy.org/ticket/889\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "154", "code": "    if k[:8] == 'headers.':\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "155", "code": "        cherrypy.serving.response.headers[k.split('.', 1)[1]] = v\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "156", "code": "    else:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "157", "code": "        setattr(cherrypy.serving.response, k, v)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "158", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "159", "code": "def error_page_namespace(k, v):\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "160", "code": "    \"\"\"Attach error pages declared in config.\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "161", "code": "    if k != 'default':\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "162", "code": "        k = int(k)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "163", "code": "    cherrypy.serving.request.error_page[k] = v\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "164", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "165", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "166", "code": "hookpoints = ['on_start_resource', 'before_request_body',\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "167", "code": "              'before_handler', 'before_finalize',\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "168", "code": "              'on_end_resource', 'on_end_request',\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "169", "code": "              'before_error_response', 'after_error_response']\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "170", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "171", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "R", "line": "172", "code": "class Request(object):\n", "colour": "green", "author": "tom@organisms.be"}, {"error": "none", "line": "173", "code": "    \"\"\"An HTTP request.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "174", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "175", "code": "    This object represents the metadata of an HTTP request message;\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "176", "code": "    that is, it contains attributes which describe the environment\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "177", "code": "    in which the request URL, headers, and body were sent (if you\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "178", "code": "    want tools to interpret the headers and body, those are elsewhere,\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "179", "code": "    mostly in Tools). This 'metadata' consists of socket data,\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "180", "code": "    transport characteristics, and the Request-Line. This object\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "181", "code": "    also contains data regarding the configuration in effect for\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "182", "code": "    the given URL, and the execution plan for generating a response.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "183", "code": "    \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "184", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "185", "code": "    prev = None\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "186", "code": "    \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "187", "code": "    The previous Request object (if any). This should be None\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "188", "code": "    unless we are processing an InternalRedirect.\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "189", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "190", "code": "    # Conversation/connection attributes\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "191", "code": "    local = httputil.Host(\"127.0.0.1\", 80)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "192", "code": "    \"An httputil.Host(ip, port, hostname) object for the server socket.\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "193", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "194", "code": "    remote = httputil.Host(\"127.0.0.1\", 1111)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "195", "code": "    \"An httputil.Host(ip, port, hostname) object for the client socket.\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "196", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "197", "code": "    scheme = \"http\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "198", "code": "    \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "199", "code": "    The protocol used between client and server. In most cases,\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "200", "code": "    this will be either 'http' or 'https'.\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "201", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "202", "code": "    server_protocol = \"HTTP/1.1\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "203", "code": "    \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "204", "code": "    The HTTP version for which the HTTP server is at least\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "205", "code": "    conditionally compliant.\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "206", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "207", "code": "    base = \"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "208", "code": "    \"\"\"The (scheme://host) portion of the requested URL.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "209", "code": "    In some cases (e.g. when proxying via mod_rewrite), this may contain\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "210", "code": "    path segments which cherrypy.url uses when constructing url's, but\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "211", "code": "    which otherwise are ignored by CherryPy. Regardless, this value\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "212", "code": "    MUST NOT end in a slash.\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "213", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "214", "code": "    # Request-Line attributes\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "215", "code": "    request_line = \"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "216", "code": "    \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "217", "code": "    The complete Request-Line received from the client. This is a\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "218", "code": "    single string consisting of the request method, URI, and protocol\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "219", "code": "    version (joined by spaces). Any final CRLF is removed.\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "220", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "221", "code": "    method = \"GET\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "222", "code": "    \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "223", "code": "    Indicates the HTTP method to be performed on the resource identified\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "224", "code": "    by the Request-URI. Common methods include GET, HEAD, POST, PUT, and\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "225", "code": "    DELETE. CherryPy allows any extension method; however, various HTTP\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "226", "code": "    servers and gateways may restrict the set of allowable methods.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "227", "code": "    CherryPy applications SHOULD restrict the set (on a per-URI basis).\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "228", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "229", "code": "    query_string = \"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "230", "code": "    \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "231", "code": "    The query component of the Request-URI, a string of information to be\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "232", "code": "    interpreted by the resource. The query portion of a URI follows the\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "233", "code": "    path component, and is separated by a '?'. For example, the URI\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "234", "code": "    'http://www.cherrypy.org/wiki?a=3&b=4' has the query component,\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "235", "code": "    'a=3&b=4'.\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "236", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "237", "code": "    query_string_encoding = 'utf8'\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "238", "code": "    \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "239", "code": "    The encoding expected for query string arguments after % HEX HEX decoding).\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "240", "code": "    If a query string is provided that cannot be decoded with this encoding,\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "241", "code": "    404 is raised (since technically it's a different URI). If you want\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "242", "code": "    arbitrary encodings to not error, set this to 'Latin-1'; you can then\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "243", "code": "    encode back to bytes and re-decode to whatever encoding you like later.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "244", "code": "    \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "245", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "246", "code": "    protocol = (1, 1)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "247", "code": "    \"\"\"The HTTP protocol version corresponding to the set\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "248", "code": "    of features which should be allowed in the response. If BOTH\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "249", "code": "    the client's request message AND the server's level of HTTP\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "250", "code": "    compliance is HTTP/1.1, this attribute will be the tuple (1, 1).\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "251", "code": "    If either is 1.0, this attribute will be the tuple (1, 0).\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "252", "code": "    Lower HTTP protocol versions are not explicitly supported.\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "253", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "254", "code": "    params = {}\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "255", "code": "    \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "256", "code": "    A dict which combines query string (GET) and request entity (POST)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "257", "code": "    variables. This is populated in two stages: GET params are added\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "258", "code": "    before the 'on_start_resource' hook, and POST params are added\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "259", "code": "    between the 'before_request_body' and 'before_handler' hooks.\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "260", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "261", "code": "    # Message attributes\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "262", "code": "    header_list = []\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "263", "code": "    \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "264", "code": "    A list of the HTTP request headers as (name, value) tuples.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "265", "code": "    In general, you should use request.headers (a dict) instead.\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "266", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "267", "code": "    headers = httputil.HeaderMap()\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "268", "code": "    \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "269", "code": "    A dict-like object containing the request headers. Keys are header\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "270", "code": "    names (in Title-Case format); however, you may get and set them in\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "271", "code": "    a case-insensitive manner. That is, headers['Content-Type'] and\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "272", "code": "    headers['content-type'] refer to the same value. Values are header\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "273", "code": "    values (decoded according to :rfc:`2047` if necessary). See also:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "274", "code": "    httputil.HeaderMap, httputil.HeaderElement.\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "275", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "276", "code": "    cookie = SimpleCookie()\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "277", "code": "    \"\"\"See help(Cookie).\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "278", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "279", "code": "    rfile = None\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "280", "code": "    \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "281", "code": "    If the request included an entity (body), it will be available\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "282", "code": "    as a stream in this attribute. However, the rfile will normally\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "283", "code": "    be read for you between the 'before_request_body' hook and the\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "284", "code": "    'before_handler' hook, and the resulting string is placed into\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "285", "code": "    either request.params or the request.body attribute.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "286", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "287", "code": "    You may disable the automatic consumption of the rfile by setting\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "288", "code": "    request.process_request_body to False, either in config for the desired\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "289", "code": "    path, or in an 'on_start_resource' or 'before_request_body' hook.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "290", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "291", "code": "    WARNING: In almost every case, you should not attempt to read from the\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "292", "code": "    rfile stream after CherryPy's automatic mechanism has read it. If you\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "293", "code": "    turn off the automatic parsing of rfile, you should read exactly the\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "294", "code": "    number of bytes specified in request.headers['Content-Length'].\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "295", "code": "    Ignoring either of these warnings may result in a hung request thread\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "296", "code": "    or in corruption of the next (pipelined) request.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "297", "code": "    \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "298", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "299", "code": "    process_request_body = True\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "300", "code": "    \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "301", "code": "    If True, the rfile (if any) is automatically read and parsed,\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "302", "code": "    and the result placed into request.params or request.body.\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "303", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "304", "code": "    methods_with_bodies = (\"POST\", \"PUT\")\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "305", "code": "    \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "306", "code": "    A sequence of HTTP methods for which CherryPy will automatically\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "307", "code": "    attempt to read a body from the rfile.\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "308", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "309", "code": "    body = None\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "310", "code": "    \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "311", "code": "    If the request Content-Type is 'application/x-www-form-urlencoded'\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "312", "code": "    or multipart, this will be None. Otherwise, this will be an instance\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "313", "code": "    of :class:`RequestBody<cherrypy._cpreqbody.RequestBody>` (which you\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "314", "code": "    can .read()); this value is set between the 'before_request_body' and\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "315", "code": "    'before_handler' hooks (assuming that process_request_body is True).\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "316", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "317", "code": "    # Dispatch attributes\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "318", "code": "    dispatch = cherrypy.dispatch.Dispatcher()\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "319", "code": "    \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "320", "code": "    The object which looks up the 'page handler' callable and collects\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "321", "code": "    config for the current request based on the path_info, other\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "322", "code": "    request attributes, and the application architecture. The core\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "323", "code": "    calls the dispatcher as early as possible, passing it a 'path_info'\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "324", "code": "    argument.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "325", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "326", "code": "    The default dispatcher discovers the page handler by matching path_info\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "327", "code": "    to a hierarchical arrangement of objects, starting at request.app.root.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "328", "code": "    See help(cherrypy.dispatch) for more information.\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "329", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "330", "code": "    script_name = \"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "331", "code": "    \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "332", "code": "    The 'mount point' of the application which is handling this request.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "333", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "334", "code": "    This attribute MUST NOT end in a slash. If the script_name refers to\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "335", "code": "    the root of the URI, it MUST be an empty string (not \"/\").\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "336", "code": "    \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "337", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "338", "code": "    path_info = \"/\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "339", "code": "    \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "340", "code": "    The 'relative path' portion of the Request-URI. This is relative\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "341", "code": "    to the script_name ('mount point') of the application which is\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "342", "code": "    handling this request.\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "343", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "344", "code": "    login = None\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "345", "code": "    \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "346", "code": "    When authentication is used during the request processing this is\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "347", "code": "    set to 'False' if it failed and to the 'username' value if it succeeded.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "348", "code": "    The default 'None' implies that no authentication happened.\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "349", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "350", "code": "    # Note that cherrypy.url uses \"if request.app:\" to determine whether\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "351", "code": "    # the call is during a real HTTP request or not. So leave this None.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "352", "code": "    app = None\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "353", "code": "    \"\"\"The cherrypy.Application object which is handling this request.\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "354", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "355", "code": "    handler = None\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "356", "code": "    \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "357", "code": "    The function, method, or other callable which CherryPy will call to\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "358", "code": "    produce the response. The discovery of the handler and the arguments\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "359", "code": "    it will receive are determined by the request.dispatch object.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "360", "code": "    By default, the handler is discovered by walking a tree of objects\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "361", "code": "    starting at request.app.root, and is then passed all HTTP params\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "362", "code": "    (from the query string and POST body) as keyword arguments.\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "363", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "364", "code": "    toolmaps = {}\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "365", "code": "    \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "366", "code": "    A nested dict of all Toolboxes and Tools in effect for this request,\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "367", "code": "    of the form: {Toolbox.namespace: {Tool.name: config dict}}.\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "368", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "369", "code": "    config = None\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "370", "code": "    \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "371", "code": "    A flat dict of all configuration entries which apply to the\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "372", "code": "    current request. These entries are collected from global config,\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "373", "code": "    application config (based on request.path_info), and from handler\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "374", "code": "    config (exactly how is governed by the request.dispatch object in\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "375", "code": "    effect for this request; by default, handler config can be attached\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "376", "code": "    anywhere in the tree between request.app.root and the final handler,\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "377", "code": "    and inherits downward).\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "378", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "379", "code": "    is_index = None\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "380", "code": "    \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "381", "code": "    This will be True if the current request is mapped to an 'index'\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "382", "code": "    resource handler (also, a 'default' handler if path_info ends with\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "383", "code": "    a slash). The value may be used to automatically redirect the\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "384", "code": "    user-agent to a 'more canonical' URL which either adds or removes\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "385", "code": "    the trailing slash. See cherrypy.tools.trailing_slash.\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "386", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "387", "code": "    hooks = HookMap(hookpoints)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "388", "code": "    \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "389", "code": "    A HookMap (dict-like object) of the form: {hookpoint: [hook, ...]}.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "390", "code": "    Each key is a str naming the hook point, and each value is a list\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "391", "code": "    of hooks which will be called at that hook point during this request.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "392", "code": "    The list of hooks is generally populated as early as possible (mostly\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "393", "code": "    from Tools specified in config), but may be extended at any time.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "394", "code": "    See also: _cprequest.Hook, _cprequest.HookMap, and cherrypy.tools.\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "395", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "396", "code": "    error_response = cherrypy.HTTPError(500).set_response\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "397", "code": "    \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "398", "code": "    The no-arg callable which will handle unexpected, untrapped errors\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "399", "code": "    during request processing. This is not used for expected exceptions\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "400", "code": "    (like NotFound, HTTPError, or HTTPRedirect) which are raised in\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "401", "code": "    response to expected conditions (those should be customized either\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "402", "code": "    via request.error_page or by overriding HTTPError.set_response).\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "403", "code": "    By default, error_response uses HTTPError(500) to return a generic\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "404", "code": "    error response to the user-agent.\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "405", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "406", "code": "    error_page = {}\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "407", "code": "    \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "408", "code": "    A dict of {error code: response filename or callable} pairs.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "409", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "410", "code": "    The error code must be an int representing a given HTTP error code,\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "411", "code": "    or the string 'default', which will be used if no matching entry\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "412", "code": "    is found for a given numeric code.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "413", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "414", "code": "    If a filename is provided, the file should contain a Python string-\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "415", "code": "    formatting template, and can expect by default to receive format\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "416", "code": "    values with the mapping keys %(status)s, %(message)s, %(traceback)s,\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "417", "code": "    and %(version)s. The set of format mappings can be extended by\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "418", "code": "    overriding HTTPError.set_response.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "419", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "420", "code": "    If a callable is provided, it will be called by default with keyword\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "421", "code": "    arguments 'status', 'message', 'traceback', and 'version', as for a\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "422", "code": "    string-formatting template. The callable must return a string or iterable of\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "423", "code": "    strings which will be set to response.body. It may also override headers or\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "424", "code": "    perform any other processing.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "425", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "426", "code": "    If no entry is given for an error code, and no 'default' entry exists,\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "427", "code": "    a default template will be used.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "428", "code": "    \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "429", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "430", "code": "    show_tracebacks = True\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "431", "code": "    \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "432", "code": "    If True, unexpected errors encountered during request processing will\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "433", "code": "    include a traceback in the response body.\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "434", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "435", "code": "    show_mismatched_params = True\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "436", "code": "    \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "437", "code": "    If True, mismatched parameters encountered during PageHandler invocation\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "438", "code": "    processing will be included in the response body.\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "439", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "440", "code": "    throws = (KeyboardInterrupt, SystemExit, cherrypy.InternalRedirect)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "441", "code": "    \"\"\"The sequence of exceptions which Request.run does not trap.\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "442", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "443", "code": "    throw_errors = False\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "444", "code": "    \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "445", "code": "    If True, Request.run will not trap any errors (except HTTPRedirect and\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "446", "code": "    HTTPError, which are more properly called 'exceptions', not errors).\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "447", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "448", "code": "    closed = False\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "449", "code": "    \"\"\"True once the close method has been called, False otherwise.\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "450", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "451", "code": "    stage = None\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "452", "code": "    \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "453", "code": "    A string containing the stage reached in the request-handling process.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "454", "code": "    This is useful when debugging a live server with hung requests.\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "455", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "W", "line": "456", "code": "    namespaces = _cpconfig.NamespaceSet(\n", "colour": "purple", "author": "tom@organisms.be"}, {"error": "none", "line": "457", "code": "        **{\"hooks\": hooks_namespace,\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "458", "code": "           \"request\": request_namespace,\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "459", "code": "           \"response\": response_namespace,\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "460", "code": "           \"error_page\": error_page_namespace,\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "461", "code": "           \"tools\": cherrypy.tools,\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "462", "code": "           })\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "463", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "464", "code": "    def __init__(self, local_host, remote_host, scheme=\"http\",\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "465", "code": "                 server_protocol=\"HTTP/1.1\"):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "466", "code": "        \"\"\"Populate a new Request object.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "467", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "468", "code": "        local_host should be an httputil.Host object with the server info.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "469", "code": "        remote_host should be an httputil.Host object with the client info.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "470", "code": "        scheme should be a string, either \"http\" or \"https\".\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "471", "code": "        \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "472", "code": "        self.local = local_host\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "473", "code": "        self.remote = remote_host\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "474", "code": "        self.scheme = scheme\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "475", "code": "        self.server_protocol = server_protocol\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "476", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "477", "code": "        self.closed = False\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "478", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "479", "code": "        # Put a *copy* of the class error_page into self.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "480", "code": "        self.error_page = self.error_page.copy()\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "481", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "482", "code": "        # Put a *copy* of the class namespaces into self.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "483", "code": "        self.namespaces = self.namespaces.copy()\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "484", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "485", "code": "        self.stage = None\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "486", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "487", "code": "    def close(self):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "488", "code": "        \"\"\"Run cleanup code. (Core)\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "489", "code": "        if not self.closed:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "490", "code": "            self.closed = True\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "491", "code": "            self.stage = 'on_end_request'\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "492", "code": "            self.hooks.run('on_end_request')\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "493", "code": "            self.stage = 'close'\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "494", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "R", "line": "495", "code": "    def run(self, method, path, query_string, req_protocol, headers, rfile):\n", "colour": "green", "author": "tom@organisms.be"}, {"error": "none", "line": "496", "code": "        r\"\"\"Process the Request. (Core)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "497", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "498", "code": "        method, path, query_string, and req_protocol should be pulled directly\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "499", "code": "        from the Request-Line (e.g. \"GET /path?key=val HTTP/1.0\").\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "500", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "501", "code": "        path\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "502", "code": "            This should be %XX-unquoted, but query_string should not be.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "503", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "504", "code": "            When using Python 2, they both MUST be byte strings,\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "505", "code": "            not unicode strings.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "506", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "507", "code": "            When using Python 3, they both MUST be unicode strings,\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "508", "code": "            not byte strings, and preferably not bytes \\x00-\\xFF\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "509", "code": "            disguised as unicode.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "510", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "511", "code": "        headers\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "512", "code": "            A list of (name, value) tuples.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "513", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "514", "code": "        rfile\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "515", "code": "            A file-like object containing the HTTP request entity.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "516", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "517", "code": "        When run() is done, the returned object should have 3 attributes:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "518", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "519", "code": "          * status, e.g. \"200 OK\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "520", "code": "          * header_list, a list of (name, value) tuples\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "521", "code": "          * body, an iterable yielding strings\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "522", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "523", "code": "        Consumer code (HTTP servers) should then access these response\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "524", "code": "        attributes to build the outbound stream.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "525", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "526", "code": "        \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "527", "code": "        response = cherrypy.serving.response\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "528", "code": "        self.stage = 'run'\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "529", "code": "        try:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "530", "code": "            self.error_response = cherrypy.HTTPError(500).set_response\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "531", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "532", "code": "            self.method = method\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "533", "code": "            path = path or \"/\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "534", "code": "            self.query_string = query_string or ''\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "535", "code": "            self.params = {}\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "536", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "537", "code": "            # Compare request and server HTTP protocol versions, in case our\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "538", "code": "            # server does not support the requested protocol. Limit our output\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "539", "code": "            # to min(req, server). We want the following output:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "540", "code": "            #     request    server     actual written   supported response\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "541", "code": "            #     protocol   protocol  response protocol    feature set\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "542", "code": "            # a     1.0        1.0           1.0                1.0\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "543", "code": "            # b     1.0        1.1           1.1                1.0\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "544", "code": "            # c     1.1        1.0           1.0                1.0\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "545", "code": "            # d     1.1        1.1           1.1                1.1\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "546", "code": "            # Notice that, in (b), the response will be \"HTTP/1.1\" even though\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "547", "code": "            # the client only understands 1.0. RFC 2616 10.5.6 says we should\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "548", "code": "            # only return 505 if the _major_ version is different.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "549", "code": "            rp = int(req_protocol[5]), int(req_protocol[7])\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "550", "code": "            sp = int(self.server_protocol[5]), int(self.server_protocol[7])\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "551", "code": "            self.protocol = min(rp, sp)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "552", "code": "            response.headers.protocol = self.protocol\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "553", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "554", "code": "            # Rebuild first line of the request (e.g. \"GET /path HTTP/1.0\").\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "555", "code": "            url = path\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "556", "code": "            if query_string:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "557", "code": "                url += '?' + query_string\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "558", "code": "            self.request_line = '%s %s %s' % (method, url, req_protocol)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "559", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "560", "code": "            self.header_list = list(headers)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "561", "code": "            self.headers = httputil.HeaderMap()\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "562", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "563", "code": "            self.rfile = rfile\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "564", "code": "            self.body = None\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "565", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "566", "code": "            self.cookie = SimpleCookie()\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "567", "code": "            self.handler = None\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "568", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "569", "code": "            # path_info should be the path from the\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "570", "code": "            # app root (script_name) to the handler.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "571", "code": "            self.script_name = self.app.script_name\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "572", "code": "            self.path_info = pi = path[len(self.script_name):]\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "573", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "574", "code": "            self.stage = 'respond'\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "575", "code": "            self.respond(pi)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "576", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "577", "code": "        except self.throws:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "578", "code": "            raise\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "W", "line": "579", "code": "        except:\n", "colour": "purple", "author": "tom@organisms.be"}, {"error": "none", "line": "580", "code": "            if self.throw_errors:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "581", "code": "                raise\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "582", "code": "            else:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "583", "code": "                # Failure in setup, error handler or finalize. Bypass them.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "584", "code": "                # Can't use handle_error because we may not have hooks yet.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "585", "code": "                cherrypy.log(traceback=True, severity=40)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "586", "code": "                if self.show_tracebacks:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "587", "code": "                    body = format_exc()\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "588", "code": "                else:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "589", "code": "                    body = \"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "590", "code": "                r = bare_error(body)\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "591", "code": "                response.output_status, response.header_list, response.body = r\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "592", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "593", "code": "        if self.method == \"HEAD\":\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "594", "code": "            # HEAD requests MUST NOT return a message-body in the response.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "595", "code": "            response.body = []\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "596", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "597", "code": "        try:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "598", "code": "            cherrypy.log.access()\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "W", "line": "599", "code": "        except:\n", "colour": "purple", "author": "tom@organisms.be"}, {"error": "none", "line": "600", "code": "            cherrypy.log.error(traceback=True)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "601", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "602", "code": "        if response.timed_out:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "603", "code": "            raise cherrypy.TimeoutError()\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "604", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "605", "code": "        return response\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "606", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "607", "code": "    # Uncomment for stage debugging\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "608", "code": "    # stage = property(lambda self: self._stage, lambda self, v: print(v))\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "609", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "610", "code": "    def respond(self, path_info):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "611", "code": "        \"\"\"Generate a response for the resource at self.path_info. (Core)\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "612", "code": "        response = cherrypy.serving.response\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "613", "code": "        try:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "614", "code": "            try:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "615", "code": "                try:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "616", "code": "                    if self.app is None:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "617", "code": "                        raise cherrypy.NotFound()\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "618", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "619", "code": "                    # Get the 'Host' header, so we can HTTPRedirect properly.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "620", "code": "                    self.stage = 'process_headers'\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "621", "code": "                    self.process_headers()\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "622", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "623", "code": "                    # Make a copy of the class hooks\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "624", "code": "                    self.hooks = self.__class__.hooks.copy()\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "625", "code": "                    self.toolmaps = {}\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "626", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "627", "code": "                    self.stage = 'get_resource'\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "628", "code": "                    self.get_resource(path_info)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "629", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "630", "code": "                    self.body = _cpreqbody.RequestBody(\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "631", "code": "                        self.rfile, self.headers, request_params=self.params)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "632", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "633", "code": "                    self.namespaces(self.config)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "634", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "635", "code": "                    self.stage = 'on_start_resource'\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "636", "code": "                    self.hooks.run('on_start_resource')\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "637", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "638", "code": "                    # Parse the querystring\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "639", "code": "                    self.stage = 'process_query_string'\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "640", "code": "                    self.process_query_string()\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "641", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "642", "code": "                    # Process the body\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "643", "code": "                    if self.process_request_body:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "644", "code": "                        if self.method not in self.methods_with_bodies:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "645", "code": "                            self.process_request_body = False\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "646", "code": "                    self.stage = 'before_request_body'\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "647", "code": "                    self.hooks.run('before_request_body')\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "648", "code": "                    if self.process_request_body:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "649", "code": "                        self.body.process()\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "650", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "651", "code": "                    # Run the handler\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "652", "code": "                    self.stage = 'before_handler'\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "653", "code": "                    self.hooks.run('before_handler')\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "654", "code": "                    if self.handler:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "655", "code": "                        self.stage = 'handler'\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "E", "line": "656", "code": "                        response.body = self.handler()\n", "colour": "yellow", "author": "tom@organisms.be"}, {"error": "none", "line": "657", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "658", "code": "                    # Finalize\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "659", "code": "                    self.stage = 'before_finalize'\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "660", "code": "                    self.hooks.run('before_finalize')\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "661", "code": "                    response.finalize()\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "662", "code": "                except (cherrypy.HTTPRedirect, cherrypy.HTTPError):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "663", "code": "                    inst = sys.exc_info()[1]\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "664", "code": "                    inst.set_response()\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "665", "code": "                    self.stage = 'before_finalize (HTTPError)'\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "666", "code": "                    self.hooks.run('before_finalize')\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "667", "code": "                    response.finalize()\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "668", "code": "            finally:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "669", "code": "                self.stage = 'on_end_resource'\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "670", "code": "                self.hooks.run('on_end_resource')\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "671", "code": "        except self.throws:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "672", "code": "            raise\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "W", "line": "673", "code": "        except:\n", "colour": "purple", "author": "tom@organisms.be"}, {"error": "none", "line": "674", "code": "            if self.throw_errors:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "675", "code": "                raise\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "676", "code": "            self.handle_error()\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "677", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "678", "code": "    def process_query_string(self):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "679", "code": "        \"\"\"Parse the query string into Python structures. (Core)\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "680", "code": "        try:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "681", "code": "            p = httputil.parse_query_string(\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "682", "code": "                self.query_string, encoding=self.query_string_encoding)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "683", "code": "        except UnicodeDecodeError:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "684", "code": "            raise cherrypy.HTTPError(\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "685", "code": "                404, \"The given query string could not be processed. Query \"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "686", "code": "                \"strings for this resource must be encoded with %r.\" %\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "687", "code": "                self.query_string_encoding)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "688", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "689", "code": "        # Python 2 only: keyword arguments must be byte strings (type 'str').\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "690", "code": "        if not py3k:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "691", "code": "            for key, value in p.items():\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "692", "code": "                if isinstance(key, unicode):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "693", "code": "                    del p[key]\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "694", "code": "                    p[key.encode(self.query_string_encoding)] = value\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "695", "code": "        self.params.update(p)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "696", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "697", "code": "    def process_headers(self):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "698", "code": "        \"\"\"Parse HTTP header data into Python structures. (Core)\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "699", "code": "        # Process the headers into self.headers\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "700", "code": "        headers = self.headers\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "701", "code": "        for name, value in self.header_list:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "702", "code": "            # Call title() now (and use dict.__method__(headers))\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "703", "code": "            # so title doesn't have to be called twice.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "704", "code": "            name = name.title()\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "705", "code": "            value = value.strip()\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "706", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "707", "code": "            # Warning: if there is more than one header entry for cookies (AFAIK,\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "708", "code": "            # only Konqueror does that), only the last one will remain in headers\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "709", "code": "            # (but they will be correctly stored in request.cookie).\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "710", "code": "            if \"=?\" in value:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "711", "code": "                dict.__setitem__(headers, name, httputil.decode_TEXT(value))\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "712", "code": "            else:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "713", "code": "                dict.__setitem__(headers, name, value)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "714", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "715", "code": "            # Handle cookies differently because on Konqueror, multiple\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "716", "code": "            # cookies come on different lines with the same key\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "717", "code": "            if name == 'Cookie':\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "718", "code": "                try:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "719", "code": "                    self.cookie.load(value)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "720", "code": "                except CookieError:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "721", "code": "                    msg = \"Illegal cookie name %s\" % value.split('=')[0]\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "722", "code": "                    raise cherrypy.HTTPError(400, msg)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "723", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "724", "code": "        if not dict.__contains__(headers, 'Host'):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "725", "code": "            # All Internet-based HTTP/1.1 servers MUST respond with a 400\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "726", "code": "            # (Bad Request) status code to any HTTP/1.1 request message\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "727", "code": "            # which lacks a Host header field.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "728", "code": "            if self.protocol >= (1, 1):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "729", "code": "                msg = \"HTTP/1.1 requires a 'Host' request header.\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "730", "code": "                raise cherrypy.HTTPError(400, msg)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "731", "code": "        host = dict.get(headers, 'Host')\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "732", "code": "        if not host:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "733", "code": "            host = self.local.name or self.local.ip\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "734", "code": "        self.base = \"%s://%s\" % (self.scheme, host)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "735", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "736", "code": "    def get_resource(self, path):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "737", "code": "        \"\"\"Call a dispatcher (which sets self.handler and .config). (Core)\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "738", "code": "        # First, see if there is a custom dispatch at this URI. Custom\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "739", "code": "        # dispatchers can only be specified in app.config, not in _cp_config\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "740", "code": "        # (since custom dispatchers may not even have an app.root).\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "741", "code": "        dispatch = self.app.find_config(path, \"request.dispatch\", self.dispatch)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "742", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "743", "code": "        # dispatch() should set self.handler and self.config\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "744", "code": "        dispatch(path)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "745", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "746", "code": "    def handle_error(self):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "747", "code": "        \"\"\"Handle the last unanticipated exception. (Core)\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "748", "code": "        try:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "749", "code": "            self.hooks.run(\"before_error_response\")\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "750", "code": "            if self.error_response:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "751", "code": "                self.error_response()\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "752", "code": "            self.hooks.run(\"after_error_response\")\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "753", "code": "            cherrypy.serving.response.finalize()\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "754", "code": "        except cherrypy.HTTPRedirect:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "755", "code": "            inst = sys.exc_info()[1]\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "756", "code": "            inst.set_response()\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "757", "code": "            cherrypy.serving.response.finalize()\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "758", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "759", "code": "    # ------------------------- Properties ------------------------- #\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "760", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "761", "code": "    def _get_body_params(self):\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "762", "code": "        warnings.warn(\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "763", "code": "                \"body_params is deprecated in CherryPy 3.2, will be removed in \"\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "764", "code": "                \"CherryPy 3.3.\",\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "765", "code": "                DeprecationWarning\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "766", "code": "            )\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "767", "code": "        return self.body.params\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "768", "code": "    body_params = property(_get_body_params,\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "769", "code": "                      doc= \"\"\"\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "770", "code": "    If the request Content-Type is 'application/x-www-form-urlencoded' or\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "771", "code": "    multipart, this will be a dict of the params pulled from the entity\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "772", "code": "    body; that is, it will be the portion of request.params that come\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "773", "code": "    from the message body (sometimes called \"POST params\", although they\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "774", "code": "    can be sent with various HTTP method verbs). This value is set between\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "775", "code": "    the 'before_request_body' and 'before_handler' hooks (assuming that\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "776", "code": "    process_request_body is True).\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "777", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "778", "code": "    Deprecated in 3.2, will be removed for 3.3 in favor of\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "779", "code": "    :attr:`request.body.params<cherrypy._cprequest.RequestBody.params>`.\"\"\")\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "780", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "781", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "R", "line": "782", "code": "class ResponseBody(object):\n", "colour": "green", "author": "tom@organisms.be"}, {"error": "none", "line": "783", "code": "    \"\"\"The body of the HTTP response (the response entity).\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "784", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "785", "code": "    if py3k:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "786", "code": "        unicode_err = (\"Page handlers MUST return bytes. Use tools.encode \"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "787", "code": "                       \"if you wish to return unicode.\")\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "788", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "789", "code": "    def __get__(self, obj, objclass=None):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "790", "code": "        if obj is None:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "791", "code": "            # When calling on the class instead of an instance...\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "792", "code": "            return self\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "793", "code": "        else:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "W", "line": "794", "code": "            return obj._body\n", "colour": "purple", "author": "tom@organisms.be"}, {"error": "none", "line": "795", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "796", "code": "    def __set__(self, obj, value):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "797", "code": "        # Convert the given value to an iterable object.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "798", "code": "        if py3k and isinstance(value, str):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "799", "code": "            raise ValueError(self.unicode_err)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "800", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "801", "code": "        if isinstance(value, basestring):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "802", "code": "            # strings get wrapped in a list because iterating over a single\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "803", "code": "            # item list is much faster than iterating over every character\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "804", "code": "            # in a long string.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "805", "code": "            if value:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "806", "code": "                value = [value]\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "807", "code": "            else:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "808", "code": "                # [''] doesn't evaluate to False, so replace it with [].\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "809", "code": "                value = []\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "810", "code": "        elif py3k and isinstance(value, list):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "811", "code": "            # every item in a list must be bytes...\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "W", "line": "812", "code": "            for i, item in enumerate(value):\n", "colour": "purple", "author": "tom@organisms.be"}, {"error": "none", "line": "813", "code": "                if isinstance(item, str):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "814", "code": "                    raise ValueError(self.unicode_err)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "815", "code": "        # Don't use isinstance here; io.IOBase which has an ABC takes\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "816", "code": "        # 1000 times as long as, say, isinstance(value, str)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "817", "code": "        elif hasattr(value, 'read'):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "818", "code": "            value = file_generator(value)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "819", "code": "        elif value is None:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "820", "code": "            value = []\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "W", "line": "821", "code": "        obj._body = value\n", "colour": "purple", "author": "tom@organisms.be"}, {"error": "none", "line": "822", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "823", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "R", "line": "824", "code": "class Response(object):\n", "colour": "green", "author": "tom@organisms.be"}, {"error": "none", "line": "825", "code": "    \"\"\"An HTTP Response, including status, headers, and body.\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "826", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "827", "code": "    status = \"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "828", "code": "    \"\"\"The HTTP Status-Code and Reason-Phrase.\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "829", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "830", "code": "    header_list = []\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "831", "code": "    \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "832", "code": "    A list of the HTTP response headers as (name, value) tuples.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "833", "code": "    In general, you should use response.headers (a dict) instead. This\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "834", "code": "    attribute is generated from response.headers and is not valid until\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "835", "code": "    after the finalize phase.\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "836", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "837", "code": "    headers = httputil.HeaderMap()\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "838", "code": "    \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "839", "code": "    A dict-like object containing the response headers. Keys are header\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "840", "code": "    names (in Title-Case format); however, you may get and set them in\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "841", "code": "    a case-insensitive manner. That is, headers['Content-Type'] and\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "842", "code": "    headers['content-type'] refer to the same value. Values are header\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "843", "code": "    values (decoded according to :rfc:`2047` if necessary).\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "844", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "845", "code": "    .. seealso:: classes :class:`HeaderMap`, :class:`HeaderElement`\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "846", "code": "    \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "847", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "848", "code": "    cookie = SimpleCookie()\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "849", "code": "    \"\"\"See help(Cookie).\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "850", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "851", "code": "    body = ResponseBody()\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "852", "code": "    \"\"\"The body (entity) of the HTTP response.\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "853", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "854", "code": "    time = None\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "855", "code": "    \"\"\"The value of time.time() when created. Use in HTTP dates.\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "856", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "857", "code": "    timeout = 300\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "858", "code": "    \"\"\"Seconds after which the response will be aborted.\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "859", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "860", "code": "    timed_out = False\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "861", "code": "    \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "862", "code": "    Flag to indicate the response should be aborted, because it has\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "863", "code": "    exceeded its timeout.\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "864", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "865", "code": "    stream = False\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "866", "code": "    \"\"\"If False, buffer the response body.\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "867", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "868", "code": "    def __init__(self):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "869", "code": "        self.status = None\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "870", "code": "        self.header_list = None\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "871", "code": "        self._body = []\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "872", "code": "        self.time = time.time()\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "873", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "874", "code": "        self.headers = httputil.HeaderMap()\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "875", "code": "        # Since we know all our keys are titled strings, we can\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "876", "code": "        # bypass HeaderMap.update and get a big speed boost.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "877", "code": "        dict.update(self.headers, {\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "878", "code": "            \"Content-Type\": 'text/html',\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "879", "code": "            \"Server\": \"CherryPy/\" + cherrypy.__version__,\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "880", "code": "            \"Date\": httputil.HTTPDate(self.time),\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "881", "code": "        })\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "882", "code": "        self.cookie = SimpleCookie()\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "883", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "884", "code": "    def collapse_body(self):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "885", "code": "        \"\"\"Collapse self.body to a single string; replace it and return it.\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "886", "code": "        if isinstance(self.body, basestring):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "887", "code": "            return self.body\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "888", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "889", "code": "        newbody = []\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "890", "code": "        for chunk in self.body:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "891", "code": "            if py3k and not isinstance(chunk, bytes):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "892", "code": "                raise TypeError(\"Chunk %s is not of type 'bytes'.\" % repr(chunk))\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "893", "code": "            newbody.append(chunk)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "894", "code": "        newbody = ntob('').join(newbody)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "895", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "896", "code": "        self.body = newbody\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "897", "code": "        return newbody\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "898", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "899", "code": "    def finalize(self):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "900", "code": "        \"\"\"Transform headers (and cookies) into self.header_list. (Core)\"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "901", "code": "        try:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "902", "code": "            code, reason, _ = httputil.valid_status(self.status)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "903", "code": "        except ValueError:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "904", "code": "            raise cherrypy.HTTPError(500, sys.exc_info()[1].args[0])\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "905", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "906", "code": "        headers = self.headers\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "907", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "908", "code": "        self.status = \"%s %s\" % (code, reason)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "W", "line": "909", "code": "        self.output_status = ntob(str(code), 'ascii') + ntob(\" \") + headers.encode(reason)\n", "colour": "purple", "author": "tom@organisms.be"}, {"error": "none", "line": "910", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "911", "code": "        if self.stream:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "912", "code": "            # The upshot: wsgiserver will chunk the response if\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "913", "code": "            # you pop Content-Length (or set it explicitly to None).\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "914", "code": "            # Note that lib.static sets C-L to the file's st_size.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "915", "code": "            if dict.get(headers, 'Content-Length') is None:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "916", "code": "                dict.pop(headers, 'Content-Length', None)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "917", "code": "        elif code < 200 or code in (204, 205, 304):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "918", "code": "            # \"All 1xx (informational), 204 (no content),\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "919", "code": "            # and 304 (not modified) responses MUST NOT\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "920", "code": "            # include a message-body.\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "921", "code": "            dict.pop(headers, 'Content-Length', None)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "922", "code": "            self.body = ntob(\"\")\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "923", "code": "        else:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "924", "code": "            # Responses which are not streamed should have a Content-Length,\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "925", "code": "            # but allow user code to set Content-Length if desired.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "926", "code": "            if dict.get(headers, 'Content-Length') is None:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "927", "code": "                content = self.collapse_body()\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "928", "code": "                dict.__setitem__(headers, 'Content-Length', len(content))\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "929", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "930", "code": "        # Transform our header dict into a list of tuples.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "931", "code": "        self.header_list = h = headers.output()\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "932", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "933", "code": "        cookie = self.cookie.output()\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "934", "code": "        if cookie:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "935", "code": "            for line in cookie.split(\"\\n\"):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "936", "code": "                if line.endswith(\"\\r\"):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "937", "code": "                    # Python 2.4 emits cookies joined by LF but 2.5+ by CRLF.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "938", "code": "                    line = line[:-1]\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "939", "code": "                name, value = line.split(\": \", 1)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "940", "code": "                if isinstance(name, unicodestr):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "941", "code": "                    name = name.encode(\"ISO-8859-1\")\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "942", "code": "                if isinstance(value, unicodestr):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "943", "code": "                    value = headers.encode(value)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "944", "code": "                h.append((name, value))\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "945", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "946", "code": "    def check_timeout(self):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "947", "code": "        \"\"\"If now > self.time + self.timeout, set self.timed_out.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "948", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "949", "code": "        This purposefully sets a flag, rather than raising an error,\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "950", "code": "        so that a monitor thread can interrupt the Response thread.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "951", "code": "        \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "952", "code": "        if time.time() > self.time + self.timeout:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "953", "code": "            self.timed_out = True\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "954", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "955", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "956", "code": "\n", "colour": "black", "author": "tom@organisms.be"}]]}