{"path": "/home/asumal/git/cs410/pattern/pattern/text/tree.py", "lines": [[{"error": "C", "line": "1", "code": "#### PATTERN | EN | PARSE TREE #####################################################################\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "2", "code": "# Copyright (c) 2010 University of Antwerp, Belgium\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "3", "code": "# Author: Tom De Smedt <tom@organisms.be>\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "4", "code": "# License: BSD (see LICENSE.txt for details).\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "5", "code": "# http://www.clips.ua.ac.be/pages/pattern\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "6", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "7", "code": "####################################################################################################\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "8", "code": "# Text and Sentence objects to traverse words and chunks in parsed text.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "9", "code": "# from pattern.en import parsetree\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "10", "code": "# for sentence in parsetree(\"The cat sat on the mat.\"):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "11", "code": "#     for chunk in sentence.chunks:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "12", "code": "#         for word in chunk.words:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "13", "code": "#             print(word.string, word.tag, word.lemma)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "14", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "15", "code": "# Terminology:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "16", "code": "# - part-of-speech: the role that a word plays in a sentence: noun (NN), verb (VB), adjective, ...\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "17", "code": "# -    sentence: a unit of language, with a subject (e.g., \"the cat\") and a predicate (\"jumped\").\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "18", "code": "# -       token: a word in a sentence with a part-of-speech tag (e.g., \"jump/VB\" or \"jump/NN\").\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "19", "code": "# -        word: a string of characters that expresses a meaningful concept (e.g., \"cat\").\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "20", "code": "# -       lemma: the canonical word form (\"jumped\" => \"jump\").\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "21", "code": "# -      lexeme: the set of word forms (\"jump\", \"jumps\", \"jumping\", ...)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "22", "code": "# -       chunk: a phrase, group of words that express a single thought (e.g., \"the cat\").\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "23", "code": "# -     subject: the phrase that the sentence is about, usually a noun phrase.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "24", "code": "# -   predicate: the remainder of the sentence tells us what the subject does (jump).\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "25", "code": "# -      object: the phrase that is affected by the action (the cat jumped [the mouse]\").\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "26", "code": "# - preposition: temporal, spatial or logical relationship (\"the cat jumped [on the table]\").\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "27", "code": "# -      anchor: the chunk to which the preposition is attached:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "28", "code": "#                \"the cat eats its snackerel with vigor\" => eat with vigor?\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "29", "code": "#                                                     OR => vigorous snackerel?\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "30", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "31", "code": "# The Text and Sentece classes are containers: \n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "32", "code": "# no parsing functionality should be added to it.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "33", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "34", "code": "try:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "35", "code": "    from itertools import chain\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "36", "code": "    from itertools import izip\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "W", "line": "37", "code": "except:\n", "colour": "purple", "author": "tom@organisms.be"}, {"error": "C", "line": "38", "code": "    izip = zip  # Python 3\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "39", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "40", "code": "try:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "F", "line": "41", "code": "    from config import SLASH\n", "colour": "red", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "F", "line": "42", "code": "    from config import WORD, POS, CHUNK, PNP, REL, ANCHOR, LEMMA\n", "colour": "red", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "43", "code": "    MBSP = True # Memory-Based Shallow Parser for Python.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "W", "line": "44", "code": "except:\n", "colour": "purple", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "45", "code": "    SLASH, WORD, POS, CHUNK, PNP, REL, ANCHOR, LEMMA = \\\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "46", "code": "        \"&slash;\", \"word\", \"part-of-speech\", \"chunk\", \"preposition\", \"relation\", \"anchor\", \"lemma\"\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "47", "code": "    MBSP = False\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "48", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "49", "code": "# B- marks the start of a chunk: the/DT/B-NP cat/NN/I-NP\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "50", "code": "# I- words are inside a chunk.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "51", "code": "# O- words are outside a chunk (punctuation etc.).\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "52", "code": "IOB, BEGIN, INSIDE, OUTSIDE  = \"IOB\", \"B\", \"I\", \"O\"\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "53", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "54", "code": "# -SBJ marks subjects: the/DT/B-NP-SBJ cat/NN/I-NP-SBJ\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "55", "code": "# -OBJ marks objects.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "56", "code": "ROLE = \"role\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "57", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "58", "code": "SLASH0 = SLASH[0]\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "59", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "60", "code": "### LIST FUNCTIONS #################################################################################\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "61", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "62", "code": "def find(function, iterable):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "63", "code": "    \"\"\" Returns the first item in the list for which function(item) is True, None otherwise.\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "64", "code": "    \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "65", "code": "    for x in iterable:\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "66", "code": "        if function(x) == True:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "67", "code": "            return x\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "68", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "69", "code": "def intersects(iterable1, iterable2):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "70", "code": "    \"\"\" Returns True if the given lists have at least one item in common.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "71", "code": "    \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "72", "code": "    return find(lambda x: x in iterable1, iterable2) is not None\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "73", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "74", "code": "def unique(iterable):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "75", "code": "    \"\"\" Returns a list copy in which each item occurs only once (in-order).\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "76", "code": "    \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "77", "code": "    seen = set()\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "78", "code": "    return [x for x in iterable if x not in seen and not seen.add(x)]\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "79", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "80", "code": "_zip = zip\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "81", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "W", "line": "82", "code": "def zip(*args, **kwargs):\n", "colour": "purple", "author": "tom@organisms.be"}, {"error": "C", "line": "83", "code": "    \"\"\" Returns a list of tuples, where the i-th tuple contains the i-th element \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "84", "code": "        from each of the argument sequences or iterables (or default if too short).\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "85", "code": "    \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "86", "code": "    args = [list(iterable) for iterable in args]\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "W", "line": "87", "code": "    n = max(map(len, args))\n", "colour": "purple", "author": "tom@organisms.be"}, {"error": "C", "line": "88", "code": "    v = kwargs.get(\"default\", None)\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "W", "line": "89", "code": "    return _zip(*[i + [v] * (n - len(i)) for i in args])\n", "colour": "purple", "author": "tom@organisms.be"}, {"error": "none", "line": "90", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "91", "code": "def unzip(i, iterable):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "92", "code": "    \"\"\" Returns the item at the given index from inside each tuple in the list.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "93", "code": "    \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "94", "code": "    return [x[i] for x in iterable]\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "95", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "96", "code": "class Map(list):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "97", "code": "    \"\"\" A stored imap() on a list.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "98", "code": "        The list is referenced instead of copied, and the items are mapped on-the-fly.\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "99", "code": "    \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "W", "line": "100", "code": "    def __init__(self, function=lambda x: x, items=[]):\n", "colour": "purple", "author": "tom@organisms.be"}, {"error": "C", "line": "101", "code": "        self._f = function\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "102", "code": "        self._a = items\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "103", "code": "    @property\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "104", "code": "    def items(self):\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "105", "code": "        return self._a\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "106", "code": "    def __repr__(self):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "107", "code": "        return repr(list(iter(self)))\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "108", "code": "    def __getitem__(self, i):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "109", "code": "        return self._f(self._a[i])\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "110", "code": "    def __len__(self):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "111", "code": "        return len(self._a)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "112", "code": "    def __iter__(self):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "113", "code": "        i = 0\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "114", "code": "        while i < len(self._a):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "115", "code": "            yield self._f(self._a[i])\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "116", "code": "            i += 1\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "117", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "118", "code": "### SENTENCE #######################################################################################\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "119", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "120", "code": "# The output of parse() is a slash-formatted string (e.g., \"the/DT cat/NN\"),\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "121", "code": "# so slashes in words themselves are encoded as &slash;\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "122", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "123", "code": "encode_entities = lambda string: string.replace(\"/\", SLASH)\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "124", "code": "decode_entities = lambda string: string.replace(SLASH, \"/\")\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "125", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "126", "code": "#--- WORD ------------------------------------------------------------------------------------------\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "127", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "R", "line": "128", "code": "class Word(object):\n", "colour": "green", "author": "tom@organisms.be"}, {"error": "none", "line": "129", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "R", "line": "130", "code": "    def __init__(self, sentence, string, lemma=None, type=None, index=0):\n", "colour": "green", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "131", "code": "        \"\"\" A word in the sentence.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "132", "code": "            - lemma: base form of the word; \"was\" => \"be\".\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "133", "code": "            -  type: the part-of-speech tag; \"NN\" => a noun.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "134", "code": "            - chunk: the chunk (or phrase) this word belongs to.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "135", "code": "            - index: the index in the sentence.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "136", "code": "        \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "137", "code": "        if not isinstance(string, unicode):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "138", "code": "            try: string = string.decode(\"utf-8\") # ensure Unicode\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "W", "line": "139", "code": "            except: \n", "colour": "purple", "author": "tom@organisms.be"}, {"error": "none", "line": "140", "code": "                pass\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "141", "code": "        self.sentence = sentence\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "142", "code": "        self.index    = index\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "143", "code": "        self.string   = string   # \"was\"\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "144", "code": "        self.lemma    = lemma    # \"be\"\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "145", "code": "        self.type     = type     # VB\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "146", "code": "        self.chunk    = None     # Chunk object this word belongs to (i.e., a VP).\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "147", "code": "        self.pnp      = None     # PNP chunk object this word belongs to.\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "148", "code": "                                 # word.chunk and word.pnp are set in chunk.append().\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "149", "code": "        self._custom_tags = None # Tags object, created on request.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "150", "code": "    \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "151", "code": "    def copy(self, chunk=None, pnp=None):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "152", "code": "        w = Word(\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "153", "code": "            self.sentence,\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "154", "code": "            self.string,\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "155", "code": "            self.lemma,\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "156", "code": "            self.type,\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "157", "code": "            self.index\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "158", "code": "        )\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "159", "code": "        w.chunk = chunk\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "160", "code": "        w.pnp = pnp\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "161", "code": "        if self._custom_tags:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "W", "line": "162", "code": "            w._custom_tags = Tags(w, items=self._custom_tags)\n", "colour": "purple", "author": "tom@organisms.be"}, {"error": "none", "line": "163", "code": "        return w\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "164", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "165", "code": "    def _get_tag(self):\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "166", "code": "        return self.type    \n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "167", "code": "    def _set_tag(self, v):\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "168", "code": "        self.type = v\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "169", "code": "        \n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "170", "code": "    tag = pos = part_of_speech = property(_get_tag, _set_tag)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "171", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "172", "code": "    @property\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "173", "code": "    def phrase(self):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "174", "code": "        return self.chunk\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "175", "code": "    \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "176", "code": "    @property\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "177", "code": "    def prepositional_phrase(self):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "178", "code": "        return self.pnp\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "179", "code": "        \n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "180", "code": "    prepositional_noun_phrase = prepositional_phrase\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "181", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "182", "code": "    @property\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "183", "code": "    def tags(self):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "184", "code": "        \"\"\" Yields a list of all the token tags as they appeared when the word was parsed.\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "185", "code": "            For example: [\"was\", \"VBD\", \"B-VP\", \"O\", \"VP-1\", \"A1\", \"be\"]\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "186", "code": "        \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "187", "code": "        # See also. Sentence.__repr__().\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "W", "line": "188", "code": "        ch, I,O,B = self.chunk, INSIDE+\"-\", OUTSIDE, BEGIN+\"-\"\n", "colour": "purple", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "189", "code": "        tags = [OUTSIDE for i in range(len(self.sentence.token))]\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "190", "code": "        for i, tag in enumerate(self.sentence.token): # Default: [WORD, POS, CHUNK, PNP, RELATION, ANCHOR, LEMMA]\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "191", "code": "            if tag == WORD:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "192", "code": "                tags[i] = encode_entities(self.string)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "193", "code": "            elif tag == POS or tag == \"pos\" and self.type:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "194", "code": "                tags[i] = self.type\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "195", "code": "            elif tag == CHUNK and ch and ch.type:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "196", "code": "                tags[i] = (self == ch[0] and B or I) + ch.type\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "197", "code": "            elif tag == PNP and self.pnp:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "198", "code": "                tags[i] = (self == self.pnp[0] and B or I) + \"PNP\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "199", "code": "            elif tag == REL and ch and len(ch.relations) > 0:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "200", "code": "                tags[i] = [\"-\".join([str(x) for x in [ch.type]+list(reversed(r)) if x]) for r in ch.relations]\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "201", "code": "                tags[i] = \"*\".join(tags[i])\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "202", "code": "            elif tag == ANCHOR and ch:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "203", "code": "                tags[i] = ch.anchor_id or OUTSIDE\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "204", "code": "            elif tag == LEMMA:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "205", "code": "                tags[i] = encode_entities(self.lemma or \"\")\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "206", "code": "            elif tag in self.custom_tags:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "207", "code": "                tags[i] = self.custom_tags.get(tag) or OUTSIDE\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "208", "code": "        return tags\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "209", "code": "    \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "210", "code": "    @property\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "211", "code": "    def custom_tags(self):\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "212", "code": "        if not self._custom_tags: self._custom_tags = Tags(self)\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "213", "code": "        return self._custom_tags\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "214", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "W", "line": "215", "code": "    def next(self, type=None):\n", "colour": "purple", "author": "tom@organisms.be"}, {"error": "none", "line": "216", "code": "        \"\"\" Returns the next word in the sentence with the given type.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "217", "code": "        \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "218", "code": "        i = self.index + 1\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "219", "code": "        s = self.sentence\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "220", "code": "        while i < len(s):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "221", "code": "            if type in (s[i].type, None):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "222", "code": "                return s[i]\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "223", "code": "            i += 1\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "224", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "W", "line": "225", "code": "    def previous(self, type=None):\n", "colour": "purple", "author": "tom@organisms.be"}, {"error": "none", "line": "226", "code": "        \"\"\" Returns the next previous word in the sentence with the given type.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "227", "code": "        \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "228", "code": "        i = self.index - 1\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "229", "code": "        s = self.sentence\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "230", "code": "        while i > 0:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "231", "code": "            if type in (s[i].type, None):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "232", "code": "                return s[i]\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "233", "code": "            i -= 1\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "234", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "235", "code": "    # User-defined tags are available as Word.[tag] attributes.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "236", "code": "    def __getattr__(self, tag):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "237", "code": "        d = self.__dict__.get(\"_custom_tags\", None)\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "238", "code": "        if d and tag in d:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "239", "code": "            return d[tag]\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "240", "code": "        raise AttributeError(\"Word instance has no attribute '%s'\" % tag)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "241", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "242", "code": "    # Word.string and unicode(Word) are Unicode strings.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "243", "code": "    # repr(Word) is a Python string (with Unicode characters encoded).\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "244", "code": "    def __unicode__(self):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "245", "code": "        return self.string\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "246", "code": "    def __repr__(self):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "247", "code": "        return \"Word(%s)\" % repr(\"%s/%s\" % (\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "248", "code": "            encode_entities(self.string),\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "249", "code": "            self.type is not None and self.type or OUTSIDE))\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "250", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "251", "code": "    def __eq__(self, word):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "252", "code": "        return id(self) == id(word)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "253", "code": "    def __ne__(self, word):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "254", "code": "        return id(self) != id(word)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "255", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "256", "code": "class Tags(dict):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "257", "code": "    \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "W", "line": "258", "code": "    def __init__(self, word, items=[]):\n", "colour": "purple", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "259", "code": "        \"\"\" A dictionary of custom word tags.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "260", "code": "            A word may be annotated with its part-of-speech tag (e.g., \"cat/NN\"), \n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "261", "code": "            phrase tag (e.g., \"cat/NN/NP\"), the prepositional noun phrase it is part of etc.\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "262", "code": "            An example of an extra custom slot is its semantic type, \n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "263", "code": "            e.g., gene type, topic, and so on: \"cat/NN/NP/genus_felis\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "264", "code": "        \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "265", "code": "        if items:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "266", "code": "            dict.__init__(self, items)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "267", "code": "        self.word = word\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "268", "code": "    \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "269", "code": "    def __setitem__(self, k, v):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "270", "code": "        # Ensure that the custom tag is also in Word.sentence.token,\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "271", "code": "        # so that it is not forgotten when exporting or importing XML.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "272", "code": "        dict.__setitem__(self, k, v)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "273", "code": "        if k not in reversed(self.word.sentence.token): \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "274", "code": "            self.word.sentence.token.append(k)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "275", "code": "            \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "276", "code": "    def setdefault(self, k, v):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "277", "code": "        if k not in self: \n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "278", "code": "            self.__setitem__(k, v); return self[k]\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "279", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "280", "code": "#--- CHUNK -----------------------------------------------------------------------------------------\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "281", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "R", "line": "282", "code": "class Chunk(object):\n", "colour": "green", "author": "tom@organisms.be"}, {"error": "C", "line": "283", "code": "    \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "R", "line": "284", "code": "    def __init__(self, sentence, words=[], type=None, role=None, relation=None):\n", "colour": "green", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "285", "code": "        \"\"\" A list of words that make up a phrase in the sentence.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "286", "code": "            - type: the phrase tag; \"NP\" => a noun phrase (e.g., \"the black cat\").\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "287", "code": "            - role: the function of the phrase; \"SBJ\" => sentence subject.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "288", "code": "            - relation: an id shared with other phrases, linking subject to object in the sentence.\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "289", "code": "        \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "290", "code": "        # A chunk can have multiple roles or relations in the sentence,\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "291", "code": "        # so role and relation can also be given as lists.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "292", "code": "        b1 = isinstance(relation, (list, tuple))\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "293", "code": "        b2 = isinstance(role, (list, tuple))\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "294", "code": "        if not b1 and not b2:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "295", "code": "            r = [(relation, role)]\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "296", "code": "        elif b1 and b2:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "297", "code": "            r = zip(relation, role)\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "298", "code": "        elif b1:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "299", "code": "            r = zip(relation, [role] * len(relation))\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "300", "code": "        elif b2:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "301", "code": "            r = zip([relation] * len(role), role)\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "302", "code": "        r = [(a, b) for a, b in r if a is not None or b is not None]\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "303", "code": "        self.sentence      = sentence\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "304", "code": "        self.words         = []\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "305", "code": "        self.type          = type  # NP, VP, ADJP ...\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "306", "code": "        self.relations     = r     # NP-SBJ-1 => [(1, SBJ)]\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "307", "code": "        self.pnp           = None  # PNP chunk object this chunk belongs to.\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "308", "code": "        self.anchor        = None  # PNP chunk's anchor.\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "309", "code": "        self.attachments   = []    # PNP chunks attached to this anchor.\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "310", "code": "        self._conjunctions = None  # Conjunctions object, created on request.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "311", "code": "        self._modifiers    = None\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "312", "code": "        self.extend(words)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "313", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "314", "code": "    def extend(self, words):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "315", "code": "        for w in words: \n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "316", "code": "            self.append(w)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "317", "code": "    \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "318", "code": "    def append(self, word):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "319", "code": "        self.words.append(word)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "320", "code": "        word.chunk = self\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "321", "code": "        \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "322", "code": "    def __getitem__(self, index):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "323", "code": "        return self.words[index]\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "324", "code": "    def __len__(self):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "325", "code": "        return len(self.words)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "326", "code": "    def __iter__(self):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "327", "code": "        return self.words.__iter__()\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "328", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "329", "code": "    def _get_tag(self):\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "330", "code": "        return self.type\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "331", "code": "    def _set_tag(self, v):\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "332", "code": "        self.type = v\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "333", "code": "        \n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "334", "code": "    tag = pos = part_of_speech = property(_get_tag, _set_tag)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "335", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "336", "code": "    @property\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "337", "code": "    def start(self):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "338", "code": "        return self.words[0].index\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "339", "code": "    @property\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "340", "code": "    def stop(self):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "341", "code": "        return self.words[-1].index + 1\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "342", "code": "    @property\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "343", "code": "    def range(self):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "344", "code": "        return range(self.start, self.stop)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "345", "code": "    @property\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "346", "code": "    def span(self):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "347", "code": "        return (self.start, self.stop)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "348", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "349", "code": "    @property\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "350", "code": "    def lemmata(self):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "351", "code": "        return [word.lemma for word in self.words]\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "352", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "353", "code": "    @property\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "354", "code": "    def tagged(self):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "355", "code": "        return [(word.string, word.type) for word in self.words]\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "356", "code": "    \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "357", "code": "    @property\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "358", "code": "    def head(self):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "359", "code": "        \"\"\" Yields the head of the chunk (usually, the last word in the chunk).\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "360", "code": "        \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "361", "code": "        if self.type == \"NP\" and any(w.type.startswith(\"NNP\") for w in self):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "362", "code": "            w = find(lambda w: w.type.startswith(\"NNP\"), reversed(self))\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "363", "code": "        elif self.type == \"NP\":  # \"the cat\" => \"cat\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "364", "code": "            w = find(lambda w: w.type.startswith(\"NN\"), reversed(self))\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "365", "code": "        elif self.type == \"VP\":  # \"is watching\" => \"watching\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "366", "code": "            w = find(lambda w: w.type.startswith(\"VB\"), reversed(self))\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "367", "code": "        elif self.type == \"PP\":  # \"from up on\" => \"from\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "368", "code": "            w = find(lambda w: w.type.startswith((\"IN\", \"PP\")), self)\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "369", "code": "        elif self.type == \"PNP\": # \"from up on the roof\" => \"roof\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "370", "code": "            w = find(lambda w: w.type.startswith(\"NN\"), reversed(self))\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "371", "code": "        else:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "372", "code": "            w = None\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "373", "code": "        if w is None:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "374", "code": "            w = self[-1]\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "375", "code": "        return w\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "376", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "377", "code": "    @property\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "378", "code": "    def relation(self):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "379", "code": "        \"\"\" Yields the first relation id of the chunk.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "380", "code": "        \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "381", "code": "        # [(2,OBJ), (3,OBJ)])] => 2\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "382", "code": "        return len(self.relations) > 0 and self.relations[0][0] or None\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "383", "code": "        \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "384", "code": "    @property\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "385", "code": "    def role(self):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "386", "code": "        \"\"\" Yields the first role of the chunk (SBJ, OBJ, ...).\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "387", "code": "        \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "388", "code": "        # [(1,SBJ), (1,OBJ)])] => SBJ\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "389", "code": "        return len(self.relations) > 0 and self.relations[0][1] or None\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "390", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "391", "code": "    @property\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "392", "code": "    def subject(self):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "393", "code": "        ch = self.sentence.relations[\"SBJ\"].get(self.relation, None)\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "394", "code": "        if ch != self: \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "395", "code": "            return ch\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "396", "code": "    @property\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "397", "code": "    def object(self):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "398", "code": "        ch = self.sentence.relations[\"OBJ\"].get(self.relation, None)\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "399", "code": "        if ch != self: \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "400", "code": "            return ch\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "401", "code": "    @property\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "402", "code": "    def verb(self):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "403", "code": "        ch = self.sentence.relations[\"VP\"].get(self.relation, None)\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "404", "code": "        if ch != self: \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "405", "code": "            return ch\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "406", "code": "    @property\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "407", "code": "    def related(self):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "408", "code": "        \"\"\" Yields a list of all chunks in the sentence with the same relation id.\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "409", "code": "        \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "410", "code": "        return [ch for ch in self.sentence.chunks \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "411", "code": "                    if ch != self and intersects(unzip(0, ch.relations), unzip(0, self.relations))]\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "412", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "413", "code": "    @property\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "414", "code": "    def prepositional_phrase(self):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "415", "code": "        return self.pnp\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "416", "code": "        \n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "417", "code": "    prepositional_noun_phrase = prepositional_phrase\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "418", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "419", "code": "    @property\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "420", "code": "    def anchor_id(self):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "421", "code": "        \"\"\" Yields the anchor tag as parsed from the original token.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "422", "code": "            Chunks that are anchors have a tag with an \"A\" prefix (e.g., \"A1\").\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "423", "code": "            Chunks that are PNP attachmens (or chunks inside a PNP) have \"P\" (e.g., \"P1\").\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "424", "code": "            Chunks inside a PNP can be both anchor and attachment (e.g., \"P1-A2\"),\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "425", "code": "            as in: \"clawed/A1 at/P1 mice/P1-A2 in/P2 the/P2 wall/P2\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "426", "code": "        \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "427", "code": "        id = \"\"\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "W", "line": "428", "code": "        f = lambda ch: filter(lambda k: self.sentence._anchors[k] == ch, self.sentence._anchors)\n", "colour": "purple", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "429", "code": "        if self.pnp and self.pnp.anchor:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "430", "code": "            id += \"-\" + \"-\".join(f(self.pnp))\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "431", "code": "        if self.anchor:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "432", "code": "            id += \"-\" + \"-\".join(f(self))\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "433", "code": "        if self.attachments:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "434", "code": "            id += \"-\" + \"-\".join(f(self))\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "435", "code": "        return id.strip(\"-\") or None\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "436", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "437", "code": "    @property\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "438", "code": "    def conjunctions(self):\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "439", "code": "        if not self._conjunctions: self._conjunctions = Conjunctions(self)\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "440", "code": "        return self._conjunctions\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "441", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "442", "code": "    @property\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "443", "code": "    def modifiers(self):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "444", "code": "        \"\"\" For verb phrases (VP), yields a list of the nearest adjectives and adverbs.\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "445", "code": "        \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "446", "code": "        if self._modifiers is None:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "447", "code": "            # Iterate over all the chunks and attach modifiers to their VP-anchor.\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "448", "code": "            is_modifier = lambda ch: ch.type in (\"ADJP\", \"ADVP\") and ch.relation is None\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "449", "code": "            for chunk in self.sentence.chunks:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "W", "line": "450", "code": "                chunk._modifiers = []\n", "colour": "purple", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "W", "line": "451", "code": "            for chunk in filter(is_modifier, self.sentence.chunks):\n", "colour": "purple", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "452", "code": "                anchor = chunk.nearest(\"VP\")\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "W", "line": "453", "code": "                if anchor: anchor._modifiers.append(chunk)\n", "colour": "purple", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "454", "code": "        return self._modifiers\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "455", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "W", "line": "456", "code": "    def nearest(self, type=\"VP\"):\n", "colour": "purple", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "457", "code": "        \"\"\" Returns the nearest chunk in the sentence with the given type.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "458", "code": "            This can be used (for example) to find adverbs and adjectives related to verbs,\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "459", "code": "            as in: \"the cat is ravenous\" => is what? => \"ravenous\".\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "460", "code": "        \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "461", "code": "        candidate, d = None, len(self.sentence.chunks)\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "462", "code": "        if isinstance(self, PNPChunk):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "E", "line": "463", "code": "            i = self.sentence.chunks.index(self.chunks[0])\n", "colour": "yellow", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "464", "code": "        else:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "465", "code": "            i = self.sentence.chunks.index(self)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "466", "code": "        for j, chunk in enumerate(self.sentence.chunks):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "467", "code": "            if chunk.type.startswith(type) and abs(i-j) < d:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "468", "code": "                candidate, d = chunk, abs(i-j)\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "469", "code": "        return candidate\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "470", "code": "        \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "W", "line": "471", "code": "    def next(self, type=None):\n", "colour": "purple", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "472", "code": "        \"\"\" Returns the next chunk in the sentence with the given type.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "473", "code": "        \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "474", "code": "        i = self.stop\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "475", "code": "        s = self.sentence\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "476", "code": "        while i < len(s):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "477", "code": "            if s[i].chunk is not None and type in (s[i].chunk.type, None):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "478", "code": "                return s[i].chunk\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "479", "code": "            i += 1\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "480", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "W", "line": "481", "code": "    def previous(self, type=None):\n", "colour": "purple", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "482", "code": "        \"\"\" Returns the next previous chunk in the sentence with the given type.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "483", "code": "        \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "484", "code": "        i = self.start - 1\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "485", "code": "        s = self.sentence\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "486", "code": "        while i > 0:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "487", "code": "            if s[i].chunk is not None and type in (s[i].chunk.type, None):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "488", "code": "                return s[i].chunk\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "489", "code": "            i -= 1\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "490", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "491", "code": "    # Chunk.string and unicode(Chunk) are Unicode strings.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "492", "code": "    # repr(Chunk) is a Python string (with Unicode characters encoded).\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "493", "code": "    @property\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "494", "code": "    def string(self):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "495", "code": "        return u\" \".join(word.string for word in self.words)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "496", "code": "    def __unicode__(self):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "497", "code": "        return self.string\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "498", "code": "    def __repr__(self):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "499", "code": "        return \"Chunk(%s)\" %  repr(\"%s/%s%s%s\") % (\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "500", "code": "                self.string,\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "501", "code": "                self.type is not None and self.type or OUTSIDE, \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "502", "code": "                self.role is not None and (\"-\" + self.role) or \"\",\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "503", "code": "            self.relation is not None and (\"-\" + str(self.relation)) or \"\")\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "504", "code": "    \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "505", "code": "    def __eq__(self, chunk):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "506", "code": "        return id(self) == id(chunk)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "507", "code": "    def __ne__(self, chunk):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "508", "code": "        return id(self) != id(chunk)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "509", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "510", "code": "# Chinks are non-chunks,\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "511", "code": "# see also the chunked() function:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "R", "line": "512", "code": "class Chink(Chunk):\n", "colour": "green", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "513", "code": "    def __repr__(self):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "514", "code": "        return Chunk.__repr__(self).replace(\"Chunk(\", \"Chink(\", 1)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "515", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "516", "code": "#--- PNP CHUNK -------------------------------------------------------------------------------------\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "517", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "R", "line": "518", "code": "class PNPChunk(Chunk):\n", "colour": "green", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "519", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "520", "code": "    def __init__(self, *args, **kwargs):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "521", "code": "        \"\"\" A chunk of chunks that make up a prepositional noun phrase (i.e., PP + NP).\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "522", "code": "            When the output of the parser includes PP-attachment,\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "523", "code": "            PNPChunck.anchor will yield the chunk that is clarified by the preposition.\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "524", "code": "            For example: \"the cat went [for the mouse] [with its claws]\":\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "525", "code": "            - [went] what? => for the mouse,\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "526", "code": "            - [went] how? => with its claws.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "527", "code": "        \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "528", "code": "        self.anchor = None # The anchor chunk (e.g., \"for the mouse\" => \"went\").\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "529", "code": "        self.chunks = []   # List of chunks in the prepositional noun phrase.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "530", "code": "        Chunk.__init__(self, *args, **kwargs)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "531", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "532", "code": "    def append(self, word):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "533", "code": "        self.words.append(word)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "534", "code": "        word.pnp = self\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "535", "code": "        if word.chunk is not None:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "536", "code": "            word.chunk.pnp = self\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "537", "code": "            if word.chunk not in self.chunks:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "538", "code": "                self.chunks.append(word.chunk)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "539", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "540", "code": "    @property\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "541", "code": "    def preposition(self):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "542", "code": "        \"\"\" Yields the first chunk in the prepositional noun phrase, usually a PP-chunk.\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "543", "code": "            PP-chunks contain words such as \"for\", \"with\", \"in\", ...\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "544", "code": "        \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "545", "code": "        return self.chunks[0]\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "546", "code": "        \n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "547", "code": "    pp = preposition\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "548", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "549", "code": "    @property\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "550", "code": "    def phrases(self):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "551", "code": "        return self.chunks\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "552", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "553", "code": "    def guess_anchor(self):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "554", "code": "        \"\"\" Returns an anchor chunk for this prepositional noun phrase (without a PP-attacher).\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "555", "code": "            Often, the nearest verb phrase is a good candidate.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "556", "code": "        \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "557", "code": "        return self.nearest(\"VP\")\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "558", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "559", "code": "#--- CONJUNCTION -----------------------------------------------------------------------------------\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "560", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "561", "code": "CONJUNCT = AND = \"AND\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "562", "code": "DISJUNCT = OR  = \"OR\"\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "563", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "564", "code": "class Conjunctions(list):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "565", "code": "    \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "W", "line": "566", "code": "    def __init__(self, chunk):\n", "colour": "purple", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "567", "code": "        \"\"\" Chunk.conjunctions is a list of other chunks participating in a conjunction.\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "568", "code": "            Each item in the list is a (chunk, conjunction)-tuple, with conjunction either AND or OR.\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "569", "code": "        \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "570", "code": "        self.anchor = chunk\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "571", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "W", "line": "572", "code": "    def append(self, chunk, type=CONJUNCT):\n", "colour": "purple", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "573", "code": "        list.append(self, (chunk, type))\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "574", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "575", "code": "#--- SENTENCE --------------------------------------------------------------------------------------\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "576", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "577", "code": "_UID = 0\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "578", "code": "def _uid():\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "579", "code": "    global _UID; _UID+=1; return _UID\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "580", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "581", "code": "def _is_tokenstring(string):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "582", "code": "    # The class mbsp.TokenString stores the format of tags for each token.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "583", "code": "    # Since it comes directly from MBSP.parse(), this format is always correct,\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "584", "code": "    # regardless of the given token format parameter for Sentence() or Text().\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "585", "code": "    return isinstance(string, unicode) and hasattr(string, \"tags\")\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "586", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "R", "line": "587", "code": "class Sentence(object):\n", "colour": "green", "author": "tom@organisms.be"}, {"error": "none", "line": "588", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "W", "line": "589", "code": "    def __init__(self, string=\"\", token=[WORD, POS, CHUNK, PNP, REL, ANCHOR, LEMMA], language=\"en\"):\n", "colour": "purple", "author": "tom@organisms.be"}, {"error": "none", "line": "590", "code": "        \"\"\" A nested tree of sentence words, chunks and prepositions.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "591", "code": "            The input is a tagged string from parse(). \n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "592", "code": "            The order in which token tags appear can be specified.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "593", "code": "        \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "594", "code": "        # Extract token format from TokenString or TaggedString if possible.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "595", "code": "        if _is_tokenstring(string):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "E", "line": "596", "code": "            token, language = string.tags, getattr(string, \"language\", language)\n", "colour": "yellow", "author": "tom@organisms.be"}, {"error": "none", "line": "597", "code": "        # Convert to Unicode.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "598", "code": "        if not isinstance(string, unicode):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "599", "code": "            for encoding in ((\"utf-8\",), (\"windows-1252\",), (\"utf-8\", \"ignore\")):\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "W", "line": "600", "code": "                try: string = string.decode(*encoding)\n", "colour": "purple", "author": "tom@organisms.be"}, {"error": "W", "line": "601", "code": "                except:\n", "colour": "purple", "author": "tom@organisms.be"}, {"error": "none", "line": "602", "code": "                    pass\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "603", "code": "        self.parent      = None # A Slice refers to the Sentence it is part of.\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "604", "code": "        self.text        = None # A Sentence refers to the Text it is part of.\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "605", "code": "        self.language    = language\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "606", "code": "        self.id          = _uid()\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "607", "code": "        self.token       = list(token)\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "608", "code": "        self.words       = []\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "609", "code": "        self.chunks      = [] # Words grouped into chunks.\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "610", "code": "        self.pnp         = [] # Words grouped into PNP chunks.\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "611", "code": "        self._anchors    = {} # Anchor tags related to anchor chunks or attached PNP's.\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "612", "code": "        self._relation   = None # Helper variable: the last chunk's relation and role.\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "613", "code": "        self._attachment = None # Helper variable: the last attachment tag (e.g., \"P1\") parsed in _do_pnp().\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "614", "code": "        self._previous   = None # Helper variable: the last token parsed in parse_token().\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "615", "code": "        self.relations   = {\"SBJ\":{}, \"OBJ\":{}, \"VP\":{}}\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "616", "code": "        # Split the slash-formatted token into the separate tags in the given order.\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "617", "code": "        # Append Word and Chunk objects according to the token's tags.        \n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "618", "code": "        for chars in string.split(\" \"):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "619", "code": "            if chars:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "620", "code": "                self.append(*self.parse_token(chars, token))\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "621", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "622", "code": "    @property\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "623", "code": "    def word(self):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "624", "code": "        return self.words\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "625", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "626", "code": "    @property\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "627", "code": "    def lemmata(self):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "628", "code": "        return Map(lambda w: w.lemma, self.words)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "629", "code": "        #return [word.lemma for word in self.words]\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "630", "code": "        \n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "631", "code": "    lemma = lemmata\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "632", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "633", "code": "    @property\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "634", "code": "    def parts_of_speech(self):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "635", "code": "        return Map(lambda w: w.type, self.words)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "636", "code": "        #return [word.type for word in self.words]\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "637", "code": "        \n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "638", "code": "    pos = parts_of_speech\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "639", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "640", "code": "    @property\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "641", "code": "    def tagged(self):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "642", "code": "        return [(word.string, word.type) for word in self]\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "643", "code": "        \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "644", "code": "    @property\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "645", "code": "    def phrases(self):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "646", "code": "        return self.chunks\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "647", "code": "        \n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "648", "code": "    chunk = phrases\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "649", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "650", "code": "    @property\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "651", "code": "    def prepositional_phrases(self):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "652", "code": "        return self.pnp\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "653", "code": "        \n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "654", "code": "    prepositional_noun_phrases = prepositional_phrases\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "655", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "656", "code": "    @property\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "R", "line": "657", "code": "    def start(self):\n", "colour": "green", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "658", "code": "        return 0\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "659", "code": "    @property\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "660", "code": "    def stop(self):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "661", "code": "        return self.start + len(self.words)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "662", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "663", "code": "    @property\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "664", "code": "    def nouns(self):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "665", "code": "        return [word for word in self if word.type.startswith(\"NN\")]\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "666", "code": "    @property\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "667", "code": "    def verbs(self):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "668", "code": "        return [word for word in self if word.type.startswith(\"VB\")]\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "669", "code": "    @property\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "670", "code": "    def adjectives(self):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "671", "code": "        return [word for word in self if word.type.startswith(\"JJ\")]\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "672", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "673", "code": "    @property\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "674", "code": "    def subjects(self):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "675", "code": "        return self.relations[\"SBJ\"].values()\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "676", "code": "    @property\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "677", "code": "    def objects(self):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "678", "code": "        return self.relations[\"OBJ\"].values()\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "679", "code": "    @property\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "680", "code": "    def verbs(self):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "681", "code": "        return self.relations[\"VP\"].values()\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "682", "code": "        \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "683", "code": "    @property\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "684", "code": "    def anchors(self):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "685", "code": "        return [chunk for chunk in self.chunks if len(chunk.attachments) > 0]\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "686", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "687", "code": "    @property\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "688", "code": "    def is_question(self):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "689", "code": "        return len(self) > 0 and str(self[-1]) == \"?\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "690", "code": "    @property\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "691", "code": "    def is_exclamation(self):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "692", "code": "        return len(self) > 0 and str(self[-1]) == \"!\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "693", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "694", "code": "    def __getitem__(self, index):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "695", "code": "        return self.words[index]\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "696", "code": "    def __len__(self):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "697", "code": "        return len(self.words)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "698", "code": "    def __iter__(self):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "699", "code": "        return self.words.__iter__()\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "700", "code": "    \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "R", "line": "701", "code": "    def append(self, word, lemma=None, type=None, chunk=None, role=None, relation=None, pnp=None, anchor=None, iob=None, custom={}):\n", "colour": "green", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "702", "code": "        \"\"\" Appends the next word to the sentence / chunk / preposition.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "703", "code": "            For example: Sentence.append(\"clawed\", \"claw\", \"VB\", \"VP\", role=None, relation=1)\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "704", "code": "            - word     : the current word,\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "705", "code": "            - lemma    : the canonical form of the word,\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "706", "code": "            - type     : part-of-speech tag for the word (NN, JJ, ...),\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "707", "code": "            - chunk    : part-of-speech tag for the chunk this word is part of (NP, VP, ...),\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "708", "code": "            - role     : the chunk's grammatical role (SBJ, OBJ, ...),\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "709", "code": "            - relation : an id shared by other related chunks (e.g., SBJ-1 <=> VP-1),\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "710", "code": "            - pnp      : PNP if this word is in a prepositional noun phrase (B- prefix optional),\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "711", "code": "            - iob      : BEGIN if the word marks the start of a new chunk,\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "712", "code": "                         INSIDE (optional) if the word is part of the previous chunk,\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "713", "code": "            - custom   : a dictionary of (tag, value)-items for user-defined word tags.\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "714", "code": "        \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "715", "code": "        self._do_word(word, lemma, type)            # Append Word object.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "716", "code": "        self._do_chunk(chunk, role, relation, iob)  # Append Chunk, or add last word to last chunk.\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "717", "code": "        self._do_conjunction()\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "718", "code": "        self._do_relation()\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "719", "code": "        self._do_pnp(pnp, anchor)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "720", "code": "        self._do_anchor(anchor)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "721", "code": "        self._do_custom(custom)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "722", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "W", "line": "723", "code": "    def parse_token(self, token, tags=[WORD, POS, CHUNK, PNP, REL, ANCHOR, LEMMA]):\n", "colour": "purple", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "724", "code": "        \"\"\" Returns the arguments for Sentence.append() from a tagged token representation.\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "725", "code": "            The order in which token tags appear can be specified.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "726", "code": "            The default order is (separated by slashes): \n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "727", "code": "            - word, \n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "728", "code": "            - part-of-speech, \n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "729", "code": "            - (IOB-)chunk, \n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "730", "code": "            - (IOB-)preposition, \n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "731", "code": "            - chunk(-relation)(-role), \n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "732", "code": "            - anchor, \n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "733", "code": "            - lemma.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "734", "code": "            Examples:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "735", "code": "            The/DT/B-NP/O/NP-SBJ-1/O/the\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "736", "code": "            cats/NNS/I-NP/O/NP-SBJ-1/O/cat\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "737", "code": "            clawed/VBD/B-VP/O/VP-1/A1/claw\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "738", "code": "            at/IN/B-PP/B-PNP/PP/P1/at\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "739", "code": "            the/DT/B-NP/I-PNP/NP/P1/the\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "740", "code": "            sofa/NN/I-NP/I-PNP/NP/P1/sofa\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "741", "code": "            ././O/O/O/O/.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "742", "code": "            Returns a (word, lemma, type, chunk, role, relation, preposition, anchor, iob, custom)-tuple,\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "743", "code": "            which can be passed to Sentence.append(): Sentence.append(*Sentence.parse_token(\"cats/NNS/NP\"))\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "744", "code": "            The custom value is a dictionary of (tag, value)-items of unrecognized tags in the token.\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "745", "code": "        \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "746", "code": "        p = { WORD: \"\", \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "747", "code": "               POS: None, \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "748", "code": "               IOB: None,\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "749", "code": "             CHUNK: None,\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "750", "code": "               PNP: None,\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "751", "code": "               REL: None,\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "752", "code": "              ROLE: None,\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "753", "code": "            ANCHOR: None,\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "754", "code": "             LEMMA: None }\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "755", "code": "        # Split the slash-formatted token into separate tags in the given order.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "756", "code": "        # Decode &slash; characters (usually in words and lemmata).\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "757", "code": "        # Assume None for missing tags (except the word itself, which defaults to an empty string).\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "758", "code": "        custom = {}\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "759", "code": "        for k, v in izip(tags, token.split(\"/\")):\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "760", "code": "            if SLASH0 in v:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "761", "code": "                v = v.replace(SLASH, \"/\")\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "762", "code": "            if k == \"pos\":\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "763", "code": "                k = POS\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "764", "code": "            if k not in p:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "765", "code": "                custom[k] = None\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "766", "code": "            if v != OUTSIDE or k == WORD or k == LEMMA: # \"type O negative\" => \"O\" != OUTSIDE.\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "767", "code": "                (p if k not in custom else custom)[k] = v\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "768", "code": "        # Split IOB-prefix from the chunk tag:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "769", "code": "        # B- marks the start of a new chunk, \n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "770", "code": "        # I- marks inside of a chunk.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "771", "code": "        ch = p[CHUNK]\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "772", "code": "        if ch is not None and ch.startswith((\"B-\", \"I-\")):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "773", "code": "            p[IOB], p[CHUNK] = ch[:1], ch[2:] # B-NP\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "774", "code": "        # Split the role from the relation:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "775", "code": "        # NP-SBJ-1 => relation id is 1 and role is SBJ, \n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "776", "code": "        # VP-1 => relation id is 1 with no role.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "777", "code": "        # Tokens may be tagged with multiple relations (e.g., NP-OBJ-1*NP-OBJ-3).\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "778", "code": "        if p[REL] is not None:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "779", "code": "            ch, p[REL], p[ROLE] = self._parse_relation(p[REL])\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "780", "code": "            # Infer a missing chunk tag from the relation tag (e.g., NP-SBJ-1 => NP).\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "781", "code": "            # For PP relation tags (e.g., PP-CLR-1), the first chunk is PP, the following chunks NP.\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "782", "code": "            if ch == \"PP\" \\\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "783", "code": "             and self._previous \\\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "784", "code": "             and self._previous[REL] == p[REL] \\\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "785", "code": "             and self._previous[ROLE] == p[ROLE]: \n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "786", "code": "                ch = \"NP\"\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "787", "code": "            if p[CHUNK] is None and ch != OUTSIDE:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "788", "code": "                p[CHUNK] = ch\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "789", "code": "        self._previous = p\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "790", "code": "        # Return the tags in the right order for Sentence.append().\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "791", "code": "        return p[WORD], p[LEMMA], p[POS], p[CHUNK], p[ROLE], p[REL], p[PNP], p[ANCHOR], p[IOB], custom\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "792", "code": "    \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "R", "line": "793", "code": "    def _parse_relation(self, tag):\n", "colour": "green", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "794", "code": "        \"\"\" Parses the chunk tag, role and relation id from the token relation tag.\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "795", "code": "            - VP                => VP, [], []\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "796", "code": "            - VP-1              => VP, [1], [None]\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "797", "code": "            - ADJP-PRD          => ADJP, [None], [PRD]\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "798", "code": "            - NP-SBJ-1          => NP, [1], [SBJ]\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "799", "code": "            - NP-OBJ-1*NP-OBJ-2 => NP, [1,2], [OBJ,OBJ]\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "800", "code": "            - NP-SBJ;NP-OBJ-1   => NP, [1,1], [SBJ,OBJ]\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "801", "code": "        \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "802", "code": "        chunk, relation, role = None, [], []\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "803", "code": "        if \";\" in tag:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "804", "code": "            # NP-SBJ;NP-OBJ-1 => 1 relates to both SBJ and OBJ.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "805", "code": "            id = tag.split(\"*\")[0][-2:]\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "806", "code": "            id = id if id.startswith(\"-\") else \"\"\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "807", "code": "            tag = tag.replace(\";\", id + \"*\")\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "808", "code": "        if \"*\" in tag:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "809", "code": "            tag = tag.split(\"*\")\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "810", "code": "        else:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "811", "code": "            tag = [tag]\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "812", "code": "        for s in tag:\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "813", "code": "            s = s.split(\"-\")\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "814", "code": "            n = len(s)\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "815", "code": "            if n == 1: \n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "816", "code": "                chunk = s[0]\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "817", "code": "            if n == 2: \n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "818", "code": "                chunk = s[0]; relation.append(s[1]); role.append(None)\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "819", "code": "            if n >= 3: \n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "820", "code": "                chunk = s[0]; relation.append(s[2]); role.append(s[1])\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "821", "code": "            if n > 1:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "822", "code": "                id = relation[-1]\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "823", "code": "                if id.isdigit():\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "824", "code": "                    relation[-1] = int(id)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "825", "code": "                else:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "826", "code": "                    # Correct \"ADJP-PRD\":\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "827", "code": "                    # (ADJP, [PRD], [None]) => (ADJP, [None], [PRD])\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "828", "code": "                    relation[-1], role[-1] = None, id\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "829", "code": "        return chunk, relation, role\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "830", "code": "    \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "W", "line": "831", "code": "    def _do_word(self, word, lemma=None, type=None):\n", "colour": "purple", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "832", "code": "        \"\"\" Adds a new Word to the sentence.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "833", "code": "            Other Sentence._do_[tag] functions assume a new word has just been appended.\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "834", "code": "        \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "835", "code": "        # Improve 3rd person singular \"'s\" lemma to \"be\", e.g., as in \"he's fine\".\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "836", "code": "        if lemma == \"'s\" and type in (\"VB\", \"VBZ\"):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "837", "code": "            lemma = \"be\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "838", "code": "        self.words.append(Word(self, word, lemma, type, index=len(self.words)))     \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "839", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "W", "line": "840", "code": "    def _do_chunk(self, type, role=None, relation=None, iob=None):\n", "colour": "purple", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "841", "code": "        \"\"\" Adds a new Chunk to the sentence, or adds the last word to the previous chunk.\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "842", "code": "            The word is attached to the previous chunk if both type and relation match,\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "843", "code": "            and if the word's chunk tag does not start with \"B-\" (i.e., iob != BEGIN).\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "844", "code": "            Punctuation marks (or other \"O\" chunk tags) are not chunked.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "845", "code": "        \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "846", "code": "        if (type is None or type == OUTSIDE) and \\\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "847", "code": "           (role is None or role == OUTSIDE) and (relation is None or relation == OUTSIDE):\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "848", "code": "            return\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "849", "code": "        if iob != BEGIN \\\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "850", "code": "         and self.chunks \\\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "851", "code": "         and self.chunks[-1].type == type \\\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "852", "code": "         and self._relation == (relation, role) \\\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "853", "code": "         and self.words[-2].chunk is not None: # \"one, two\" => \"one\" & \"two\" different chunks.\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "854", "code": "            self.chunks[-1].append(self.words[-1])\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "855", "code": "        else:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "856", "code": "            ch = Chunk(self, [self.words[-1]], type, role, relation)\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "857", "code": "            self.chunks.append(ch)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "858", "code": "            self._relation = (relation, role)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "859", "code": "    \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "860", "code": "    def _do_relation(self):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "861", "code": "        \"\"\" Attaches subjects, objects and verbs.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "862", "code": "            If the previous chunk is a subject/object/verb, it is stored in Sentence.relations{}.\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "863", "code": "        \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "864", "code": "        if self.chunks:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "865", "code": "            ch = self.chunks[-1]\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "866", "code": "            for relation, role in ch.relations:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "867", "code": "                if role == \"SBJ\" or role == \"OBJ\":\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "868", "code": "                    self.relations[role][relation] = ch\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "869", "code": "            if ch.type in (\"VP\",):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "870", "code": "                self.relations[ch.type][ch.relation] = ch\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "871", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "872", "code": "    def _do_pnp(self, pnp, anchor=None):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "873", "code": "        \"\"\" Attaches prepositional noun phrases.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "874", "code": "            Identifies PNP's from either the PNP tag or the P-attachment tag.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "875", "code": "            This does not determine the PP-anchor, it only groups words in a PNP chunk.\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "876", "code": "        \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "877", "code": "        if anchor or pnp and pnp.endswith(\"PNP\"):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "878", "code": "            if anchor is not None:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "879", "code": "                m = find(lambda x: x.startswith(\"P\"), anchor)\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "880", "code": "            else:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "881", "code": "                m = None\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "882", "code": "            if self.pnp \\\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "883", "code": "             and pnp \\\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "884", "code": "             and pnp != OUTSIDE \\\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "885", "code": "             and pnp.startswith(\"B-\") is False \\\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "886", "code": "             and self.words[-2].pnp is not None:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "887", "code": "                self.pnp[-1].append(self.words[-1])\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "888", "code": "            elif m is not None and m == self._attachment:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "889", "code": "                self.pnp[-1].append(self.words[-1])\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "890", "code": "            else:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "891", "code": "                ch = PNPChunk(self, [self.words[-1]], type=\"PNP\")\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "892", "code": "                self.pnp.append(ch)                \n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "893", "code": "            self._attachment = m\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "894", "code": "    \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "895", "code": "    def _do_anchor(self, anchor):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "896", "code": "        \"\"\" Collects preposition anchors and attachments in a dictionary.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "897", "code": "            Once the dictionary has an entry for both the anchor and the attachment, they are linked.\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "898", "code": "        \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "899", "code": "        if anchor:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "900", "code": "            for x in anchor.split(\"-\"):\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "901", "code": "                A, P = None, None\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "902", "code": "                if x.startswith(\"A\") and len(self.chunks) > 0: # anchor\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "903", "code": "                    A, P = x, x.replace(\"A\",\"P\")\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "904", "code": "                    self._anchors[A] = self.chunks[-1]\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "905", "code": "                if x.startswith(\"P\") and len(self.pnp) > 0:    # attachment (PNP)\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "906", "code": "                    A, P = x.replace(\"P\",\"A\"), x\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "907", "code": "                    self._anchors[P] = self.pnp[-1]\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "908", "code": "                if A in self._anchors and P in self._anchors and not self._anchors[P].anchor:\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "909", "code": "                    pnp = self._anchors[P]\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "910", "code": "                    pnp.anchor = self._anchors[A]\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "911", "code": "                    pnp.anchor.attachments.append(pnp)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "912", "code": "                \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "913", "code": "    def _do_custom(self, custom):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "914", "code": "        \"\"\" Adds the user-defined tags to the last word.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "915", "code": "            Custom tags can be used to add extra semantical meaning or metadata to words.\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "916", "code": "        \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "917", "code": "        if custom:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "918", "code": "            self.words[-1].custom_tags.update(custom)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "919", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "920", "code": "    def _do_conjunction(self, _and=(\"and\", \"e\", \"en\", \"et\", \"und\", \"y\")):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "921", "code": "        \"\"\" Attach conjunctions.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "922", "code": "            CC-words like \"and\" and \"or\" between two chunks indicate a conjunction.\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "923", "code": "        \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "924", "code": "        w = self.words\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "925", "code": "        if len(w) > 2 and w[-2].type == \"CC\" and w[-2].chunk is None:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "926", "code": "            cc  = w[-2].string.lower() in _and and AND or OR\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "927", "code": "            ch1 = w[-3].chunk\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "928", "code": "            ch2 = w[-1].chunk\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "929", "code": "            if ch1 is not None and \\\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "930", "code": "               ch2 is not None:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "931", "code": "                ch1.conjunctions.append(ch2, cc)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "932", "code": "                ch2.conjunctions.append(ch1, cc)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "933", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "R", "line": "934", "code": "    def get(self, index, tag=LEMMA):\n", "colour": "green", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "935", "code": "        \"\"\" Returns a tag for the word at the given index.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "936", "code": "            The tag can be WORD, LEMMA, POS, CHUNK, PNP, RELATION, ROLE, ANCHOR or a custom word tag.\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "937", "code": "        \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "938", "code": "        if tag == WORD:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "939", "code": "            return self.words[index]\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "940", "code": "        if tag == LEMMA:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "941", "code": "            return self.words[index].lemma\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "942", "code": "        if tag == POS or tag == \"pos\":\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "943", "code": "            return self.words[index].type\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "944", "code": "        if tag == CHUNK:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "945", "code": "            return self.words[index].chunk\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "946", "code": "        if tag == PNP:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "947", "code": "            return self.words[index].pnp\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "948", "code": "        if tag == REL:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "949", "code": "            ch = self.words[index].chunk; return ch and ch.relation\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "950", "code": "        if tag == ROLE:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "951", "code": "            ch = self.words[index].chunk; return ch and ch.role\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "952", "code": "        if tag == ANCHOR:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "953", "code": "            ch = self.words[index].pnp; return ch and ch.anchor\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "954", "code": "        if tag in self.words[index].custom_tags:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "955", "code": "            return self.words[index].custom_tags[tag]\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "956", "code": "        return None\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "957", "code": "        \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "958", "code": "    def loop(self, *tags):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "959", "code": "        \"\"\" Iterates over the tags in the entire Sentence,\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "960", "code": "            For example, Sentence.loop(POS, LEMMA) yields tuples of the part-of-speech tags and lemmata. \n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "961", "code": "            Possible tags: WORD, LEMMA, POS, CHUNK, PNP, RELATION, ROLE, ANCHOR or a custom word tag.\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "962", "code": "            Any order or combination of tags can be supplied.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "963", "code": "        \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "964", "code": "        for i in range(len(self.words)):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "965", "code": "            yield tuple([self.get(i, tag=tag) for tag in tags])  \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "966", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "967", "code": "    def indexof(self, value, tag=WORD):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "968", "code": "        \"\"\" Returns the indices of tokens in the sentence where the given token tag equals the string.\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "969", "code": "            The string can contain a wildcard \"*\" at the end (this way \"NN*\" will match \"NN\" and \"NNS\").\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "970", "code": "            The tag can be WORD, LEMMA, POS, CHUNK, PNP, RELATION, ROLE, ANCHOR or a custom word tag.\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "971", "code": "            For example: Sentence.indexof(\"VP\", tag=CHUNK) \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "972", "code": "            returns the indices of all the words that are part of a VP chunk.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "973", "code": "        \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "974", "code": "        match = lambda a, b: a.endswith(\"*\") and b.startswith(a[:-1]) or a==b\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "975", "code": "        indices = []\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "976", "code": "        for i in range(len(self.words)):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "977", "code": "            if match(value, unicode(self.get(i, tag))):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "978", "code": "                indices.append(i)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "979", "code": "        return indices\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "980", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "R", "line": "981", "code": "    def slice(self, start, stop):\n", "colour": "green", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "982", "code": "        \"\"\" Returns a portion of the sentence from word start index to word stop index.\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "983", "code": "            The returned slice is a subclass of Sentence and a deep copy.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "984", "code": "        \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "985", "code": "        s = Slice(token=self.token, language=self.language)\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "986", "code": "        for i, word in enumerate(self.words[start:stop]):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "987", "code": "            # The easiest way to copy (part of) a sentence\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "988", "code": "            # is by unpacking all of the token tags and passing them to Sentence.append().\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "989", "code": "            p0 = word.string                                                       # WORD\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "990", "code": "            p1 = word.lemma                                                        # LEMMA\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "991", "code": "            p2 = word.type                                                         # POS\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "992", "code": "            p3 = word.chunk is not None and word.chunk.type or None                # CHUNK\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "993", "code": "            p4 = word.pnp is not None and \"PNP\" or None                            # PNP\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "994", "code": "            p5 = word.chunk is not None and unzip(0, word.chunk.relations) or None # REL            \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "995", "code": "            p6 = word.chunk is not None and unzip(1, word.chunk.relations) or None # ROLE\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "996", "code": "            p7 = word.chunk and word.chunk.anchor_id or None                       # ANCHOR\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "997", "code": "            p8 = word.chunk and word.chunk.start == start+i and BEGIN or None      # IOB\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "998", "code": "            p9 = word.custom_tags                                                  # User-defined tags.\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "999", "code": "            # If the given range does not contain the chunk head, remove the chunk tags.\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1000", "code": "            if word.chunk is not None and (word.chunk.stop > stop):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1001", "code": "                p3, p4, p5, p6, p7, p8 = None, None, None, None, None, None\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1002", "code": "            # If the word starts the preposition, add the IOB B-prefix (i.e., B-PNP).\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "1003", "code": "            if word.pnp is not None and word.pnp.start == start+i:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1004", "code": "                p4 = BEGIN+\"-\"+\"PNP\"\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1005", "code": "            # If the given range does not contain the entire PNP, remove the PNP tags.\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1006", "code": "            # The range must contain the entire PNP, \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1007", "code": "            # since it starts with the PP and ends with the chunk head (and is meaningless without these).\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1008", "code": "            if word.pnp is not None and (word.pnp.start < start or word.chunk.stop > stop):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1009", "code": "                p4, p7 = None, None\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1010", "code": "            s.append(word=p0, lemma=p1, type=p2, chunk=p3, pnp=p4, relation=p5, role=p6, anchor=p7, iob=p8, custom=p9)\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1011", "code": "        s.parent = self\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "W", "line": "1012", "code": "        s._start = start\n", "colour": "purple", "author": "tom@organisms.be"}, {"error": "none", "line": "1013", "code": "        return s\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1014", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1015", "code": "    def copy(self):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1016", "code": "        return self.slice(0, len(self))\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1017", "code": "        \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1018", "code": "    def chunked(self):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1019", "code": "        return chunked(self)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1020", "code": "        \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1021", "code": "    def constituents(self, pnp=False):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1022", "code": "        \"\"\" Returns an in-order list of mixed Chunk and Word objects.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1023", "code": "            With pnp=True, also contains PNPChunk objects whenever possible.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1024", "code": "        \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1025", "code": "        a = []\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1026", "code": "        for word in self.words:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1027", "code": "            if pnp and word.pnp is not None:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1028", "code": "                if len(a) == 0 or a[-1] != word.pnp:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1029", "code": "                    a.append(word.pnp)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1030", "code": "            elif word.chunk is not None:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1031", "code": "                if len(a) == 0 or a[-1] != word.chunk:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1032", "code": "                    a.append(word.chunk)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1033", "code": "            else:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1034", "code": "                a.append(word)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1035", "code": "        return a\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1036", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1037", "code": "    # Sentence.string and unicode(Sentence) are Unicode strings.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1038", "code": "    # repr(Sentence) is a Python strings (with Unicode characters encoded).\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1039", "code": "    @property\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1040", "code": "    def string(self):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1041", "code": "        return u\" \".join(word.string for word in self)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1042", "code": "    def __unicode__(self):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1043", "code": "        return self.string\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1044", "code": "    def __repr__(self):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1045", "code": "        return \"Sentence(%s)\" % repr(\" \".join([\"/\".join(word.tags) for word in self.words]).encode(\"utf-8\"))\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1046", "code": "        \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1047", "code": "    def __eq__(self, other):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1048", "code": "        if not isinstance(other, Sentence): \n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "1049", "code": "            return False\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1050", "code": "        return len(self) == len(other) and repr(self) == repr(other)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1051", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1052", "code": "    @property\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1053", "code": "    def xml(self):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1054", "code": "        \"\"\" Yields the sentence as an XML-formatted string (plain bytestring, UTF-8 encoded).\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "1055", "code": "        \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1056", "code": "        return parse_xml(self, tab=\"\\t\", id=self.id or \"\")\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1057", "code": "        \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1058", "code": "    @classmethod\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "W", "line": "1059", "code": "    def from_xml(cls, xml):\n", "colour": "purple", "author": "tom@organisms.be"}, {"error": "none", "line": "1060", "code": "        \"\"\" Returns a new Text from the given XML string.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1061", "code": "        \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "1062", "code": "        s = parse_string(xml)\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1063", "code": "        return Sentence(s.split(\"\\n\")[0], token=s.tags, language=s.language)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "1064", "code": "        \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1065", "code": "    fromxml = from_xml\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "1066", "code": "        \n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "1067", "code": "    def nltk_tree(self):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1068", "code": "        \"\"\" The sentence as an nltk.tree object.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1069", "code": "        \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1070", "code": "        return nltk_tree(self)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1071", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "R", "line": "1072", "code": "class Slice(Sentence):\n", "colour": "green", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1073", "code": "    \n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "1074", "code": "    def __init__(self, *args, **kwargs):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1075", "code": "        \"\"\" A portion of the sentence returned by Sentence.slice().\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1076", "code": "        \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1077", "code": "        self._start = kwargs.pop(\"start\", 0)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1078", "code": "        Sentence.__init__(self, *args, **kwargs)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "1079", "code": "    \n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "1080", "code": "    @property\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1081", "code": "    def start(self):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1082", "code": "        return self._start\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "1083", "code": "        \n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "1084", "code": "    @property\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1085", "code": "    def stop(self):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1086", "code": "        return self._start + len(self.words)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1087", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1088", "code": "#---------------------------------------------------------------------------------------------------\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "1089", "code": "# s = Sentence(parse(\"black cats and white dogs\"))\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "1090", "code": "# s.words          => [Word('black/JJ'), Word('cats/NNS'), Word('and/CC'), Word('white/JJ'), Word('dogs/NNS')]\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "1091", "code": "# s.chunks         => [Chunk('black cats/NP'), Chunk('white dogs/NP')]\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "1092", "code": "# s.constituents() => [Chunk('black cats/NP'), Word('and/CC'), Chunk('white dogs/NP')]\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "1093", "code": "# s.chunked(s)     => [Chunk('black cats/NP'), Chink('and/O'), Chunk('white dogs/NP')]\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "1094", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1095", "code": "def chunked(sentence):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1096", "code": "    \"\"\" Returns a list of Chunk and Chink objects from the given sentence.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1097", "code": "        Chink is a subclass of Chunk used for words that have Word.chunk == None\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1098", "code": "        (e.g., punctuation marks, conjunctions).\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1099", "code": "    \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1100", "code": "    # For example, to construct a training vector with the head of previous chunks as a feature.\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "1101", "code": "    # Doing this with Sentence.chunks would discard the punctuation marks and conjunctions\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "1102", "code": "    # (Sentence.chunks only yields Chunk objects), which amy be useful features.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1103", "code": "    chunks = []\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1104", "code": "    for word in sentence:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1105", "code": "        if word.chunk is not None:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1106", "code": "            if len(chunks) == 0 or chunks[-1] != word.chunk:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1107", "code": "                chunks.append(word.chunk)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1108", "code": "        else:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1109", "code": "            ch = Chink(sentence)\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1110", "code": "            ch.append(word.copy(ch))\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1111", "code": "            chunks.append(ch)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1112", "code": "    return chunks\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1113", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1114", "code": "#--- TEXT ------------------------------------------------------------------------------------------\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "1115", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1116", "code": "class Text(list):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1117", "code": "    \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "W", "line": "1118", "code": "    def __init__(self, string, token=[WORD, POS, CHUNK, PNP, REL, ANCHOR, LEMMA], language=\"en\", encoding=\"utf-8\"):\n", "colour": "purple", "author": "tom@organisms.be"}, {"error": "none", "line": "1119", "code": "        \"\"\" A list of Sentence objects parsed from the given string.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1120", "code": "            The string is the Unicode return value from parse().\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1121", "code": "        \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1122", "code": "        self.encoding = encoding\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1123", "code": "        # Extract token format from TokenString if possible.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1124", "code": "        if _is_tokenstring(string):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1125", "code": "            token, language = string.tags, getattr(string, \"language\", language)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1126", "code": "        if string:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1127", "code": "            # From a string.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1128", "code": "            if isinstance(string, basestring):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1129", "code": "                string = string.splitlines()\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1130", "code": "            # From an iterable (e.g., string.splitlines(), open('parsed.txt')).\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1131", "code": "            self.extend(Sentence(s, token, language) for s in string)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "1132", "code": "    \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1133", "code": "    def insert(self, index, sentence):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1134", "code": "        list.insert(self, index, sentence)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1135", "code": "        sentence.text = self\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "1136", "code": "        \n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "1137", "code": "    def append(self, sentence):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1138", "code": "        list.append(self, sentence)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1139", "code": "        sentence.text = self\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "1140", "code": "        \n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "1141", "code": "    def extend(self, sentences):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1142", "code": "        list.extend(self, sentences)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "1143", "code": "        for s in sentences:\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1144", "code": "            s.text = self\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "1145", "code": "            \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1146", "code": "    def remove(self, sentence):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1147", "code": "        list.remove(self, sentence)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1148", "code": "        sentence.text = None\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1149", "code": "        \n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "1150", "code": "    def pop(self, index):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1151", "code": "        sentence = list.pop(self, index)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1152", "code": "        sentence.text = None\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1153", "code": "        return sentence\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1154", "code": "    \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1155", "code": "    @property\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1156", "code": "    def sentences(self):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1157", "code": "        return list(self)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1158", "code": "        \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1159", "code": "    @property\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "1160", "code": "    def words(self):\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "W", "line": "1161", "code": "        return list(chain(*self))\n", "colour": "purple", "author": "tom@organisms.be"}, {"error": "C", "line": "1162", "code": "        \n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "1163", "code": "    def copy(self):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1164", "code": "        t = Text(\"\", encoding=self.encoding)\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1165", "code": "        for sentence in self:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1166", "code": "            t.append(sentence.copy())\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1167", "code": "        return t\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1168", "code": "    \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1169", "code": "    # Text.string and unicode(Text) are Unicode strings.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1170", "code": "    @property\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1171", "code": "    def string(self):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1172", "code": "        return u\"\\n\".join(sentence.string for sentence in self)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "1173", "code": "        \n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "1174", "code": "    def __unicode__(self):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1175", "code": "        return self.string\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1176", "code": "        \n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "1177", "code": "    #def __repr__(self):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1178", "code": "    #    return \"\\n\".join([repr(sentence) for sentence in self])\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1179", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1180", "code": "    @property\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1181", "code": "    def xml(self):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1182", "code": "        \"\"\" Yields the sentence as an XML-formatted string (plain bytestring, UTF-8 encoded).\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "1183", "code": "            All the sentences in the XML are wrapped in a <text> element.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1184", "code": "        \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "W", "line": "1185", "code": "        xml = []\n", "colour": "purple", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1186", "code": "        xml.append('<?xml version=\"1.0\" encoding=\"%s\"?>' % XML_ENCODING.get(self.encoding, self.encoding))\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1187", "code": "        xml.append(\"<%s>\" % XML_TEXT)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1188", "code": "        xml.extend([sentence.xml for sentence in self])\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1189", "code": "        xml.append(\"</%s>\" % XML_TEXT)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1190", "code": "        return \"\\n\".join(xml)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1191", "code": "        \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1192", "code": "    @classmethod\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "W", "line": "1193", "code": "    def from_xml(cls, xml):\n", "colour": "purple", "author": "tom@organisms.be"}, {"error": "none", "line": "1194", "code": "        \"\"\" Returns a new Text from the given XML string.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1195", "code": "        \"\"\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1196", "code": "        return Text(parse_string(xml))\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1197", "code": "        \n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "1198", "code": "    fromxml = from_xml\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1199", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1200", "code": "Tree = Text\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1201", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "W", "line": "1202", "code": "def tree(string, token=[WORD, POS, CHUNK, PNP, REL, ANCHOR, LEMMA]):\n", "colour": "purple", "author": "tom@organisms.be"}, {"error": "none", "line": "1203", "code": "    \"\"\" Transforms the output of parse() into a Text object.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "1204", "code": "        The token parameter lists the order of tags in each token in the input string.\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1205", "code": "    \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1206", "code": "    return Text(string, token)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1207", "code": "    \n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "1208", "code": "split = tree # Backwards compatibility.\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "1209", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "W", "line": "1210", "code": "def xml(string, token=[WORD, POS, CHUNK, PNP, REL, ANCHOR, LEMMA]):\n", "colour": "purple", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1211", "code": "    \"\"\" Transforms the output of parse() into XML.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "1212", "code": "        The token parameter lists the order of tags in each token in the input string.\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1213", "code": "    \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1214", "code": "    return Text(string, token).xml\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1215", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1216", "code": "### XML ############################################################################################\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "1217", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1218", "code": "# Elements:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1219", "code": "XML_TEXT     = \"text\"     # <text>, corresponds to Text object.\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1220", "code": "XML_SENTENCE = \"sentence\" # <sentence>, corresponds to Sentence object.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1221", "code": "XML_CHINK    = \"chink\"    # <chink>, where word.chunk.type=None.\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1222", "code": "XML_CHUNK    = \"chunk\"    # <chunk>, corresponds to Chunk object.\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1223", "code": "XML_PNP      = \"chunk\"    # <chunk type=\"PNP\">, corresponds to PNP chunk object.\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1224", "code": "XML_WORD     = \"word\"     # <word>, corresponds to Word object\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1225", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1226", "code": "# Attributes:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1227", "code": "XML_LANGUAGE = \"language\" # <sentence language=\"\">, defines the language used.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "1228", "code": "XML_TOKEN    = \"token\"    # <sentence token=\"\">, defines the order of tags in a token.\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1229", "code": "XML_TYPE     = \"type\"     # <word type=\"\">, <chunk type=\"\">\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1230", "code": "XML_RELATION = \"relation\" # <chunk relation=\"\">\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1231", "code": "XML_ID       = \"id\"       # <chunk id=\"\">\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1232", "code": "XML_OF       = \"of\"       # <chunk of=\"\"> corresponds to id-attribute.\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1233", "code": "XML_ANCHOR   = \"anchor\"   # <chunk anchor=\"\"> corresponds to id-attribute.\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1234", "code": "XML_LEMMA    = \"lemma\"    # <word lemma=\"\">\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1235", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1236", "code": "XML_ENCODING = {\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1237", "code": "            'utf8' : 'UTF-8', \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1238", "code": "           'utf-8' : 'UTF-8', \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1239", "code": "           'utf16' : 'UTF-16', \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1240", "code": "          'utf-16' : 'UTF-16',\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1241", "code": "           'latin' : 'ISO-8859-1', \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1242", "code": "          'latin1' : 'ISO-8859-1', \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1243", "code": "         'latin-1' : 'ISO-8859-1', \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1244", "code": "          'cp1252' : 'windows-1252', \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1245", "code": "    'windows-1252' : 'windows-1252'\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1246", "code": "}\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1247", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1248", "code": "def xml_encode(string):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1249", "code": "    \"\"\" Returns the string with XML-safe special characters.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1250", "code": "    \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1251", "code": "    string = string.replace(\"&\", \"&amp;\")\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1252", "code": "    string = string.replace(\"<\", \"&lt;\")\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1253", "code": "    string = string.replace(\">\", \"&gt;\")\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1254", "code": "    string = string.replace(\"\\\"\",\"&quot;\")\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1255", "code": "    string = string.replace(SLASH, \"/\")\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1256", "code": "    return string\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1257", "code": "    \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1258", "code": "def xml_decode(string):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1259", "code": "    \"\"\" Returns the string with special characters decoded.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1260", "code": "    \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1261", "code": "    string = string.replace(\"&amp;\", \"&\")\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1262", "code": "    string = string.replace(\"&lt;\",  \"<\")\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1263", "code": "    string = string.replace(\"&gt;\",  \">\")\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1264", "code": "    string = string.replace(\"&quot;\",\"\\\"\")\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1265", "code": "    string = string.replace(\"/\", SLASH)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1266", "code": "    return string\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1267", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1268", "code": "#--- SENTENCE TO XML -------------------------------------------------------------------------------\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "1269", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1270", "code": "# Relation id's in the XML output are relative to the sentence id,\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1271", "code": "# so relation 1 in sentence 2 = \"2.1\".\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1272", "code": "_UID_SEPARATOR = \".\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1273", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "R", "line": "1274", "code": "def parse_xml(sentence, tab=\"\\t\", id=\"\"):\n", "colour": "green", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1275", "code": "    \"\"\" Returns the given Sentence object as an XML-string (plain bytestring, UTF-8 encoded).\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "1276", "code": "        The tab delimiter is used as indendation for nested elements.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1277", "code": "        The id can be used as a unique identifier per sentence for chunk id's and anchors.\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1278", "code": "        For example: \"I eat pizza with a fork.\" =>\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1279", "code": "        \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1280", "code": "        <sentence token=\"word, part-of-speech, chunk, preposition, relation, anchor, lemma\" language=\"en\">\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "1281", "code": "            <chunk type=\"NP\" relation=\"SBJ\" of=\"1\">\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1282", "code": "                <word type=\"PRP\" lemma=\"i\">I</word>\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1283", "code": "            </chunk>\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1284", "code": "            <chunk type=\"VP\" relation=\"VP\" id=\"1\" anchor=\"A1\">\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1285", "code": "                <word type=\"VBP\" lemma=\"eat\">eat</word>\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1286", "code": "            </chunk>\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1287", "code": "            <chunk type=\"NP\" relation=\"OBJ\" of=\"1\">\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1288", "code": "                <word type=\"NN\" lemma=\"pizza\">pizza</word>\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1289", "code": "            </chunk>\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1290", "code": "            <chunk type=\"PNP\" of=\"A1\">\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1291", "code": "                <chunk type=\"PP\">\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1292", "code": "                    <word type=\"IN\" lemma=\"with\">with</word>\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1293", "code": "                </chunk>\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1294", "code": "                <chunk type=\"NP\">\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1295", "code": "                    <word type=\"DT\" lemma=\"a\">a</word>\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1296", "code": "                    <word type=\"NN\" lemma=\"fork\">fork</word>\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1297", "code": "                </chunk>\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1298", "code": "            </chunk>\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1299", "code": "            <chink>\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1300", "code": "                <word type=\".\" lemma=\".\">.</word>\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1301", "code": "            </chink>\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1302", "code": "        </sentence>\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1303", "code": "    \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1304", "code": "    uid  = lambda *parts: \"\".join([str(id), _UID_SEPARATOR ]+[str(x) for x in parts]).lstrip(_UID_SEPARATOR)\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1305", "code": "    push = lambda indent: indent+tab         # push() increases the indentation.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1306", "code": "    pop  = lambda indent: indent[:-len(tab)] # pop() decreases the indentation.\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1307", "code": "    indent = tab\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "W", "line": "1308", "code": "    xml = []\n", "colour": "purple", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1309", "code": "    # Start the sentence element:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1310", "code": "    # <sentence token=\"word, part-of-speech, chunk, preposition, relation, anchor, lemma\">\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1311", "code": "    xml.append('<%s%s %s=\"%s\" %s=\"%s\">' % (\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1312", "code": "        XML_SENTENCE,\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1313", "code": "        XML_ID and \" %s=\\\"%s\\\"\" % (XML_ID, str(id)) or \"\",\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1314", "code": "        XML_TOKEN, \", \".join(sentence.token),\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1315", "code": "        XML_LANGUAGE, sentence.language\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1316", "code": "    ))\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1317", "code": "    # Collect chunks that are PNP anchors and assign id.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1318", "code": "    anchors = {}\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1319", "code": "    for chunk in sentence.chunks:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1320", "code": "        if chunk.attachments:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1321", "code": "            anchors[chunk.start] = len(anchors) + 1\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1322", "code": "    # Traverse all words in the sentence.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1323", "code": "    for word in sentence.words:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1324", "code": "        chunk = word.chunk\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1325", "code": "        pnp   = word.chunk and word.chunk.pnp or None\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1326", "code": "        # Start the PNP element if the chunk is the first chunk in PNP:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1327", "code": "        # <chunk type=\"PNP\" of=\"A1\">\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1328", "code": "        if pnp and pnp.start == chunk.start:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1329", "code": "            a = pnp.anchor and ' %s=\"%s\"' % (XML_OF, uid(\"A\", anchors.get(pnp.anchor.start, \"\"))) or \"\"\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1330", "code": "            xml.append(indent + '<%s %s=\"PNP\"%s>' % (XML_CHUNK, XML_TYPE, a))\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1331", "code": "            indent = push(indent)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1332", "code": "        # Start the chunk element if the word is the first word in the chunk:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1333", "code": "        # <chunk type=\"VP\" relation=\"VP\" id=\"1\" anchor=\"A1\">\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1334", "code": "        if chunk and chunk.start == word.index:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1335", "code": "            if chunk.relations:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1336", "code": "                # Create the shortest possible attribute values for multiple relations, \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1337", "code": "                # e.g., [(1,\"OBJ\"),(2,\"OBJ\")]) => relation=\"OBJ\" id=\"1|2\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "1338", "code": "                r1 = unzip(0, chunk.relations) # Relation id's.\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1339", "code": "                r2 = unzip(1, chunk.relations) # Relation roles.\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1340", "code": "                r1 = [x is None and \"-\" or uid(x) for x in r1]\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1341", "code": "                r2 = [x is None and \"-\" or x for x in r2]\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1342", "code": "                r1 = not len(unique(r1)) == 1 and \"|\".join(r1) or (r1+[None])[0]\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1343", "code": "                r2 = not len(unique(r2)) == 1 and \"|\".join(r2) or (r2+[None])[0]\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1344", "code": "            xml.append(indent + '<%s%s%s%s%s%s>' % (\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1345", "code": "                XML_CHUNK,\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1346", "code": "                chunk.type and ' %s=\"%s\"' % (XML_TYPE, chunk.type) or \"\",\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1347", "code": "                chunk.relations and chunk.role != None and ' %s=\"%s\"' % (XML_RELATION, r2) or \"\",\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1348", "code": "                chunk.relation  and chunk.type == \"VP\" and ' %s=\"%s\"' % (XML_ID, uid(chunk.relation)) or \"\",\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1349", "code": "                chunk.relation  and chunk.type != \"VP\" and ' %s=\"%s\"' % (XML_OF, r1) or \"\",\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1350", "code": "                chunk.attachments and ' %s=\"%s\"' % (XML_ANCHOR, uid(\"A\",anchors[chunk.start])) or \"\"\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1351", "code": "            ))\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1352", "code": "            indent = push(indent)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1353", "code": "        # Words outside of a chunk are wrapped in a <chink> tag:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1354", "code": "        # <chink>\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1355", "code": "        if not chunk:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1356", "code": "            xml.append(indent + '<%s>' % XML_CHINK)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1357", "code": "            indent = push(indent)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1358", "code": "        # Add the word element:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1359", "code": "        # <word type=\"VBP\" lemma=\"eat\">eat</word>\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1360", "code": "        xml.append(indent + '<%s%s%s%s>%s</%s>' % (\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1361", "code": "            XML_WORD,\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1362", "code": "            word.type and ' %s=\"%s\"' % (XML_TYPE, xml_encode(word.type)) or '',\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1363", "code": "            word.lemma and ' %s=\"%s\"' % (XML_LEMMA, xml_encode(word.lemma)) or '',\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1364", "code": "            (\" \"+\" \".join(['%s=\"%s\"' % (k,v) for k,v in word.custom_tags.items() if v != None])).rstrip(),\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1365", "code": "            xml_encode(unicode(word)),\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1366", "code": "            XML_WORD\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1367", "code": "        ))\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1368", "code": "        if not chunk:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1369", "code": "            # Close the <chink> element if outside of a chunk.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1370", "code": "            indent = pop(indent); xml.append(indent + \"</%s>\" % XML_CHINK)\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1371", "code": "        if chunk and chunk.stop-1 == word.index:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1372", "code": "            # Close the <chunk> element if this is the last word in the chunk.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1373", "code": "            indent = pop(indent); xml.append(indent + \"</%s>\" % XML_CHUNK)\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1374", "code": "        if pnp and pnp.stop-1 == word.index:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1375", "code": "            # Close the PNP element if this is the last word in the PNP.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1376", "code": "            indent = pop(indent); xml.append(indent + \"</%s>\" % XML_CHUNK)\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1377", "code": "    xml.append(\"</%s>\" % XML_SENTENCE)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1378", "code": "    # Return as a plain str.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1379", "code": "    return \"\\n\".join(xml).encode(\"utf-8\")\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1380", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1381", "code": "#--- XML TO SENTENCE(S) ----------------------------------------------------------------------------\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "1382", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1383", "code": "# Classes XML and XMLNode provide an abstract interface to cElementTree.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1384", "code": "# The advantage is that we can switch to a faster parser in the future\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1385", "code": "# (as we did when switching from xml.dom.minidom to xml.etree).\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "1386", "code": "# cElemenTree is fast; but the fastest way is to simply store and reload the parsed Unicode string.\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "1387", "code": "# The disadvantage is that we need to remember the token format, see (1) below:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1388", "code": "# s = \"...\"\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1389", "code": "# s = parse(s, lemmata=True)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1390", "code": "# open(\"parsed.txt\",  \"w\", encoding=\"utf-8\").write(s)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1391", "code": "# s = open(\"parsed.txt\", encoding=\"utf-8\")\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1392", "code": "# s = Text(s, token=[WORD, POS, CHUNK, PNP, LEMMA]) # (1)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1393", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "R", "line": "1394", "code": "class XML(object):\n", "colour": "green", "author": "tom@organisms.be"}, {"error": "none", "line": "1395", "code": "    def __init__(self, string):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1396", "code": "        from xml.etree import cElementTree\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1397", "code": "        self.root = cElementTree.fromstring(string)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1398", "code": "    def __call__(self, tag):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1399", "code": "        return [XMLNode(e) for e in self.root.findall(tag)]\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1400", "code": "\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "1401", "code": "class XMLNode(object):\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "1402", "code": "    def __init__(self, element):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1403", "code": "        self.element = element\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1404", "code": "    @property\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "1405", "code": "    def tag(self):\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "1406", "code": "        return self.element.tag\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1407", "code": "    @property\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "1408", "code": "    def value(self):\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "1409", "code": "        return self.element.text\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1410", "code": "    def __iter__(self):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1411", "code": "        return iter(XMLNode(e) for e in self.element)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1412", "code": "    def __getitem__(self, k):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1413", "code": "        return self.element.attrib[k]\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "1414", "code": "    def get(self, k, default=\"\"):\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "1415", "code": "        return self.element.attrib.get(k, default)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1416", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1417", "code": "# The structure of linked anchor chunks and PNP attachments\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1418", "code": "# is collected from _parse_token() calls.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1419", "code": "_anchors     = {} # {u'A1': [[u'eat', u'VBP', u'B-VP', 'O', u'VP-1', 'O', u'eat', 'O']]}\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1420", "code": "_attachments = {} # {u'A1': [[[u'with', u'IN', u'B-PP', 'B-PNP', u'PP', 'O', u'with', 'O'], \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1421", "code": "                  #           [u'a', u'DT', u'B-NP', 'I-PNP', u'NP', 'O', u'a', 'O'], \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1422", "code": "                  #           [u'fork', u'NN', u'I-NP', 'I-PNP', u'NP', 'O', u'fork', 'O']]]}\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1423", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1424", "code": "# This is a fallback if for some reason we fail to import MBSP.TokenString,\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1425", "code": "# e.g., when tree.py is part of another project.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "R", "line": "1426", "code": "class TaggedString(unicode):\n", "colour": "green", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "W", "line": "1427", "code": "    def __new__(cls, string, tags=[\"word\"], language=\"en\"):\n", "colour": "purple", "author": "tom@organisms.be"}, {"error": "C", "line": "1428", "code": "        if isinstance(string, unicode) and hasattr(string, \"tags\"): \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1429", "code": "            tags, language = string.tags, getattr(string, \"language\", language)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "1430", "code": "        s = unicode.__new__(cls, string)\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "1431", "code": "        s.tags = list(tags)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1432", "code": "        s.language = language\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1433", "code": "        return s\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1434", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "R", "line": "1435", "code": "def parse_string(xml):\n", "colour": "green", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1436", "code": "    \"\"\" Returns a slash-formatted string from the given XML representation.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1437", "code": "        The return value is a TokenString (for MBSP) or TaggedString (for Pattern).\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "1438", "code": "    \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1439", "code": "    string = \"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1440", "code": "    # Traverse all the <sentence> elements in the XML.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1441", "code": "    dom = XML(xml)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1442", "code": "    for sentence in dom(XML_SENTENCE):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1443", "code": "        _anchors.clear()     # Populated by calling _parse_tokens().\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1444", "code": "        _attachments.clear() # Populated by calling _parse_tokens().\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1445", "code": "        # Parse the language from <sentence language=\"\">.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1446", "code": "        language = sentence.get(XML_LANGUAGE, \"en\")\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1447", "code": "        # Parse the token tag format from <sentence token=\"\">.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1448", "code": "        # This information is returned in TokenString.tags,\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1449", "code": "        # so the format and order of the token tags is retained when exporting/importing as XML.\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "W", "line": "1450", "code": "        format = sentence.get(XML_TOKEN, [WORD, POS, CHUNK, PNP, REL, ANCHOR, LEMMA])\n", "colour": "purple", "author": "tom@organisms.be"}, {"error": "C", "line": "1451", "code": "        format = not isinstance(format, basestring) and format or format.replace(\" \",\"\").split(\",\")\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1452", "code": "        # Traverse all <chunk> and <chink> elements in the sentence.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1453", "code": "        # Find the <word> elements inside and create tokens.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1454", "code": "        tokens = []\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1455", "code": "        for chunk in sentence:\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1456", "code": "            tokens.extend(_parse_tokens(chunk, format))\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1457", "code": "        # Attach PNP's to their anchors.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1458", "code": "        # Keys in _anchors have linked anchor chunks (each chunk is a list of tokens).\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1459", "code": "        # The keys correspond to the keys in _attachments, which have linked PNP chunks.\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1460", "code": "        if ANCHOR in format:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1461", "code": "            A, P, a, i = _anchors, _attachments, 1, format.index(ANCHOR)\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1462", "code": "            for id in sorted(A.keys()):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1463", "code": "                for token in A[id]:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1464", "code": "                    token[i] += \"-\"+\"-\".join([\"A\"+str(a+p) for p in range(len(P[id]))])\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1465", "code": "                    token[i]  = token[i].strip(\"O-\")\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1466", "code": "                for p, pnp in enumerate(P[id]):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1467", "code": "                    for token in pnp: \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1468", "code": "                        token[i] += \"-\"+\"P\"+str(a+p)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1469", "code": "                        token[i]  = token[i].strip(\"O-\")\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1470", "code": "                a += len(P[id])\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1471", "code": "        # Collapse the tokens to string.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1472", "code": "        # Separate multiple sentences with a new line.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1473", "code": "        tokens = [\"/\".join([tag for tag in token]) for token in tokens]\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1474", "code": "        tokens = \" \".join(tokens)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1475", "code": "        string += tokens + \"\\n\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1476", "code": "    # Return a TokenString, which is a unicode string that transforms easily\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1477", "code": "    # into a plain str, a list of tokens, or a Sentence.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1478", "code": "    try:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "F", "line": "1479", "code": "        if MBSP: from mbsp import TokenString\n", "colour": "red", "author": "tom@organisms.be"}, {"error": "none", "line": "1480", "code": "        return TokenString(string.strip(), tags=format, language=language)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "W", "line": "1481", "code": "    except:\n", "colour": "purple", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1482", "code": "        return TaggedString(string.strip(), tags=format, language=language)\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1483", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "W", "line": "1484", "code": "def _parse_tokens(chunk, format=[WORD, POS, CHUNK, PNP, REL, ANCHOR, LEMMA]):\n", "colour": "purple", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1485", "code": "    \"\"\" Parses tokens from <word> elements in the given XML <chunk> element.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1486", "code": "        Returns a flat list of tokens, in which each token is [WORD, POS, CHUNK, PNP, RELATION, ANCHOR, LEMMA].\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1487", "code": "        If a <chunk type=\"PNP\"> is encountered, traverses all of the chunks in the PNP.\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1488", "code": "    \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1489", "code": "    tokens = []\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1490", "code": "    # Only process <chunk> and <chink> elements, \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1491", "code": "    # text nodes in between return an empty list.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1492", "code": "    if not (chunk.tag == XML_CHUNK or chunk.tag == XML_CHINK):\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1493", "code": "        return []\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "W", "line": "1494", "code": "    type = chunk.get(XML_TYPE, \"O\")\n", "colour": "purple", "author": "tom@organisms.be"}, {"error": "none", "line": "1495", "code": "    if type == \"PNP\":\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1496", "code": "        # For, <chunk type=\"PNP\">, recurse all the child chunks inside the PNP.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1497", "code": "        for ch in chunk:\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "1498", "code": "            tokens.extend(_parse_tokens(ch, format))\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1499", "code": "        # Tag each of them as part of the PNP.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1500", "code": "        if PNP in format:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1501", "code": "            i = format.index(PNP)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1502", "code": "            for j, token in enumerate(tokens):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1503", "code": "                token[i] = (j==0 and \"B-\" or \"I-\") + \"PNP\"\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1504", "code": "        # Store attachments so we can construct anchor id's in parse_string().\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1505", "code": "        # This has to be done at the end, when all the chunks have been found.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1506", "code": "        a = chunk.get(XML_OF).split(_UID_SEPARATOR)[-1]\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "1507", "code": "        if a:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1508", "code": "            _attachments.setdefault(a, [])\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1509", "code": "            _attachments[a].append(tokens)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1510", "code": "        return tokens\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1511", "code": "    # For <chunk type-\"VP\" id=\"1\">, the relation is VP-1.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1512", "code": "    # For <chunk type=\"NP\" relation=\"OBJ\" of=\"1\">, the relation is NP-OBJ-1.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1513", "code": "    relation = _parse_relation(chunk, type)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1514", "code": "    # Process all of the <word> elements in the chunk, for example:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1515", "code": "    # <word type=\"NN\" lemma=\"pizza\">pizza</word> => [pizza, NN, I-NP, O, NP-OBJ-1, O, pizza]\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "W", "line": "1516", "code": "    for word in filter(lambda n: n.tag == XML_WORD, chunk):\n", "colour": "purple", "author": "tom@organisms.be"}, {"error": "C", "line": "1517", "code": "        tokens.append(_parse_token(word, chunk=type, relation=relation, format=format))\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1518", "code": "    # Add the IOB chunk tags:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1519", "code": "    # words at the start of a chunk are marked with B-, words inside with I-.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1520", "code": "    if CHUNK in format:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1521", "code": "        i = format.index(CHUNK)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1522", "code": "        for j, token in enumerate(tokens):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1523", "code": "            token[i] = token[i] != \"O\" and ((j==0 and \"B-\" or \"I-\") + token[i]) or \"O\"\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1524", "code": "    # The chunk can be the anchor of one or more PNP chunks.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1525", "code": "    # Store anchors so we can construct anchor id's in parse_string().\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1526", "code": "    a = chunk.get(XML_ANCHOR, \"\").split(_UID_SEPARATOR)[-1]\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "1527", "code": "    if a: \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1528", "code": "        _anchors[a] = tokens\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1529", "code": "    return tokens\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1530", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "W", "line": "1531", "code": "def _parse_relation(chunk, type=\"O\"):\n", "colour": "purple", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1532", "code": "    \"\"\" Returns a string of the roles and relations parsed from the given <chunk> element.\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1533", "code": "        The chunk type (which is part of the relation string) can be given as parameter.\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1534", "code": "    \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1535", "code": "    r1 = chunk.get(XML_RELATION)\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "1536", "code": "    r2 = chunk.get(XML_ID, chunk.get(XML_OF))\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "1537", "code": "    r1 = [x != \"-\" and x or None for x in r1.split(\"|\")] or [None]\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1538", "code": "    r2 = [x != \"-\" and x or None for x in r2.split(\"|\")] or [None]\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1539", "code": "    r2 = [x is not None and x.split(_UID_SEPARATOR )[-1] or x for x in r2]\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1540", "code": "    if len(r1) < len(r2): r1 = r1 + r1 * (len(r2)-len(r1)) # [1] [\"SBJ\", \"OBJ\"] => \"SBJ-1;OBJ-1\"\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1541", "code": "    if len(r2) < len(r1): r2 = r2 + r2 * (len(r1)-len(r2)) # [2,4] [\"OBJ\"] => \"OBJ-2;OBJ-4\"\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1542", "code": "    return \";\".join([\"-\".join([x for x in (type, r1, r2) if x]) for r1, r2 in zip(r1, r2)])    \n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "1543", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "R", "line": "1544", "code": "def _parse_token(word, chunk=\"O\", pnp=\"O\", relation=\"O\", anchor=\"O\", \n", "colour": "green", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "W", "line": "1545", "code": "                 format=[WORD, POS, CHUNK, PNP, REL, ANCHOR, LEMMA]):\n", "colour": "purple", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1546", "code": "    \"\"\" Returns a list of token tags parsed from the given <word> element.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1547", "code": "        Tags that are not attributes in a <word> (e.g., relation) can be given as parameters.\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "1548", "code": "    \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1549", "code": "    tags = []\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1550", "code": "    for tag in format:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1551", "code": "        if   tag == WORD   : tags.append(xml_decode(word.value))\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "1552", "code": "        elif tag == POS    : tags.append(xml_decode(word.get(XML_TYPE, \"O\")))\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "C", "line": "1553", "code": "        elif tag == CHUNK  : tags.append(chunk)\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1554", "code": "        elif tag == PNP    : tags.append(pnp)\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1555", "code": "        elif tag == REL    : tags.append(relation)\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1556", "code": "        elif tag == ANCHOR : tags.append(anchor)\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1557", "code": "        elif tag == LEMMA  : tags.append(xml_decode(word.get(XML_LEMMA, \"\")))\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "1558", "code": "        else:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1559", "code": "            # Custom tags when the parser has been extended, see also Word.custom_tags{}.\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "1560", "code": "            tags.append(xml_decode(word.get(tag, \"O\")))\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "none", "line": "1561", "code": "    return tags\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1562", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1563", "code": "### NLTK TREE ######################################################################################\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "1564", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1565", "code": "def nltk_tree(sentence):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1566", "code": "    \"\"\" Returns an NLTK nltk.tree.Tree object from the given Sentence.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1567", "code": "        The NLTK module should be on the search path somewhere.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1568", "code": "    \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "F", "line": "1569", "code": "    from nltk import tree\n", "colour": "red", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1570", "code": "    def do_pnp(pnp):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1571", "code": "        # Returns the PNPChunk (and the contained Chunk objects) in NLTK bracket format.\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1572", "code": "        s = ' '.join([do_chunk(ch) for ch in pnp.chunks])\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1573", "code": "        return '(PNP %s)' % s\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1574", "code": "    \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1575", "code": "    def do_chunk(ch):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1576", "code": "        # Returns the Chunk in NLTK bracket format. Recurse attached PNP's.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1577", "code": "        s = ' '.join(['(%s %s)' % (w.pos, w.string) for w in ch.words])\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1578", "code": "        s+= ' '.join([do_pnp(pnp) for pnp in ch.attachments])\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1579", "code": "        return '(%s %s)' % (ch.type, s)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1580", "code": "    \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1581", "code": "    T = ['(S']\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1582", "code": "    v = [] # PNP's already visited.\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1583", "code": "    for ch in sentence.chunked():\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1584", "code": "        if not ch.pnp and isinstance(ch, Chink):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1585", "code": "            T.append('(%s %s)' % (ch.words[0].pos, ch.words[0].string))\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1586", "code": "        elif not ch.pnp:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1587", "code": "            T.append(do_chunk(ch))\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1588", "code": "        #elif ch.pnp not in v:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1589", "code": "        elif ch.pnp.anchor is None and ch.pnp not in v:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1590", "code": "            # The chunk is part of a PNP without an anchor.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1591", "code": "            T.append(do_pnp(ch.pnp))\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1592", "code": "            v.append(ch.pnp)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1593", "code": "    T.append(')')\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1594", "code": "    return tree.bracket_parse(' '.join(T))\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1595", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1596", "code": "### GRAPHVIZ DOT ###################################################################################\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "1597", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1598", "code": "BLUE = {\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1599", "code": "       '' : (\"#f0f5ff\", \"#000000\"),\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1600", "code": "     'VP' : (\"#e6f0ff\", \"#000000\"),\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1601", "code": "    'SBJ' : (\"#64788c\", \"#ffffff\"),\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1602", "code": "    'OBJ' : (\"#64788c\", \"#ffffff\"),\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1603", "code": "}\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1604", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1605", "code": "def _colorize(x, colors):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1606", "code": "    s = ''\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1607", "code": "    if isinstance(x, Word):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1608", "code": "        x = x.chunk\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1609", "code": "    if isinstance(x, Chunk):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1610", "code": "        s = ',style=filled, fillcolor=\"%s\", fontcolor=\"%s\"' % ( \\\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1611", "code": "            colors.get(x.role) or \\\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1612", "code": "            colors.get(x.type) or \\\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1613", "code": "            colors.get('') or (\"none\", \"black\"))\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1614", "code": "    return s\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1615", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "R", "line": "1616", "code": "def graphviz_dot(sentence, font=\"Arial\", colors=BLUE):\n", "colour": "green", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1617", "code": "    \"\"\" Returns a dot-formatted string that can be visualized as a graph in GraphViz.\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1618", "code": "    \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1619", "code": "    s  = 'digraph sentence {\\n'\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1620", "code": "    s += '\\tranksep=0.75;\\n'\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1621", "code": "    s += '\\tnodesep=0.15;\\n'\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1622", "code": "    s += '\\tnode [penwidth=1, fontname=\"%s\", shape=record, margin=0.1, height=0.35];\\n' % font\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1623", "code": "    s += '\\tedge [penwidth=1];\\n'\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1624", "code": "    s += '\\t{ rank=same;\\n'\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1625", "code": "    # Create node groups for words, chunks and PNP chunks.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1626", "code": "    for w in sentence.words:\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1627", "code": "        s += '\\t\\tword%s [label=\"<f0>%s|<f1>%s\"%s];\\n' % (w.index, w.string, w.type, _colorize(w, colors))\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1628", "code": "    for w in sentence.words[:-1]:\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1629", "code": "        # Invisible edges forces the words into the right order:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1630", "code": "        s += '\\t\\tword%s -> word%s [color=none];\\n' % (w.index, w.index+1)\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1631", "code": "    s += '\\t}\\n'\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1632", "code": "    s += '\\t{ rank=same;\\n'        \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1633", "code": "    for i, ch in enumerate(sentence.chunks):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1634", "code": "        s += '\\t\\tchunk%s [label=\"<f0>%s\"%s];\\n' % (i+1, \"-\".join([x for x in (\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1635", "code": "            ch.type, ch.role, str(ch.relation or '')) if x]) or '-', _colorize(ch, colors))\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1636", "code": "    for i, ch in enumerate(sentence.chunks[:-1]):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1637", "code": "        # Invisible edges forces the chunks into the right order:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1638", "code": "        s += '\\t\\tchunk%s -> chunk%s [color=none];\\n' % (i+1, i+2)\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1639", "code": "    s += '}\\n'\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1640", "code": "    s += '\\t{ rank=same;\\n'\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1641", "code": "    for i, ch in enumerate(sentence.pnp):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1642", "code": "        s += '\\t\\tpnp%s [label=\"<f0>PNP\"%s];\\n' % (i+1, _colorize(ch, colors))\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1643", "code": "    s += '\\t}\\n'\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1644", "code": "    s += '\\t{ rank=same;\\n S [shape=circle, margin=0.25, penwidth=2]; }\\n'\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1645", "code": "    # Connect words to chunks.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1646", "code": "    # Connect chunks to PNP or S.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1647", "code": "    for i, ch in enumerate(sentence.chunks):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1648", "code": "        for w in ch:\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1649", "code": "            s += '\\tword%s -> chunk%s;\\n' % (w.index, i+1)\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1650", "code": "        if ch.pnp:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1651", "code": "            s += '\\tchunk%s -> pnp%s;\\n' % (i+1, sentence.pnp.index(ch.pnp)+1)\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1652", "code": "        else:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1653", "code": "            s += '\\tchunk%s -> S;\\n' % (i+1)\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1654", "code": "        if ch.type == 'VP':\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1655", "code": "            # Indicate related chunks with a dotted\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1656", "code": "            for r in ch.related:\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1657", "code": "                s += '\\tchunk%s -> chunk%s [style=dotted, arrowhead=none];\\n' % (\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1658", "code": "                    i+1, sentence.chunks.index(r)+1)\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1659", "code": "    # Connect PNP to anchor chunk or S.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1660", "code": "    for i, ch in enumerate(sentence.pnp):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1661", "code": "        if ch.anchor:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1662", "code": "            s += '\\tpnp%s -> chunk%s;\\n' % (i+1, sentence.chunks.index(ch.anchor)+1)\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1663", "code": "            s += '\\tpnp%s -> S [color=none];\\n' % (i+1)\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1664", "code": "        else:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1665", "code": "            s += '\\tpnp%s -> S;\\n' % (i+1)\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1666", "code": "    s += \"}\"\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1667", "code": "    return s\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1668", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1669", "code": "### STDOUT TABLE ###################################################################################\n", "colour": "blue", "author": "tom@organisms.be"}, {"error": "none", "line": "1670", "code": "\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "R", "line": "1671", "code": "def table(sentence, fill=1, placeholder=\"-\"):\n", "colour": "green", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1672", "code": "    \"\"\" Returns a string where the tags of tokens in the sentence are organized in outlined columns.\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1673", "code": "    \"\"\"\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1674", "code": "    tags  = [WORD, POS, IOB, CHUNK, ROLE, REL, PNP, ANCHOR, LEMMA]\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1675", "code": "    tags += [tag for tag in sentence.token if tag not in tags]\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1676", "code": "    def format(token, tag):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1677", "code": "        # Returns the token tag as a string.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1678", "code": "        if   tag == WORD   : s = token.string\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1679", "code": "        elif tag == POS    : s = token.type\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1680", "code": "        elif tag == IOB    : s = token.chunk and (token.index == token.chunk.start and \"B\" or \"I\")\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1681", "code": "        elif tag == CHUNK  : s = token.chunk and token.chunk.type\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1682", "code": "        elif tag == ROLE   : s = token.chunk and token.chunk.role\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1683", "code": "        elif tag == REL    : s = token.chunk and token.chunk.relation and str(token.chunk.relation)\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1684", "code": "        elif tag == PNP    : s = token.chunk and token.chunk.pnp and token.chunk.pnp.type\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1685", "code": "        elif tag == ANCHOR : s = token.chunk and token.chunk.anchor_id\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1686", "code": "        elif tag == LEMMA  : s = token.lemma\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1687", "code": "        else               : s = token.custom_tags.get(tag)\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1688", "code": "        return s or placeholder\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1689", "code": "    def outline(column, fill=1, padding=3, align=\"left\"):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1690", "code": "        # Add spaces to each string in the column so they line out to the highest width.\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1691", "code": "        n = max([len(x) for x in column]+[fill])\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1692", "code": "        if align == \"left\"  : return [x+\" \"*(n-len(x))+\" \"*padding for x in column]\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1693", "code": "        if align == \"right\" : return [\" \"*(n-len(x))+x+\" \"*padding for x in column]\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1694", "code": "    \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1695", "code": "    # Gather the tags of the tokens in the sentece per column.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1696", "code": "    # If the IOB-tag is I-, mark the chunk tag with \"^\".\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1697", "code": "    # Add the tag names as headers in each column.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1698", "code": "    columns = [[format(token, tag) for token in sentence] for tag in tags]\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1699", "code": "    columns[3] = [columns[3][i]+(iob == \"I\" and \" ^\" or \"\") for i, iob in enumerate(columns[2])]\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1700", "code": "    del columns[2]\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1701", "code": "    for i, header in enumerate(['word', 'tag', 'chunk', 'role', 'id', 'pnp', 'anchor', 'lemma']+tags[9:]):\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1702", "code": "        columns[i].insert(0, \"\")\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1703", "code": "        columns[i].insert(0, header.upper())\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1704", "code": "    # The left column (the word itself) is outlined to the right,\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1705", "code": "    # and has extra spacing so that words across sentences line out nicely below each other.\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1706", "code": "    for i, column in enumerate(columns):\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1707", "code": "        columns[i] = outline(column, fill+10*(i==0), align=(\"left\",\"right\")[i==0])\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1708", "code": "    # Anchor column is useful in MBSP but not in pattern.en.\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1709", "code": "    if not MBSP:\n", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "C", "line": "1710", "code": "        del columns[6] \n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1711", "code": "    # Create a string with one row (i.e., one token) per line.\n", "colour": "black", "author": "tom@organisms.be"}, {"error": "C", "line": "1712", "code": "    return \"\\n\".join([\"\".join([x[i] for x in columns]) for i in range(len(columns[0]))])\n", "colour": "blue", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}, {"error": "none", "line": "1713", "code": "    ", "colour": "black", "author": "tomdesmedt@gmail.com@b69ec992-5447-3b6c-d919-7ed00d13665f"}]]}